function WX(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o6(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var JA={exports:{}},Qv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL;function YX(){if(uL)return Qv;uL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Qv.Fragment=e,Qv.jsx=n,Qv.jsxs=n,Qv}var fL;function KX(){return fL||(fL=1,JA.exports=YX()),JA.exports}var R=KX(),eT={exports:{}},vn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL;function $X(){if(dL)return vn;dL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S(q,se,ge){this.props=q,this.context=se,this.refs=E,this.updater=ge||y}S.prototype.isReactComponent={},S.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function M(){}M.prototype=S.prototype;function C(q,se,ge){this.props=q,this.context=se,this.refs=E,this.updater=ge||y}var T=C.prototype=new M;T.constructor=C,_(T,S.prototype),T.isPureReactComponent=!0;var L=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function z(q,se,ge,_e,Ae,Qe){return ge=Qe.ref,{$$typeof:t,type:q,key:se,ref:ge!==void 0?ge:null,props:Qe}}function F(q,se){return z(q.type,se,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function j(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return se[ge]})}var k=/\/+/g;function Z(q,se){return typeof q=="object"&&q!==null&&q.key!=null?j(""+q.key):se.toString(36)}function ee(){}function re(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ee,ee):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ae(q,se,ge,_e,Ae){var Qe=typeof q;(Qe==="undefined"||Qe==="boolean")&&(q=null);var pe=!1;if(q===null)pe=!0;else switch(Qe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(q.$$typeof){case t:case e:pe=!0;break;case d:return pe=q._init,ae(pe(q._payload),se,ge,_e,Ae)}}if(pe)return Ae=Ae(q),pe=_e===""?"."+Z(q,0):_e,L(Ae)?(ge="",pe!=null&&(ge=pe.replace(k,"$&/")+"/"),ae(Ae,se,ge,"",function(xe){return xe})):Ae!=null&&(I(Ae)&&(Ae=F(Ae,ge+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(k,"$&/")+"/")+pe)),se.push(Ae)),1;pe=0;var Le=_e===""?".":_e+":";if(L(q))for(var Ye=0;Ye<q.length;Ye++)_e=q[Ye],Qe=Le+Z(_e,Ye),pe+=ae(_e,se,ge,Qe,Ae);else if(Ye=v(q),typeof Ye=="function")for(q=Ye.call(q),Ye=0;!(_e=q.next()).done;)_e=_e.value,Qe=Le+Z(_e,Ye++),pe+=ae(_e,se,ge,Qe,Ae);else if(Qe==="object"){if(typeof q.then=="function")return ae(re(q),se,ge,_e,Ae);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return pe}function H(q,se,ge){if(q==null)return q;var _e=[],Ae=0;return ae(q,_e,"","",function(Qe){return se.call(ge,Qe,Ae++)}),_e}function X(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var K=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ne(){}return vn.Children={map:H,forEach:function(q,se,ge){H(q,function(){se.apply(this,arguments)},ge)},count:function(q){var se=0;return H(q,function(){se++}),se},toArray:function(q){return H(q,function(se){return se})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},vn.Component=S,vn.Fragment=n,vn.Profiler=r,vn.PureComponent=C,vn.StrictMode=i,vn.Suspense=c,vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,vn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return P.H.useMemoCache(q)}},vn.cache=function(q){return function(){return q.apply(null,arguments)}},vn.cloneElement=function(q,se,ge){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var _e=_({},q.props),Ae=q.key,Qe=void 0;if(se!=null)for(pe in se.ref!==void 0&&(Qe=void 0),se.key!==void 0&&(Ae=""+se.key),se)!N.call(se,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&se.ref===void 0||(_e[pe]=se[pe]);var pe=arguments.length-2;if(pe===1)_e.children=ge;else if(1<pe){for(var Le=Array(pe),Ye=0;Ye<pe;Ye++)Le[Ye]=arguments[Ye+2];_e.children=Le}return z(q.type,Ae,void 0,void 0,Qe,_e)},vn.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},vn.createElement=function(q,se,ge){var _e,Ae={},Qe=null;if(se!=null)for(_e in se.key!==void 0&&(Qe=""+se.key),se)N.call(se,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ae[_e]=se[_e]);var pe=arguments.length-2;if(pe===1)Ae.children=ge;else if(1<pe){for(var Le=Array(pe),Ye=0;Ye<pe;Ye++)Le[Ye]=arguments[Ye+2];Ae.children=Le}if(q&&q.defaultProps)for(_e in pe=q.defaultProps,pe)Ae[_e]===void 0&&(Ae[_e]=pe[_e]);return z(q,Qe,void 0,void 0,null,Ae)},vn.createRef=function(){return{current:null}},vn.forwardRef=function(q){return{$$typeof:o,render:q}},vn.isValidElement=I,vn.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:X}},vn.memo=function(q,se){return{$$typeof:f,type:q,compare:se===void 0?null:se}},vn.startTransition=function(q){var se=P.T,ge={};P.T=ge;try{var _e=q(),Ae=P.S;Ae!==null&&Ae(ge,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ne,K)}catch(Qe){K(Qe)}finally{P.T=se}},vn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},vn.use=function(q){return P.H.use(q)},vn.useActionState=function(q,se,ge){return P.H.useActionState(q,se,ge)},vn.useCallback=function(q,se){return P.H.useCallback(q,se)},vn.useContext=function(q){return P.H.useContext(q)},vn.useDebugValue=function(){},vn.useDeferredValue=function(q,se){return P.H.useDeferredValue(q,se)},vn.useEffect=function(q,se,ge){var _e=P.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(q,se)},vn.useId=function(){return P.H.useId()},vn.useImperativeHandle=function(q,se,ge){return P.H.useImperativeHandle(q,se,ge)},vn.useInsertionEffect=function(q,se){return P.H.useInsertionEffect(q,se)},vn.useLayoutEffect=function(q,se){return P.H.useLayoutEffect(q,se)},vn.useMemo=function(q,se){return P.H.useMemo(q,se)},vn.useOptimistic=function(q,se){return P.H.useOptimistic(q,se)},vn.useReducer=function(q,se,ge){return P.H.useReducer(q,se,ge)},vn.useRef=function(q){return P.H.useRef(q)},vn.useState=function(q){return P.H.useState(q)},vn.useSyncExternalStore=function(q,se,ge){return P.H.useSyncExternalStore(q,se,ge)},vn.useTransition=function(){return P.H.useTransition()},vn.version="19.1.1",vn}var hL;function kd(){return hL||(hL=1,eT.exports=$X()),eT.exports}var U=kd();const rx=al(U),ZX=WX({__proto__:null,default:rx},[U]);var tT={exports:{}},Jv={},nT={exports:{}},iT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL;function QX(){return pL||(pL=1,(function(t){function e(H,X){var K=H.length;H.push(X);e:for(;0<K;){var ne=K-1>>>1,q=H[ne];if(0<r(q,X))H[ne]=X,H[K]=q,K=ne;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],K=H.pop();if(K!==X){H[0]=K;e:for(var ne=0,q=H.length,se=q>>>1;ne<se;){var ge=2*(ne+1)-1,_e=H[ge],Ae=ge+1,Qe=H[Ae];if(0>r(_e,K))Ae<q&&0>r(Qe,_e)?(H[ne]=Qe,H[Ae]=K,ne=Ae):(H[ne]=_e,H[ge]=K,ne=ge);else if(Ae<q&&0>r(Qe,K))H[ne]=Qe,H[Ae]=K,ne=Ae;else break e}}return X}function r(H,X){var K=H.sortIndex-X.sortIndex;return K!==0?K:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],d=1,m=null,v=3,y=!1,_=!1,E=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var X=n(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=H)i(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function P(H){if(E=!1,L(H),!_)if(n(c)!==null)_=!0,N||(N=!0,Z());else{var X=n(f);X!==null&&ae(P,X.startTime-H)}}var N=!1,z=-1,F=5,I=-1;function j(){return S?!0:!(t.unstable_now()-I<F)}function k(){if(S=!1,N){var H=t.unstable_now();I=H;var X=!0;try{e:{_=!1,E&&(E=!1,C(z),z=-1),y=!0;var K=v;try{t:{for(L(H),m=n(c);m!==null&&!(m.expirationTime>H&&j());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,v=m.priorityLevel;var q=ne(m.expirationTime<=H);if(H=t.unstable_now(),typeof q=="function"){m.callback=q,L(H),X=!0;break t}m===n(c)&&i(c),L(H)}else i(c);m=n(c)}if(m!==null)X=!0;else{var se=n(f);se!==null&&ae(P,se.startTime-H),X=!1}}break e}finally{m=null,v=K,y=!1}X=void 0}}finally{X?Z():N=!1}}}var Z;if(typeof T=="function")Z=function(){T(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,re=ee.port2;ee.port1.onmessage=k,Z=function(){re.postMessage(null)}}else Z=function(){M(k,0)};function ae(H,X){z=M(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var K=v;v=X;try{return H()}finally{v=K}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=v;v=H;try{return X()}finally{v=K}},t.unstable_scheduleCallback=function(H,X,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,H={id:d++,callback:X,priorityLevel:H,startTime:K,expirationTime:q,sortIndex:-1},K>ne?(H.sortIndex=K,e(f,H),n(c)===null&&H===n(f)&&(E?(C(z),z=-1):E=!0,ae(P,K-ne))):(H.sortIndex=q,e(c,H),_||y||(_=!0,N||(N=!0,Z()))),H},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(H){var X=v;return function(){var K=v;v=X;try{return H.apply(this,arguments)}finally{v=K}}}})(iT)),iT}var mL;function JX(){return mL||(mL=1,nT.exports=QX()),nT.exports}var rT={exports:{}},Aa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL;function eW(){if(gL)return Aa;gL=1;var t=kd();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Aa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Aa.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,d)},Aa.flushSync=function(c){var f=s.T,d=i.p;try{if(s.T=null,i.p=2,c)return c()}finally{s.T=f,i.p=d,i.d.f()}},Aa.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Aa.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Aa.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:y}):d==="script"&&i.d.X(c,{crossOrigin:m,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Aa.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Aa.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin);i.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Aa.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Aa.requestFormReset=function(c){i.d.r(c)},Aa.unstable_batchedUpdates=function(c,f){return c(f)},Aa.useFormState=function(c,f,d){return s.H.useFormState(c,f,d)},Aa.useFormStatus=function(){return s.H.useHostTransitionStatus()},Aa.version="19.1.1",Aa}var vL;function l6(){if(vL)return rT.exports;vL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rT.exports=eW(),rT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL;function tW(){if(yL)return Jv;yL=1;var t=JX(),e=kd(),n=l6();function i(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(a(l)!==l)throw Error(i(188))}function c(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(i(188));return u!==l?null:l}for(var g=l,x=u;;){var w=g.return;if(w===null)break;var O=w.alternate;if(O===null){if(x=w.return,x!==null){g=x;continue}break}if(w.child===O.child){for(O=w.child;O;){if(O===g)return o(w),l;if(O===x)return o(w),u;O=O.sibling}throw Error(i(188))}if(g.return!==x.return)g=w,x=O;else{for(var V=!1,W=w.child;W;){if(W===g){V=!0,g=w,x=O;break}if(W===x){V=!0,x=w,g=O;break}W=W.sibling}if(!V){for(W=O.child;W;){if(W===g){V=!0,g=O,x=w;break}if(W===x){V=!0,x=O,g=w;break}W=W.sibling}if(!V)throw Error(i(189))}}if(g.alternate!==x)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var d=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function Z(l){return l===null||typeof l!="object"?null:(l=k&&l[k]||l["@@iterator"],typeof l=="function"?l:null)}var ee=Symbol.for("react.client.reference");function re(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ee?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case T:return(l.displayName||"Context")+".Provider";case C:return(l._context.displayName||"Context")+".Consumer";case L:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case z:return u=l.displayName||null,u!==null?u:re(l.type)||"Memo";case F:u=l._payload,l=l._init;try{return re(l(u))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ne=[],q=-1;function se(l){return{current:l}}function ge(l){0>q||(l.current=ne[q],ne[q]=null,q--)}function _e(l,u){q++,ne[q]=l.current,l.current=u}var Ae=se(null),Qe=se(null),pe=se(null),Le=se(null);function Ye(l,u){switch(_e(pe,u),_e(Qe,l),_e(Ae,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?BP(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=BP(u),l=jP(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ge(Ae),_e(Ae,l)}function xe(){ge(Ae),ge(Qe),ge(pe)}function Ge(l){l.memoizedState!==null&&_e(Le,l);var u=Ae.current,g=jP(u,l.type);u!==g&&(_e(Qe,l),_e(Ae,g))}function $e(l){Qe.current===l&&(ge(Ae),ge(Qe)),Le.current===l&&(ge(Le),Wv._currentValue=K)}var Ue=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,Q=t.unstable_shouldYield,Fe=t.unstable_requestPaint,je=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,Ze=t.unstable_ImmediatePriority,dt=t.unstable_UserBlockingPriority,ot=t.unstable_NormalPriority,vt=t.unstable_LowPriority,J=t.unstable_IdlePriority,G=t.log,ye=t.unstable_setDisableYieldValue,Ie=null,ze=null;function Oe(l){if(typeof G=="function"&&ye(l),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Ie,l)}catch{}}var mt=Math.clz32?Math.clz32:wt,ht=Math.log,Dt=Math.LN2;function wt(l){return l>>>=0,l===0?32:31-(ht(l)/Dt|0)|0}var We=256,nt=4194304;function At(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function ce(l,u,g){var x=l.pendingLanes;if(x===0)return 0;var w=0,O=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var W=x&134217727;return W!==0?(x=W&~O,x!==0?w=At(x):(V&=W,V!==0?w=At(V):g||(g=W&~l,g!==0&&(w=At(g))))):(W=x&~O,W!==0?w=At(W):V!==0?w=At(V):g||(g=x&~l,g!==0&&(w=At(g)))),w===0?0:u!==0&&u!==w&&(u&O)===0&&(O=w&-w,g=u&-u,O>=g||O===32&&(g&4194048)!==0)?u:w}function Me(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Je(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ie(){var l=We;return We<<=1,(We&4194048)===0&&(We=256),l}function et(){var l=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),l}function it(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function rt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function tt(l,u,g,x,w,O){var V=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var W=l.entanglements,oe=l.expirationTimes,Se=l.hiddenUpdates;for(g=V&~g;0<g;){var Ve=31-mt(g),Ke=1<<Ve;W[Ve]=0,oe[Ve]=-1;var we=Se[Ve];if(we!==null)for(Se[Ve]=null,Ve=0;Ve<we.length;Ve++){var Ce=we[Ve];Ce!==null&&(Ce.lane&=-536870913)}g&=~Ke}x!==0&&qe(l,x,0),O!==0&&w===0&&l.tag!==0&&(l.suspendedLanes|=O&~(V&~u))}function qe(l,u,g){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-mt(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|g&4194090}function gt(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var x=31-mt(g),w=1<<x;w&u|l[x]&u&&(l[x]|=u),g&=~w}}function Ot(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function mn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function fn(){var l=X.p;return l!==0?l:(l=window.event,l===void 0?32:rL(l.type))}function tr(l,u){var g=X.p;try{return X.p=l,u()}finally{X.p=g}}var ti=Math.random().toString(36).slice(2),nr="__reactFiber$"+ti,ir="__reactProps$"+ti,$s="__reactContainer$"+ti,hr="__reactEvents$"+ti,yf="__reactListeners$"+ti,Zs="__reactHandles$"+ti,Fa="__reactResources$"+ti,ka="__reactMarker$"+ti;function ni(l){delete l[nr],delete l[ir],delete l[hr],delete l[yf],delete l[Zs]}function Va(l){var u=l[nr];if(u)return u;for(var g=l.parentNode;g;){if(u=g[$s]||g[nr]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(l=HP(l);l!==null;){if(g=l[nr])return g;l=HP(l)}return u}l=g,g=l.parentNode}return null}function Qs(l){if(l=l[nr]||l[$s]){var u=l.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return l}return null}function ll(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(i(33))}function cl(l){var u=l[Fa];return u||(u=l[Fa]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function qi(l){l[ka]=!0}var xf=new Set,bf={};function Js(l,u){Di(l,u),Di(l+"Capture",u)}function Di(l,u){for(bf[l]=u,l=0;l<u.length;l++)xf.add(u[l])}var Y=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),he={},Te={};function Ne(l){return Ue.call(Te,l)?!0:Ue.call(he,l)?!1:Y.test(l)?Te[l]=!0:(he[l]=!0,!1)}function de(l,u,g){if(Ne(u))if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+g)}}function lt(l,u,g){if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+g)}}function ft(l,u,g,x){if(x===null)l.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(u,g,""+x)}}var Et,St;function Lt(l){if(Et===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);Et=u&&u[1]||"",St=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+l+St}var jt=!1;function Pt(l,u){if(!l||jt)return"";jt=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ce){var we=Ce}Reflect.construct(l,[],Ke)}else{try{Ke.call()}catch(Ce){we=Ce}l.call(Ke.prototype)}}else{try{throw Error()}catch(Ce){we=Ce}(Ke=l())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ce){if(Ce&&we&&typeof Ce.stack=="string")return[Ce.stack,we.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),V=O[0],W=O[1];if(V&&W){var oe=V.split(`
`),Se=W.split(`
`);for(w=x=0;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;for(;w<Se.length&&!Se[w].includes("DetermineComponentFrameRoot");)w++;if(x===oe.length||w===Se.length)for(x=oe.length-1,w=Se.length-1;1<=x&&0<=w&&oe[x]!==Se[w];)w--;for(;1<=x&&0<=w;x--,w--)if(oe[x]!==Se[w]){if(x!==1||w!==1)do if(x--,w--,0>w||oe[x]!==Se[w]){var Ve=`
`+oe[x].replace(" at new "," at ");return l.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",l.displayName)),Ve}while(1<=x&&0<=w);break}}}finally{jt=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Lt(g):""}function gn(l){switch(l.tag){case 26:case 27:case 5:return Lt(l.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Pt(l.type,!1);case 11:return Pt(l.type.render,!1);case 1:return Pt(l.type,!0);case 31:return Lt("Activity");default:return""}}function Pn(l){try{var u="";do u+=gn(l),l=l.return;while(l);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function En(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ii(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Gn(l){var u=ii(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),x=""+l[u];if(!l.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,O=g.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return w.call(this)},set:function(V){x=""+V,O.call(this,V)}}),Object.defineProperty(l,u,{enumerable:g.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ut(l){l._valueTracker||(l._valueTracker=Gn(l))}function Yn(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var g=u.getValue(),x="";return l&&(x=ii(l)?l.checked?"true":"false":l.value),l=x,l!==g?(u.setValue(l),!0):!1}function _n(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var wr=/[\n"\\]/g;function Xi(l){return l.replace(wr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function pr(l,u,g,x,w,O,V,W){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),u!=null?V==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+En(u)):l.value!==""+En(u)&&(l.value=""+En(u)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),u!=null?Xn(l,V,En(u)):g!=null?Xn(l,V,En(g)):x!=null&&l.removeAttribute("value"),w==null&&O!=null&&(l.defaultChecked=!!O),w!=null&&(l.checked=w&&typeof w!="function"&&typeof w!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.name=""+En(W):l.removeAttribute("name")}function ul(l,u,g,x,w,O,V,W){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.type=O),u!=null||g!=null){if(!(O!=="submit"&&O!=="reset"||u!=null))return;g=g!=null?""+En(g):"",u=u!=null?""+En(u):g,W||u===l.value||(l.value=u),l.defaultValue=u}x=x??w,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=W?l.checked:!!x,l.defaultChecked=!!x,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V)}function Xn(l,u,g){u==="number"&&_n(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function Mi(l,u,g,x){if(l=l.options,u){u={};for(var w=0;w<g.length;w++)u["$"+g[w]]=!0;for(g=0;g<l.length;g++)w=u.hasOwnProperty("$"+l[g].value),l[g].selected!==w&&(l[g].selected=w),w&&x&&(l[g].defaultSelected=!0)}else{for(g=""+En(g),u=null,w=0;w<l.length;w++){if(l[w].value===g){l[w].selected=!0,x&&(l[w].defaultSelected=!0);return}u!==null||l[w].disabled||(u=l[w])}u!==null&&(u.selected=!0)}}function ea(l,u,g){if(u!=null&&(u=""+En(u),u!==l.value&&(l.value=u),g==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=g!=null?""+En(g):""}function rr(l,u,g,x){if(u==null){if(x!=null){if(g!=null)throw Error(i(92));if(ae(x)){if(1<x.length)throw Error(i(93));x=x[0]}g=x}g==null&&(g=""),u=g}g=En(u),l.defaultValue=g,x=l.textContent,x===g&&x!==""&&x!==null&&(l.value=x)}function ri(l,u){if(u){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=u;return}}l.textContent=u}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ha(l,u,g){var x=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,g):typeof g!="number"||g===0||_f.has(u)?u==="float"?l.cssFloat=g:l[u]=(""+g).trim():l[u]=g+"px"}function Qd(l,u,g){if(u!=null&&typeof u!="object")throw Error(i(62));if(l=l.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var w in u)x=u[w],u.hasOwnProperty(w)&&g[w]!==x&&Ha(l,w,x)}else for(var O in u)u.hasOwnProperty(O)&&Ha(l,O,u[O])}function tm(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jd(l){return Pb.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var nm=null;function im(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Zl=null,ru=null;function Fg(l){var u=Qs(l);if(u&&(l=u.stateNode)){var g=l[ir]||null;e:switch(l=u.stateNode,u.type){case"input":if(pr(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Xi(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var x=g[u];if(x!==l&&x.form===l.form){var w=x[ir]||null;if(!w)throw Error(i(90));pr(x,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<g.length;u++)x=g[u],x.form===l.form&&Yn(x)}break e;case"textarea":ea(l,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&Mi(l,!!g.multiple,u,!1)}}}var eh=!1;function kg(l,u,g){if(eh)return l(u,g);eh=!0;try{var x=l(u);return x}finally{if(eh=!1,(Zl!==null||ru!==null)&&(Fo(),Zl&&(u=Zl,l=ru,ru=Zl=null,Fg(u),l)))for(u=0;u<l.length;u++)Fg(l[u])}}function Sf(l,u){var g=l.stateNode;if(g===null)return null;var x=g[ir]||null;if(x===null)return null;g=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,u,typeof g));return g}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),th=!1;if(wo)try{var Mf={};Object.defineProperty(Mf,"passive",{get:function(){th=!0}}),window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,Mf)}catch{th=!1}var fl=null,Vg=null,rm=null;function Hg(){if(rm)return rm;var l,u=Vg,g=u.length,x,w="value"in fl?fl.value:fl.textContent,O=w.length;for(l=0;l<g&&u[l]===w[l];l++);var V=g-l;for(x=1;x<=V&&u[g-x]===w[O-x];x++);return rm=w.slice(l,1<x?1-x:void 0)}function Ql(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Ef(){return!0}function nh(){return!1}function ta(l){function u(g,x,w,O,V){this._reactName=g,this._targetInst=w,this.type=x,this.nativeEvent=O,this.target=V,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(g=l[W],this[W]=g?g(O):O[W]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Ef:nh,this.isPropagationStopped=nh,this}return d(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),u}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=ta(Jl),Af=d({},Jl,{view:0,detail:0}),Lb=ta(Af),dl,Tf,Cf,Rf=d({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Cf&&(Cf&&l.type==="mousemove"?(dl=l.screenX-Cf.screenX,Tf=l.screenY-Cf.screenY):Tf=dl=0,Cf=l),dl)},movementY:function(l){return"movementY"in l?l.movementY:Tf}}),Gg=ta(Rf),Ub=d({},Rf,{dataTransfer:0}),vA=ta(Ub),Ar=d({},Af,{relatedTarget:0}),am=ta(Ar),Ib=d({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=ta(Ib),Bb=d({},Jl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),jb=ta(Bb),ih=d({},Jl,{data:0}),sm=ta(ih),Fb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qg(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Vb[l])?!!u[l]:!1}function rh(){return qg}var Hb=d({},Af,{key:function(l){if(l.key){var u=Fb[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ql(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?kb[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(l){return l.type==="keypress"?Ql(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ql(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Xg=ta(Hb),Wg=d({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=ta(Wg),Gb=d({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),Yg=ta(Gb),qb=d({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),hl=ta(qb),Kg=d({},Rf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=ta(Kg),Xb=d({},Jl,{newState:0,oldState:0}),ec=ta(Xb),pl=[9,13,27,32],ah=wo&&"CompositionEvent"in window,au=null;wo&&"documentMode"in document&&(au=document.documentMode);var sh=wo&&"TextEvent"in window&&!au,oh=wo&&(!ah||au&&8<au&&11>=au),tc=" ",Tr=!1;function lh(l,u){switch(l){case"keyup":return pl.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var nc=!1;function ch(l,u){switch(l){case"compositionend":return $g(u);case"keypress":return u.which!==32?null:(Tr=!0,tc);case"textInput":return l=u.data,l===tc&&Tr?null:l;default:return null}}function Zg(l,u){if(nc)return l==="compositionend"||!ah&&lh(l,u)?(l=Hg(),rm=Vg=fl=null,nc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return oh&&u.locale!=="ko"?null:u.data;default:return null}}var lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!lm[l.type]:u==="textarea"}function ya(l,u,g,x){Zl?ru?ru.push(x):ru=[x]:Zl=x,u=q1(u,"onChange"),0<u.length&&(g=new wf("onChange","change",null,g,x),l.push({event:g,listeners:u}))}var Of=null,su=null;function Wb(l){PP(l,0)}function uh(l){var u=ll(l);if(Yn(u))return l}function cm(l,u){if(l==="change")return u}var um=!1;if(wo){var fm;if(wo){var Df="oninput"in document;if(!Df){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Df=typeof Nf.oninput=="function"}fm=Df}else fm=!1;um=fm&&(!document.documentMode||9<document.documentMode)}function mi(){Of&&(Of.detachEvent("onpropertychange",Yb),su=Of=null)}function Yb(l){if(l.propertyName==="value"&&uh(su)){var u=[];ya(u,su,l,im(l)),kg(Wb,u)}}function xA(l,u,g){l==="focusin"?(mi(),Of=u,su=g,Of.attachEvent("onpropertychange",Yb)):l==="focusout"&&mi()}function Kb(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return uh(su)}function fh(l,u){if(l==="click")return uh(u)}function ic(l,u){if(l==="input"||l==="change")return uh(u)}function $b(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var xa=typeof Object.is=="function"?Object.is:$b;function eo(l,u){if(xa(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),x=Object.keys(u);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var w=g[x];if(!Ue.call(u,w)||!xa(l[w],u[w]))return!1}return!0}function ba(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Jg(l,u){var g=ba(l);l=0;for(var x;g;){if(g.nodeType===3){if(x=l+g.textContent.length,l<=u&&x>=u)return{node:g,offset:u-l};l=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ba(g)}}function ev(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?ev(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function tv(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=_n(l.document);u instanceof l.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)l=u.contentWindow;else break;u=_n(l.document)}return u}function dh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var nv=wo&&"documentMode"in document&&11>=document.documentMode,ml=null,dm=null,hh=null,hm=!1;function iv(l,u,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;hm||ml==null||ml!==_n(x)||(x=ml,"selectionStart"in x&&dh(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),hh&&eo(hh,x)||(hh=x,x=q1(dm,"onSelect"),0<x.length&&(u=new wf("onSelect","select",null,u,g),l.push({event:u,listeners:x}),u.target=ml)))}function Cr(l,u){var g={};return g[l.toLowerCase()]=u.toLowerCase(),g["Webkit"+l]="webkit"+u,g["Moz"+l]="moz"+u,g}var rc={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},pm={},Zb={};wo&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function gl(l){if(pm[l])return pm[l];if(!rc[l])return l;var u=rc[l],g;for(g in u)if(u.hasOwnProperty(g)&&g in Zb)return pm[l]=u[g];return l}var na=gl("animationend"),rv=gl("animationiteration"),_a=gl("animationstart"),Qb=gl("transitionrun"),vl=gl("transitionstart"),Pf=gl("transitioncancel"),yl=gl("transitionend"),mm=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function mr(l,u){mm.set(l,u),Js(u,[l])}var av=new WeakMap;function Rr(l,u){if(typeof l=="object"&&l!==null){var g=av.get(l);return g!==void 0?g:(u={value:l,source:u,stack:Pn(u)},av.set(l,u),u)}return{value:l,source:u,stack:Pn(u)}}var Hr=[],vs=0,gm=0;function mh(){for(var l=vs,u=gm=vs=0;u<l;){var g=Hr[u];Hr[u++]=null;var x=Hr[u];Hr[u++]=null;var w=Hr[u];Hr[u++]=null;var O=Hr[u];if(Hr[u++]=null,x!==null&&w!==null){var V=x.pending;V===null?w.next=w:(w.next=V.next,V.next=w),x.pending=w}O!==0&&sv(g,w,O)}}function ac(l,u,g,x){Hr[vs++]=l,Hr[vs++]=u,Hr[vs++]=g,Hr[vs++]=x,gm|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function vm(l,u,g,x){return ac(l,u,g,x),Lf(l)}function xl(l,u){return ac(l,null,null,u),Lf(l)}function sv(l,u,g){l.lanes|=g;var x=l.alternate;x!==null&&(x.lanes|=g);for(var w=!1,O=l.return;O!==null;)O.childLanes|=g,x=O.alternate,x!==null&&(x.childLanes|=g),O.tag===22&&(l=O.stateNode,l===null||l._visibility&1||(w=!0)),l=O,O=O.return;return l.tag===3?(O=l.stateNode,w&&u!==null&&(w=31-mt(g),l=O.hiddenUpdates,x=l[w],x===null?l[w]=[u]:x.push(u),u.lane=g|536870912),O):null}function Lf(l){if(50<jo)throw jo=0,Eu=null,Error(i(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var sc={};function ov(l,u,g,x){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(l,u,g,x){return new ov(l,u,g,x)}function gh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ni(l,u){var g=l.alternate;return g===null?(g=Sa(l.tag,u,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function lv(l,u){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,u=g.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function gr(l,u,g,x,w,O){var V=0;if(x=l,typeof l=="function")gh(l)&&(V=1);else if(typeof l=="string")V=LX(l,g,Ae.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=Sa(31,g,u,w),l.elementType=I,l.lanes=O,l;case _:return oc(g.children,w,O,u);case E:V=8,w|=24;break;case S:return l=Sa(12,g,u,w|2),l.elementType=S,l.lanes=O,l;case P:return l=Sa(13,g,u,w),l.elementType=P,l.lanes=O,l;case N:return l=Sa(19,g,u,w),l.elementType=N,l.lanes=O,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case T:V=10;break e;case C:V=9;break e;case L:V=11;break e;case z:V=14;break e;case F:V=16,x=null;break e}V=29,g=Error(i(130,l===null?"null":typeof l,"")),x=null}return u=Sa(V,g,u,w),u.elementType=l,u.type=x,u.lanes=O,u}function oc(l,u,g,x){return l=Sa(7,l,x,u),l.lanes=g,l}function vh(l,u,g){return l=Sa(6,l,null,u),l.lanes=g,l}function ym(l,u,g){return u=Sa(4,l.children!==null?l.children:[],l.key,u),u.lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Uf=[],Ma=0,yh=null,If=0,Or=[],Ga=0,lc=null,Ao=1,To="";function bl(l,u){Uf[Ma++]=If,Uf[Ma++]=yh,yh=l,If=u}function xm(l,u,g){Or[Ga++]=Ao,Or[Ga++]=To,Or[Ga++]=lc,lc=l;var x=Ao;l=To;var w=32-mt(x)-1;x&=~(1<<w),g+=1;var O=32-mt(u)+w;if(30<O){var V=w-w%5;O=(x&(1<<V)-1).toString(32),x>>=V,w-=V,Ao=1<<32-mt(u)+w|g<<w|x,To=O+l}else Ao=1<<O|g<<w|x,To=l}function cv(l){l.return!==null&&(bl(l,1),xm(l,1,0))}function uv(l){for(;l===yh;)yh=Uf[--Ma],Uf[Ma]=null,If=Uf[--Ma],Uf[Ma]=null;for(;l===lc;)lc=Or[--Ga],Or[Ga]=null,To=Or[--Ga],Or[Ga]=null,Ao=Or[--Ga],Or[Ga]=null}var ia=null,yi=null,Ln=!1,ys=null,qa=!1,bm=Error(i(519));function cc(l){var u=Error(i(418,""));throw ou(Rr(u,l)),bm}function Jb(l){var u=l.stateNode,g=l.type,x=l.memoizedProps;switch(u[nr]=l,u[ir]=x,g){case"dialog":Cn("cancel",u),Cn("close",u);break;case"iframe":case"object":case"embed":Cn("load",u);break;case"video":case"audio":for(g=0;g<kv.length;g++)Cn(kv[g],u);break;case"source":Cn("error",u);break;case"img":case"image":case"link":Cn("error",u),Cn("load",u);break;case"details":Cn("toggle",u);break;case"input":Cn("invalid",u),ul(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Ut(u);break;case"select":Cn("invalid",u);break;case"textarea":Cn("invalid",u),rr(u,x.value,x.defaultValue,x.children),Ut(u)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||x.suppressHydrationWarning===!0||zP(u.textContent,g)?(x.popover!=null&&(Cn("beforetoggle",u),Cn("toggle",u)),x.onScroll!=null&&Cn("scroll",u),x.onScrollEnd!=null&&Cn("scrollend",u),x.onClick!=null&&(u.onclick=X1),u=!0):u=!1,u||cc(l)}function fv(l){for(ia=l.return;ia;)switch(ia.tag){case 5:case 13:qa=!1;return;case 27:case 3:qa=!0;return;default:ia=ia.return}}function to(l){if(l!==ia)return!1;if(!Ln)return fv(l),Ln=!0,!1;var u=l.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||jA(l.type,l.memoizedProps)),g=!g),g&&yi&&cc(l),fv(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(u===0){yi=Ll(l.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;l=l.nextSibling}yi=null}}else u===27?(u=yi,od(l.type)?(l=HA,HA=null,yi=l):yi=u):yi=ia?Ll(l.stateNode.nextSibling):null;return!0}function zf(){yi=ia=null,Ln=!1}function jn(){var l=ys;return l!==null&&(Ht===null?Ht=l:Ht.push.apply(Ht,l),ys=null),l}function ou(l){ys===null?ys=[l]:ys.push(l)}var dv=se(null),uc=null,_l=null;function fc(l,u,g){_e(dv,u._currentValue),u._currentValue=g}function Sl(l){l._currentValue=dv.current,ge(dv)}function hv(l,u,g){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===g)break;l=l.return}}function xh(l,u,g,x){var w=l.child;for(w!==null&&(w.return=l);w!==null;){var O=w.dependencies;if(O!==null){var V=w.child;O=O.firstContext;e:for(;O!==null;){var W=O;O=w;for(var oe=0;oe<u.length;oe++)if(W.context===u[oe]){O.lanes|=g,W=O.alternate,W!==null&&(W.lanes|=g),hv(O.return,g,l),x||(V=null);break e}O=W.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(i(341));V.lanes|=g,O=V.alternate,O!==null&&(O.lanes|=g),hv(V,g,l),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===l){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function xs(l,u,g,x){l=null;for(var w=u,O=!1;w!==null;){if(!O){if((w.flags&524288)!==0)O=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var W=w.type;xa(w.pendingProps.value,V.value)||(l!==null?l.push(W):l=[W])}}else if(w===Le.current){if(V=w.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(l!==null?l.push(Wv):l=[Wv])}w=w.return}l!==null&&xh(u,l,g,x),u.flags|=262144}function bh(l){for(l=l.firstContext;l!==null;){if(!xa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Co(l){uc=l,_l=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ei(l){return _m(uc,l)}function _h(l,u){return uc===null&&Co(l),_m(l,u)}function _m(l,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},_l===null){if(l===null)throw Error(i(308));_l=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else _l=_l.next=u;return g}var pv=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(g,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(g){return g()})}},bA=t.unstable_scheduleCallback,e1=t.unstable_NormalPriority,Wi={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sm(){return{controller:new pv,data:new Map,refCount:0}}function Bf(l){l.refCount--,l.refCount===0&&bA(e1,function(){l.controller.abort()})}var jf=null,Sh=0,rn=0,Ff=null;function Xa(l,u){if(jf===null){var g=jf=[];Sh=0,rn=OA(),Ff={status:"pending",value:void 0,then:function(x){g.push(x)}}}return Sh++,u.then(Mm,Mm),u}function Mm(){if(--Sh===0&&jf!==null){Ff!==null&&(Ff.status="fulfilled");var l=jf;jf=null,rn=0,Ff=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function _A(l,u){var g=[],x={status:"pending",value:null,reason:null,then:function(w){g.push(w)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var w=0;w<g.length;w++)(0,g[w])(u)},function(w){for(x.status="rejected",x.reason=w,w=0;w<g.length;w++)(0,g[w])(void 0)}),x}var Mh=H.S;H.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Xa(l,u),Mh!==null&&Mh(l,u)};var bs=se(null);function dc(){var l=bs.current;return l!==null?l:tn.pooledCache}function Eh(l,u){u===null?_e(bs,bs.current):_e(bs,u.pool)}function Em(){var l=dc();return l===null?null:{parent:Wi._currentValue,pool:l}}var wh=Error(i(460)),mv=Error(i(474)),no=Error(i(542)),Ah={then:function(){}};function wm(l){return l=l.status,l==="fulfilled"||l==="rejected"}function kf(){}function Am(l,u,g){switch(g=l[g],g===void 0?l.push(u):g!==u&&(u.then(kf,kf),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,t1(l),l;default:if(typeof u.status=="string")u.then(kf,kf);else{if(l=tn,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=x}},function(x){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,t1(l),l}throw _s=u,wh}}var _s=null;function gv(){if(_s===null)throw Error(i(459));var l=_s;return _s=null,l}function t1(l){if(l===wh||l===no)throw Error(i(483))}var Ml=!1;function vv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wt(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ro(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function El(l,u,g){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Fn&2)!==0){var w=x.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),x.pending=u,u=Lf(l),sv(l,null,g),u}return ac(l,x,u,g),Lf(l)}function lu(l,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,g|=x,u.lanes=g,gt(l,g)}}function Vf(l,u){var g=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var w=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};O===null?w=O=V:O=O.next=V,g=g.next}while(g!==null);O===null?w=O=u:O=O.next=u}else w=O=u;g={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}var yv=!1;function Th(){if(yv){var l=Ff;if(l!==null)throw l}}function Hf(l,u,g,x){yv=!1;var w=l.updateQueue;Ml=!1;var O=w.firstBaseUpdate,V=w.lastBaseUpdate,W=w.shared.pending;if(W!==null){w.shared.pending=null;var oe=W,Se=oe.next;oe.next=null,V===null?O=Se:V.next=Se,V=oe;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,W=Ve.lastBaseUpdate,W!==V&&(W===null?Ve.firstBaseUpdate=Se:W.next=Se,Ve.lastBaseUpdate=oe))}if(O!==null){var Ke=w.baseState;V=0,Ve=Se=oe=null,W=O;do{var we=W.lane&-536870913,Ce=we!==W.lane;if(Ce?(Bt&we)===we:(x&we)===we){we!==0&&we===rn&&(yv=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Zt=l,qt=W;we=u;var ci=g;switch(qt.tag){case 1:if(Zt=qt.payload,typeof Zt=="function"){Ke=Zt.call(ci,Ke,we);break e}Ke=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=qt.payload,we=typeof Zt=="function"?Zt.call(ci,Ke,we):Zt,we==null)break e;Ke=d({},Ke,we);break e;case 2:Ml=!0}}we=W.callback,we!==null&&(l.flags|=64,Ce&&(l.flags|=8192),Ce=w.callbacks,Ce===null?w.callbacks=[we]:Ce.push(we))}else Ce={lane:we,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ve===null?(Se=Ve=Ce,oe=Ke):Ve=Ve.next=Ce,V|=we;if(W=W.next,W===null){if(W=w.shared.pending,W===null)break;Ce=W,W=Ce.next,Ce.next=null,w.lastBaseUpdate=Ce,w.shared.pending=null}}while(!0);Ve===null&&(oe=Ke),w.baseState=oe,w.firstBaseUpdate=Se,w.lastBaseUpdate=Ve,O===null&&(w.shared.lanes=0),uo|=V,l.lanes=V,l.memoizedState=Ke}}function Gf(l,u){if(typeof l!="function")throw Error(i(191,l));l.call(u)}function n1(l,u){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Gf(g[l],u)}var qf=se(null),Tm=se(0);function i1(l,u){l=Ts,_e(Tm,l),_e(qf,u),Ts=l|u.baseLanes}function xv(){_e(Tm,Ts),_e(qf,qf.current)}function Ch(){Ts=Tm.current,ge(qf),ge(Tm)}var wl=0,an=null,qn=null,Yi=null,Cm=!1,hc=!1,ra=!1,ar=0,Ss=0,Dr=null,r1=0;function Pi(){throw Error(i(321))}function Gr(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!xa(l[g],u[g]))return!1;return!0}function Al(l,u,g,x,w,O){return wl=O,an=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=l===null||l.memoizedState===null?zm:Uv,ra=!1,O=g(x,w),ra=!1,hc&&(O=s1(u,g,x,w)),a1(l),O}function a1(l){H.H=Dh;var u=qn!==null&&qn.next!==null;if(wl=0,Yi=qn=an=null,Cm=!1,Ss=0,Dr=null,u)throw Error(i(300));l===null||vr||(l=l.dependencies,l!==null&&bh(l)&&(vr=!0))}function s1(l,u,g,x){an=l;var w=0;do{if(hc&&(Dr=null),Ss=0,hc=!1,25<=w)throw Error(i(301));if(w+=1,Yi=qn=null,l.updateQueue!=null){var O=l.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}H.H=N1,O=u(g,x)}while(hc);return O}function SA(){var l=H.H,u=l.useState()[0];return u=typeof u.then=="function"?io(u):u,l=l.useState()[0],(qn!==null?qn.memoizedState:null)!==l&&(an.flags|=1024),u}function bv(){var l=ar!==0;return ar=0,l}function Rm(l,u,g){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~g}function _v(l){if(Cm){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Cm=!1}wl=0,Yi=qn=an=null,hc=!1,Ss=ar=0,Dr=null}function aa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?an.memoizedState=Yi=l:Yi=Yi.next=l,Yi}function Ki(){if(qn===null){var l=an.alternate;l=l!==null?l.memoizedState:null}else l=qn.next;var u=Yi===null?an.memoizedState:Yi.next;if(u!==null)Yi=u,qn=l;else{if(l===null)throw an.alternate===null?Error(i(467)):Error(i(310));qn=l,l={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Yi===null?an.memoizedState=Yi=l:Yi=Yi.next=l}return Yi}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(l){var u=Ss;return Ss+=1,Dr===null&&(Dr=[]),l=Am(Dr,l,u),u=an,(Yi===null?u.memoizedState:Yi.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?zm:Uv),l}function Om(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return io(l);if(l.$$typeof===T)return Ei(l)}throw Error(i(438,String(l)))}function Sv(l){var u=null,g=an.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var x=an.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=pc(),an.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(l),x=0;x<l;x++)g[x]=j;return u.index++,g}function Tl(l,u){return typeof u=="function"?u(l):u}function mc(l){var u=Ki();return Mv(u,qn,l)}function Mv(l,u,g){var x=l.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=g;var w=l.baseQueue,O=x.pending;if(O!==null){if(w!==null){var V=w.next;w.next=O.next,O.next=V}u.baseQueue=w=O,x.pending=null}if(O=l.baseState,w===null)l.memoizedState=O;else{u=w.next;var W=V=null,oe=null,Se=u,Ve=!1;do{var Ke=Se.lane&-536870913;if(Ke!==Se.lane?(Bt&Ke)===Ke:(wl&Ke)===Ke){var we=Se.revertLane;if(we===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Ke===rn&&(Ve=!0);else if((wl&we)===we){Se=Se.next,we===rn&&(Ve=!0);continue}else Ke={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(W=oe=Ke,V=O):oe=oe.next=Ke,an.lanes|=we,uo|=we;Ke=Se.action,ra&&g(O,Ke),O=Se.hasEagerState?Se.eagerState:g(O,Ke)}else we={lane:Ke,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},oe===null?(W=oe=we,V=O):oe=oe.next=we,an.lanes|=Ke,uo|=Ke;Se=Se.next}while(Se!==null&&Se!==u);if(oe===null?V=O:oe.next=W,!xa(O,l.memoizedState)&&(vr=!0,Ve&&(g=Ff,g!==null)))throw g;l.memoizedState=O,l.baseState=V,l.baseQueue=oe,x.lastRenderedState=O}return w===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Ev(l){var u=Ki(),g=u.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var x=g.dispatch,w=g.pending,O=u.memoizedState;if(w!==null){g.pending=null;var V=w=w.next;do O=l(O,V.action),V=V.next;while(V!==w);xa(O,u.memoizedState)||(vr=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),g.lastRenderedState=O}return[O,x]}function o1(l,u,g){var x=an,w=Ki(),O=Ln;if(O){if(g===void 0)throw Error(i(407));g=g()}else g=u();var V=!xa((qn||w).memoizedState,g);V&&(w.memoizedState=g,vr=!0),w=w.queue;var W=c1.bind(null,x,w,l);if(Yf(2048,8,W,[l]),w.getSnapshot!==u||V||Yi!==null&&Yi.memoizedState.tag&1){if(x.flags|=2048,Wf(9,Rh(),l1.bind(null,x,w,g,u),null),tn===null)throw Error(i(349));O||(wl&124)!==0||Xf(x,u,g)}return g}function Xf(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},u=an.updateQueue,u===null?(u=pc(),an.updateQueue=u,u.stores=[l]):(g=u.stores,g===null?u.stores=[l]:g.push(l))}function l1(l,u,g,x){u.value=g,u.getSnapshot=x,u1(u)&&f1(l)}function c1(l,u,g){return g(function(){u1(u)&&f1(l)})}function u1(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!xa(l,g)}catch{return!0}}function f1(l){var u=xl(l,2);u!==null&&la(u,l,2)}function wv(l){var u=aa();if(typeof l=="function"){var g=l;if(l=g(),ra){Oe(!0);try{g()}finally{Oe(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:l},u}function d1(l,u,g,x){return l.baseState=g,Mv(l,qn,typeof x=="function"?x:Tl)}function MA(l,u,g,x,w){if(Im(l))throw Error(i(485));if(l=u.action,l!==null){var O={payload:w,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){O.listeners.push(V)}};H.T!==null?g(!0):O.isTransition=!1,x(O),g=u.pending,g===null?(O.next=u.pending=O,h1(u,O)):(O.next=g.next,u.pending=g.next=O)}}function h1(l,u){var g=u.action,x=u.payload,w=l.state;if(u.isTransition){var O=H.T,V={};H.T=V;try{var W=g(w,x),oe=H.S;oe!==null&&oe(V,W),p1(l,u,W)}catch(Se){Av(l,u,Se)}finally{H.T=O}}else try{O=g(w,x),p1(l,u,O)}catch(Se){Av(l,u,Se)}}function p1(l,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){m1(l,u,x)},function(x){return Av(l,u,x)}):m1(l,u,g)}function m1(l,u,g){u.status="fulfilled",u.value=g,g1(u),l.state=g,u=l.pending,u!==null&&(g=u.next,g===u?l.pending=null:(g=g.next,u.next=g,h1(l,g)))}function Av(l,u,g){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=g,g1(u),u=u.next;while(u!==x)}l.action=null}function g1(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Tv(l,u){return u}function v1(l,u){if(Ln){var g=tn.formState;if(g!==null){e:{var x=an;if(Ln){if(yi){t:{for(var w=yi,O=qa;w.nodeType!==8;){if(!O){w=null;break t}if(w=Ll(w.nextSibling),w===null){w=null;break t}}O=w.data,w=O==="F!"||O==="F"?w:null}if(w){yi=Ll(w.nextSibling),x=w.data==="F!";break e}}cc(x)}x=!1}x&&(u=g[0])}}return g=aa(),g.memoizedState=g.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:u},g.queue=x,g=O1.bind(null,an,x),x.dispatch=g,x=wv(!1),O=Um.bind(null,an,!1,x.queue),x=aa(),w={state:u,dispatch:null,action:l,pending:null},x.queue=w,g=MA.bind(null,an,w,O,g),w.dispatch=g,x.memoizedState=l,[u,g,!1]}function y1(l){var u=Ki();return x1(u,qn,l)}function x1(l,u,g){if(u=Mv(l,u,Tv)[0],l=mc(Tl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=io(u)}catch(V){throw V===wh?no:V}else x=u;u=Ki();var w=u.queue,O=w.dispatch;return g!==u.memoizedState&&(an.flags|=2048,Wf(9,Rh(),EA.bind(null,w,g),null)),[x,O,l]}function EA(l,u){l.action=u}function b1(l){var u=Ki(),g=qn;if(g!==null)return x1(u,g,l);Ki(),u=u.memoizedState,g=Ki();var x=g.queue.dispatch;return g.memoizedState=l,[u,x,!1]}function Wf(l,u,g,x){return l={tag:l,create:g,deps:x,inst:u,next:null},u=an.updateQueue,u===null&&(u=pc(),an.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=l.next=l:(x=g.next,g.next=l,l.next=x,u.lastEffect=l),l}function Rh(){return{destroy:void 0,resource:void 0}}function Cv(){return Ki().memoizedState}function Dm(l,u,g,x){var w=aa();x=x===void 0?null:x,an.flags|=l,w.memoizedState=Wf(1|u,Rh(),g,x)}function Yf(l,u,g,x){var w=Ki();x=x===void 0?null:x;var O=w.memoizedState.inst;qn!==null&&x!==null&&Gr(x,qn.memoizedState.deps)?w.memoizedState=Wf(u,O,g,x):(an.flags|=l,w.memoizedState=Wf(1|u,O,g,x))}function Rv(l,u){Dm(8390656,8,l,u)}function Ov(l,u){Yf(2048,8,l,u)}function Nm(l,u){return Yf(4,2,l,u)}function Pm(l,u){return Yf(4,4,l,u)}function _1(l,u){if(typeof u=="function"){l=l();var g=u(l);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function S1(l,u,g){g=g!=null?g.concat([l]):null,Yf(4,4,_1.bind(null,u,l),g)}function Dv(){}function M1(l,u){var g=Ki();u=u===void 0?null:u;var x=g.memoizedState;return u!==null&&Gr(u,x[1])?x[0]:(g.memoizedState=[l,u],l)}function Nv(l,u){var g=Ki();u=u===void 0?null:u;var x=g.memoizedState;if(u!==null&&Gr(u,x[1]))return x[0];if(x=l(),ra){Oe(!0);try{l()}finally{Oe(!1)}}return g.memoizedState=[x,u],x}function Lm(l,u,g){return g===void 0||(wl&1073741824)!==0?l.memoizedState=u:(l.memoizedState=g,l=Ym(),an.lanes|=l,uo|=l,g)}function E1(l,u,g,x){return xa(g,u)?g:qf.current!==null?(l=Lm(l,g,x),xa(l,u)||(vr=!0),l):(wl&42)===0?(vr=!0,l.memoizedState=g):(l=Ym(),an.lanes|=l,uo|=l,u)}function w1(l,u,g,x,w){var O=X.p;X.p=O!==0&&8>O?O:8;var V=H.T,W={};H.T=W,Um(l,!1,u,g);try{var oe=w(),Se=H.S;if(Se!==null&&Se(W,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ve=_A(oe,x);Oh(l,u,Ve,Ti(l))}else Oh(l,u,x,Ti(l))}catch(Ke){Oh(l,u,{then:function(){},status:"rejected",reason:Ke},Ti())}finally{X.p=O,H.T=V}}function wA(){}function Pv(l,u,g,x){if(l.tag!==5)throw Error(i(476));var w=A1(l).queue;w1(l,w,u,K,g===null?wA:function(){return T1(l),g(x)})}function A1(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:K},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:g},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function T1(l){var u=A1(l).next.queue;Oh(l,u,{},Ti())}function Lv(){return Ei(Wv)}function C1(){return Ki().memoizedState}function R1(){return Ki().memoizedState}function AA(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var g=Ti();l=Ro(g);var x=El(u,l,g);x!==null&&(la(x,u,g),lu(x,u,g)),u={cache:Sm()},l.payload=u;return}u=u.return}}function TA(l,u,g){var x=Ti();g={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Im(l)?D1(u,g):(g=vm(l,u,g,x),g!==null&&(la(g,l,x),Wa(g,u,x)))}function O1(l,u,g){var x=Ti();Oh(l,u,g,x)}function Oh(l,u,g,x){var w={lane:x,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Im(l))D1(u,w);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var V=u.lastRenderedState,W=O(V,g);if(w.hasEagerState=!0,w.eagerState=W,xa(W,V))return ac(l,u,w,0),tn===null&&mh(),!1}catch{}finally{}if(g=vm(l,u,w,x),g!==null)return la(g,l,x),Wa(g,u,x),!0}return!1}function Um(l,u,g,x){if(x={lane:2,revertLane:OA(),action:x,hasEagerState:!1,eagerState:null,next:null},Im(l)){if(u)throw Error(i(479))}else u=vm(l,g,x,2),u!==null&&la(u,l,2)}function Im(l){var u=l.alternate;return l===an||u!==null&&u===an}function D1(l,u){hc=Cm=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function Wa(l,u,g){if((g&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,g|=x,u.lanes=g,gt(l,g)}}var Dh={readContext:Ei,use:Om,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi},zm={readContext:Ei,use:Om,useCallback:function(l,u){return aa().memoizedState=[l,u===void 0?null:u],l},useContext:Ei,useEffect:Rv,useImperativeHandle:function(l,u,g){g=g!=null?g.concat([l]):null,Dm(4194308,4,_1.bind(null,u,l),g)},useLayoutEffect:function(l,u){return Dm(4194308,4,l,u)},useInsertionEffect:function(l,u){Dm(4,2,l,u)},useMemo:function(l,u){var g=aa();u=u===void 0?null:u;var x=l();if(ra){Oe(!0);try{l()}finally{Oe(!1)}}return g.memoizedState=[x,u],x},useReducer:function(l,u,g){var x=aa();if(g!==void 0){var w=g(u);if(ra){Oe(!0);try{g(u)}finally{Oe(!1)}}}else w=u;return x.memoizedState=x.baseState=w,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:w},x.queue=l,l=l.dispatch=TA.bind(null,an,l),[x.memoizedState,l]},useRef:function(l){var u=aa();return l={current:l},u.memoizedState=l},useState:function(l){l=wv(l);var u=l.queue,g=O1.bind(null,an,u);return u.dispatch=g,[l.memoizedState,g]},useDebugValue:Dv,useDeferredValue:function(l,u){var g=aa();return Lm(g,l,u)},useTransition:function(){var l=wv(!1);return l=w1.bind(null,an,l.queue,!0,!1),aa().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,g){var x=an,w=aa();if(Ln){if(g===void 0)throw Error(i(407));g=g()}else{if(g=u(),tn===null)throw Error(i(349));(Bt&124)!==0||Xf(x,u,g)}w.memoizedState=g;var O={value:g,getSnapshot:u};return w.queue=O,Rv(c1.bind(null,x,O,l),[l]),x.flags|=2048,Wf(9,Rh(),l1.bind(null,x,O,g,u),null),g},useId:function(){var l=aa(),u=tn.identifierPrefix;if(Ln){var g=To,x=Ao;g=(x&~(1<<32-mt(x)-1)).toString(32)+g,u=""+u+"R"+g,g=ar++,0<g&&(u+="H"+g.toString(32)),u+=""}else g=r1++,u=""+u+"r"+g.toString(32)+"";return l.memoizedState=u},useHostTransitionStatus:Lv,useFormState:v1,useActionState:v1,useOptimistic:function(l){var u=aa();u.memoizedState=u.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=Um.bind(null,an,!0,g),g.dispatch=u,[l,u]},useMemoCache:Sv,useCacheRefresh:function(){return aa().memoizedState=AA.bind(null,an)}},Uv={readContext:Ei,use:Om,useCallback:M1,useContext:Ei,useEffect:Ov,useImperativeHandle:S1,useInsertionEffect:Nm,useLayoutEffect:Pm,useMemo:Nv,useReducer:mc,useRef:Cv,useState:function(){return mc(Tl)},useDebugValue:Dv,useDeferredValue:function(l,u){var g=Ki();return E1(g,qn.memoizedState,l,u)},useTransition:function(){var l=mc(Tl)[0],u=Ki().memoizedState;return[typeof l=="boolean"?l:io(l),u]},useSyncExternalStore:o1,useId:C1,useHostTransitionStatus:Lv,useFormState:y1,useActionState:y1,useOptimistic:function(l,u){var g=Ki();return d1(g,qn,l,u)},useMemoCache:Sv,useCacheRefresh:R1},N1={readContext:Ei,use:Om,useCallback:M1,useContext:Ei,useEffect:Ov,useImperativeHandle:S1,useInsertionEffect:Nm,useLayoutEffect:Pm,useMemo:Nv,useReducer:Ev,useRef:Cv,useState:function(){return Ev(Tl)},useDebugValue:Dv,useDeferredValue:function(l,u){var g=Ki();return qn===null?Lm(g,l,u):E1(g,qn.memoizedState,l,u)},useTransition:function(){var l=Ev(Tl)[0],u=Ki().memoizedState;return[typeof l=="boolean"?l:io(l),u]},useSyncExternalStore:o1,useId:C1,useHostTransitionStatus:Lv,useFormState:b1,useActionState:b1,useOptimistic:function(l,u){var g=Ki();return qn!==null?d1(g,qn,l,u):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:Sv,useCacheRefresh:R1},cu=null,Nh=0;function Ph(l){var u=Nh;return Nh+=1,cu===null&&(cu=[]),Am(cu,l,u)}function Kf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Bm(l,u){throw u.$$typeof===m?Error(i(525)):(l=Object.prototype.toString.call(u),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function P1(l){var u=l._init;return u(l._payload)}function L1(l){function u(me,fe){if(l){var be=me.deletions;be===null?(me.deletions=[fe],me.flags|=16):be.push(fe)}}function g(me,fe){if(!l)return null;for(;fe!==null;)u(me,fe),fe=fe.sibling;return null}function x(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function w(me,fe){return me=Ni(me,fe),me.index=0,me.sibling=null,me}function O(me,fe,be){return me.index=be,l?(be=me.alternate,be!==null?(be=be.index,be<fe?(me.flags|=67108866,fe):be):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function V(me){return l&&me.alternate===null&&(me.flags|=67108866),me}function W(me,fe,be,Xe){return fe===null||fe.tag!==6?(fe=vh(be,me.mode,Xe),fe.return=me,fe):(fe=w(fe,be),fe.return=me,fe)}function oe(me,fe,be,Xe){var Ct=be.type;return Ct===_?Ve(me,fe,be.props.children,Xe,be.key):fe!==null&&(fe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===F&&P1(Ct)===fe.type)?(fe=w(fe,be.props),Kf(fe,be),fe.return=me,fe):(fe=gr(be.type,be.key,be.props,null,me.mode,Xe),Kf(fe,be),fe.return=me,fe)}function Se(me,fe,be,Xe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==be.containerInfo||fe.stateNode.implementation!==be.implementation?(fe=ym(be,me.mode,Xe),fe.return=me,fe):(fe=w(fe,be.children||[]),fe.return=me,fe)}function Ve(me,fe,be,Xe,Ct){return fe===null||fe.tag!==7?(fe=oc(be,me.mode,Xe,Ct),fe.return=me,fe):(fe=w(fe,be),fe.return=me,fe)}function Ke(me,fe,be){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=vh(""+fe,me.mode,be),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return be=gr(fe.type,fe.key,fe.props,null,me.mode,be),Kf(be,fe),be.return=me,be;case y:return fe=ym(fe,me.mode,be),fe.return=me,fe;case F:var Xe=fe._init;return fe=Xe(fe._payload),Ke(me,fe,be)}if(ae(fe)||Z(fe))return fe=oc(fe,me.mode,be,null),fe.return=me,fe;if(typeof fe.then=="function")return Ke(me,Ph(fe),be);if(fe.$$typeof===T)return Ke(me,_h(me,fe),be);Bm(me,fe)}return null}function we(me,fe,be,Xe){var Ct=fe!==null?fe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Ct!==null?null:W(me,fe,""+be,Xe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return be.key===Ct?oe(me,fe,be,Xe):null;case y:return be.key===Ct?Se(me,fe,be,Xe):null;case F:return Ct=be._init,be=Ct(be._payload),we(me,fe,be,Xe)}if(ae(be)||Z(be))return Ct!==null?null:Ve(me,fe,be,Xe,null);if(typeof be.then=="function")return we(me,fe,Ph(be),Xe);if(be.$$typeof===T)return we(me,fe,_h(me,be),Xe);Bm(me,be)}return null}function Ce(me,fe,be,Xe,Ct){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return me=me.get(be)||null,W(fe,me,""+Xe,Ct);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case v:return me=me.get(Xe.key===null?be:Xe.key)||null,oe(fe,me,Xe,Ct);case y:return me=me.get(Xe.key===null?be:Xe.key)||null,Se(fe,me,Xe,Ct);case F:var Tn=Xe._init;return Xe=Tn(Xe._payload),Ce(me,fe,be,Xe,Ct)}if(ae(Xe)||Z(Xe))return me=me.get(be)||null,Ve(fe,me,Xe,Ct,null);if(typeof Xe.then=="function")return Ce(me,fe,be,Ph(Xe),Ct);if(Xe.$$typeof===T)return Ce(me,fe,be,_h(fe,Xe),Ct);Bm(fe,Xe)}return null}function Zt(me,fe,be,Xe){for(var Ct=null,Tn=null,zt=fe,Xt=fe=0,Wr=null;zt!==null&&Xt<be.length;Xt++){zt.index>Xt?(Wr=zt,zt=null):Wr=zt.sibling;var Vn=we(me,zt,be[Xt],Xe);if(Vn===null){zt===null&&(zt=Wr);break}l&&zt&&Vn.alternate===null&&u(me,zt),fe=O(Vn,fe,Xt),Tn===null?Ct=Vn:Tn.sibling=Vn,Tn=Vn,zt=Wr}if(Xt===be.length)return g(me,zt),Ln&&bl(me,Xt),Ct;if(zt===null){for(;Xt<be.length;Xt++)zt=Ke(me,be[Xt],Xe),zt!==null&&(fe=O(zt,fe,Xt),Tn===null?Ct=zt:Tn.sibling=zt,Tn=zt);return Ln&&bl(me,Xt),Ct}for(zt=x(zt);Xt<be.length;Xt++)Wr=Ce(zt,me,Xt,be[Xt],Xe),Wr!==null&&(l&&Wr.alternate!==null&&zt.delete(Wr.key===null?Xt:Wr.key),fe=O(Wr,fe,Xt),Tn===null?Ct=Wr:Tn.sibling=Wr,Tn=Wr);return l&&zt.forEach(function(dd){return u(me,dd)}),Ln&&bl(me,Xt),Ct}function qt(me,fe,be,Xe){if(be==null)throw Error(i(151));for(var Ct=null,Tn=null,zt=fe,Xt=fe=0,Wr=null,Vn=be.next();zt!==null&&!Vn.done;Xt++,Vn=be.next()){zt.index>Xt?(Wr=zt,zt=null):Wr=zt.sibling;var dd=we(me,zt,Vn.value,Xe);if(dd===null){zt===null&&(zt=Wr);break}l&&zt&&dd.alternate===null&&u(me,zt),fe=O(dd,fe,Xt),Tn===null?Ct=dd:Tn.sibling=dd,Tn=dd,zt=Wr}if(Vn.done)return g(me,zt),Ln&&bl(me,Xt),Ct;if(zt===null){for(;!Vn.done;Xt++,Vn=be.next())Vn=Ke(me,Vn.value,Xe),Vn!==null&&(fe=O(Vn,fe,Xt),Tn===null?Ct=Vn:Tn.sibling=Vn,Tn=Vn);return Ln&&bl(me,Xt),Ct}for(zt=x(zt);!Vn.done;Xt++,Vn=be.next())Vn=Ce(zt,me,Xt,Vn.value,Xe),Vn!==null&&(l&&Vn.alternate!==null&&zt.delete(Vn.key===null?Xt:Vn.key),fe=O(Vn,fe,Xt),Tn===null?Ct=Vn:Tn.sibling=Vn,Tn=Vn);return l&&zt.forEach(function(XX){return u(me,XX)}),Ln&&bl(me,Xt),Ct}function ci(me,fe,be,Xe){if(typeof be=="object"&&be!==null&&be.type===_&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case v:e:{for(var Ct=be.key;fe!==null;){if(fe.key===Ct){if(Ct=be.type,Ct===_){if(fe.tag===7){g(me,fe.sibling),Xe=w(fe,be.props.children),Xe.return=me,me=Xe;break e}}else if(fe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===F&&P1(Ct)===fe.type){g(me,fe.sibling),Xe=w(fe,be.props),Kf(Xe,be),Xe.return=me,me=Xe;break e}g(me,fe);break}else u(me,fe);fe=fe.sibling}be.type===_?(Xe=oc(be.props.children,me.mode,Xe,be.key),Xe.return=me,me=Xe):(Xe=gr(be.type,be.key,be.props,null,me.mode,Xe),Kf(Xe,be),Xe.return=me,me=Xe)}return V(me);case y:e:{for(Ct=be.key;fe!==null;){if(fe.key===Ct)if(fe.tag===4&&fe.stateNode.containerInfo===be.containerInfo&&fe.stateNode.implementation===be.implementation){g(me,fe.sibling),Xe=w(fe,be.children||[]),Xe.return=me,me=Xe;break e}else{g(me,fe);break}else u(me,fe);fe=fe.sibling}Xe=ym(be,me.mode,Xe),Xe.return=me,me=Xe}return V(me);case F:return Ct=be._init,be=Ct(be._payload),ci(me,fe,be,Xe)}if(ae(be))return Zt(me,fe,be,Xe);if(Z(be)){if(Ct=Z(be),typeof Ct!="function")throw Error(i(150));return be=Ct.call(be),qt(me,fe,be,Xe)}if(typeof be.then=="function")return ci(me,fe,Ph(be),Xe);if(be.$$typeof===T)return ci(me,fe,_h(me,be),Xe);Bm(me,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,fe!==null&&fe.tag===6?(g(me,fe.sibling),Xe=w(fe,be),Xe.return=me,me=Xe):(g(me,fe),Xe=vh(be,me.mode,Xe),Xe.return=me,me=Xe),V(me)):g(me,fe)}return function(me,fe,be,Xe){try{Nh=0;var Ct=ci(me,fe,be,Xe);return cu=null,Ct}catch(zt){if(zt===wh||zt===no)throw zt;var Tn=Sa(29,zt,null,me.mode);return Tn.lanes=Xe,Tn.return=me,Tn}finally{}}}var uu=L1(!0),U1=L1(!1),Kn=se(null),ro=null;function gc(l){var u=l.alternate;_e(Li,Li.current&1),_e(Kn,l),ro===null&&(u===null||qf.current!==null||u.memoizedState!==null)&&(ro=l)}function I1(l){if(l.tag===22){if(_e(Li,Li.current),_e(Kn,l),ro===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(ro=l)}}else vc()}function vc(){_e(Li,Li.current),_e(Kn,Kn.current)}function Oo(l){ge(Kn),ro===l&&(ro=null),ge(Li)}var Li=se(0);function Cl(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||VA(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function yc(l,u,g,x){u=l.memoizedState,g=g(x,u),g=g==null?u:d({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var sa={enqueueSetState:function(l,u,g){l=l._reactInternals;var x=Ti(),w=Ro(x);w.payload=u,g!=null&&(w.callback=g),u=El(l,w,x),u!==null&&(la(u,l,x),lu(u,l,x))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var x=Ti(),w=Ro(x);w.tag=1,w.payload=u,g!=null&&(w.callback=g),u=El(l,w,x),u!==null&&(la(u,l,x),lu(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=Ti(),x=Ro(g);x.tag=2,u!=null&&(x.callback=u),u=El(l,x,g),u!==null&&(la(u,l,g),lu(u,l,g))}};function z1(l,u,g,x,w,O,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,O,V):u.prototype&&u.prototype.isPureReactComponent?!eo(g,x)||!eo(w,O):!0}function B1(l,u,g,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,x),u.state!==l&&sa.enqueueReplaceState(u,u.state,null)}function Do(l,u){var g=u;if("ref"in u){g={};for(var x in u)x!=="ref"&&(g[x]=u[x])}if(l=l.defaultProps){g===u&&(g=d({},g));for(var w in l)g[w]===void 0&&(g[w]=l[w])}return g}var fu=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Lh(l){fu(l)}function jm(l){console.error(l)}function j1(l){fu(l)}function Fm(l,u){try{var g=l.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function Ms(l,u,g){try{var x=l.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function km(l,u,g){return g=Ro(g),g.tag=3,g.payload={element:null},g.callback=function(){Fm(l,u)},g}function F1(l){return l=Ro(l),l.tag=3,l}function Vm(l,u,g,x){var w=g.type.getDerivedStateFromError;if(typeof w=="function"){var O=x.value;l.payload=function(){return w(O)},l.callback=function(){Ms(u,g,x)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){Ms(u,g,x),typeof w!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var W=x.stack;this.componentDidCatch(x.value,{componentStack:W!==null?W:""})})}function CA(l,u,g,x,w){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=g.alternate,u!==null&&xs(u,g,w,!0),g=Kn.current,g!==null){switch(g.tag){case 13:return ro===null?h():g.alternate===null&&fi===0&&(fi=3),g.flags&=-257,g.flags|=65536,g.lanes=w,x===Ah?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([x]):u.add(x),Re(l,x,w)),!1;case 22:return g.flags|=65536,x===Ah?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([x]):g.add(x)),Re(l,x,w)),!1}throw Error(i(435,g.tag))}return Re(l,x,w),h(),!1}if(Ln)return u=Kn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,x!==bm&&(l=Error(i(422),{cause:x}),ou(Rr(l,g)))):(x!==bm&&(u=Error(i(423),{cause:x}),ou(Rr(u,g))),l=l.current.alternate,l.flags|=65536,w&=-w,l.lanes|=w,x=Rr(x,g),w=km(l.stateNode,x,w),Vf(l,w),fi!==4&&(fi=2)),!1;var O=Error(i(520),{cause:x});if(O=Rr(O,g),kn===null?kn=[O]:kn.push(O),fi!==4&&(fi=2),u===null)return!0;x=Rr(x,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,l=w&-w,g.lanes|=l,l=km(g.stateNode,x,l),Vf(g,l),!1;case 1:if(u=g.type,O=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(ts===null||!ts.has(O))))return g.flags|=65536,w&=-w,g.lanes|=w,w=F1(w),Vm(w,l,g,x),Vf(g,w),!1}g=g.return}while(g!==null);return!1}var k1=Error(i(461)),vr=!1;function Ui(l,u,g,x){u.child=l===null?U1(u,null,g,x):uu(u,l.child,g,x)}function Ea(l,u,g,x,w){g=g.render;var O=u.ref;if("ref"in x){var V={};for(var W in x)W!=="ref"&&(V[W]=x[W])}else V=x;return Co(u),x=Al(l,u,g,V,O,w),W=bv(),l!==null&&!vr?(Rm(l,u,w),yr(l,u,w)):(Ln&&W&&cv(u),u.flags|=1,Ui(l,u,x,w),u.child)}function wa(l,u,g,x,w){if(l===null){var O=g.type;return typeof O=="function"&&!gh(O)&&O.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=O,Iv(l,u,O,x,w)):(l=gr(g.type,null,x,u,u.mode,w),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,!Uh(l,w)){var V=O.memoizedProps;if(g=g.compare,g=g!==null?g:eo,g(V,x)&&l.ref===u.ref)return yr(l,u,w)}return u.flags|=1,l=Ni(O,x),l.ref=u.ref,l.return=u,u.child=l}function Iv(l,u,g,x,w){if(l!==null){var O=l.memoizedProps;if(eo(O,x)&&l.ref===u.ref)if(vr=!1,u.pendingProps=x=O,Uh(l,w))(l.flags&131072)!==0&&(vr=!0);else return u.lanes=l.lanes,yr(l,u,w)}return $f(l,u,g,x,w)}function du(l,u,g){var x=u.pendingProps,w=x.children,O=l!==null?l.memoizedState:null;if(x.mode==="hidden"){if((u.flags&128)!==0){if(x=O!==null?O.baseLanes|g:g,l!==null){for(w=u.child=l.child,O=0;w!==null;)O=O|w.lanes|w.childLanes,w=w.sibling;u.childLanes=O&~x}else u.childLanes=0,u.child=null;return hu(l,u,x,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Eh(u,O!==null?O.cachePool:null),O!==null?i1(u,O):xv(),I1(u);else return u.lanes=u.childLanes=536870912,hu(l,u,O!==null?O.baseLanes|g:g,g)}else O!==null?(Eh(u,O.cachePool),i1(u,O),vc(),u.memoizedState=null):(l!==null&&Eh(u,null),xv(),vc());return Ui(l,u,w,g),u.child}function hu(l,u,g,x){var w=dc();return w=w===null?null:{parent:Wi._currentValue,pool:w},u.memoizedState={baseLanes:g,cachePool:w},l!==null&&Eh(u,null),xv(),I1(u),l!==null&&xs(l,u,x,!0),null}function pu(l,u){var g=u.ref;if(g===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(u.flags|=4194816)}}function $f(l,u,g,x,w){return Co(u),g=Al(l,u,g,x,void 0,w),x=bv(),l!==null&&!vr?(Rm(l,u,w),yr(l,u,w)):(Ln&&x&&cv(u),u.flags|=1,Ui(l,u,g,w),u.child)}function Ya(l,u,g,x,w,O){return Co(u),u.updateQueue=null,g=s1(u,x,g,w),a1(l),x=bv(),l!==null&&!vr?(Rm(l,u,O),yr(l,u,O)):(Ln&&x&&cv(u),u.flags|=1,Ui(l,u,g,O),u.child)}function Ka(l,u,g,x,w){if(Co(u),u.stateNode===null){var O=sc,V=g.contextType;typeof V=="object"&&V!==null&&(O=Ei(V)),O=new g(x,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=sa,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=x,O.state=u.memoizedState,O.refs={},vv(u),V=g.contextType,O.context=typeof V=="object"&&V!==null?Ei(V):sc,O.state=u.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(yc(u,g,V,x),O.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(V=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),V!==O.state&&sa.enqueueReplaceState(O,O.state,null),Hf(u,x,O,w),Th(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){O=u.stateNode;var W=u.memoizedProps,oe=Do(g,W);O.props=oe;var Se=O.context,Ve=g.contextType;V=sc,typeof Ve=="object"&&Ve!==null&&(V=Ei(Ve));var Ke=g.getDerivedStateFromProps;Ve=typeof Ke=="function"||typeof O.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,Ve||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W||Se!==V)&&B1(u,O,x,V),Ml=!1;var we=u.memoizedState;O.state=we,Hf(u,x,O,w),Th(),Se=u.memoizedState,W||we!==Se||Ml?(typeof Ke=="function"&&(yc(u,g,Ke,x),Se=u.memoizedState),(oe=Ml||z1(u,g,oe,x,we,Se,V))?(Ve||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Se),O.props=x,O.state=Se,O.context=V,x=oe):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{O=u.stateNode,Wt(l,u),V=u.memoizedProps,Ve=Do(g,V),O.props=Ve,Ke=u.pendingProps,we=O.context,Se=g.contextType,oe=sc,typeof Se=="object"&&Se!==null&&(oe=Ei(Se)),W=g.getDerivedStateFromProps,(Se=typeof W=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Ke||we!==oe)&&B1(u,O,x,oe),Ml=!1,we=u.memoizedState,O.state=we,Hf(u,x,O,w),Th();var Ce=u.memoizedState;V!==Ke||we!==Ce||Ml||l!==null&&l.dependencies!==null&&bh(l.dependencies)?(typeof W=="function"&&(yc(u,g,W,x),Ce=u.memoizedState),(Ve=Ml||z1(u,g,Ve,x,we,Ce,oe)||l!==null&&l.dependencies!==null&&bh(l.dependencies))?(Se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,Ce,oe),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,Ce,oe)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&we===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&we===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Ce),O.props=x,O.state=Ce,O.context=oe,x=Ve):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&we===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&we===l.memoizedState||(u.flags|=1024),x=!1)}return O=x,pu(l,u),x=(u.flags&128)!==0,O||x?(O=u.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,l!==null&&x?(u.child=uu(u,l.child,null,w),u.child=uu(u,null,g,w)):Ui(l,u,g,w),u.memoizedState=O.state,l=u.child):l=yr(l,u,w),l}function xc(l,u,g,x){return zf(),u.flags|=256,Ui(l,u,g,x),u.child}var ao={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function so(l){return{baseLanes:l,cachePool:Em()}}function sr(l,u,g){return l=l!==null?l.childLanes&~g:0,u&&(l|=Cs),l}function Zf(l,u,g){var x=u.pendingProps,w=!1,O=(u.flags&128)!==0,V;if((V=O)||(V=l!==null&&l.memoizedState===null?!1:(Li.current&2)!==0),V&&(w=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,l===null){if(Ln){if(w?gc(u):vc(),Ln){var W=yi,oe;if(oe=W){e:{for(oe=W,W=qa;oe.nodeType!==8;){if(!W){W=null;break e}if(oe=Ll(oe.nextSibling),oe===null){W=null;break e}}W=oe}W!==null?(u.memoizedState={dehydrated:W,treeContext:lc!==null?{id:Ao,overflow:To}:null,retryLane:536870912,hydrationErrors:null},oe=Sa(18,null,null,0),oe.stateNode=W,oe.return=u,u.child=oe,ia=u,yi=null,oe=!0):oe=!1}oe||cc(u)}if(W=u.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return VA(W)?u.lanes=32:u.lanes=536870912,null;Oo(u)}return W=x.children,x=x.fallback,w?(vc(),w=u.mode,W=mu({mode:"hidden",children:W},w),x=oc(x,w,g,null),W.return=u,x.return=u,W.sibling=x,u.child=W,w=u.child,w.memoizedState=so(g),w.childLanes=sr(l,V,g),u.memoizedState=ao,x):(gc(u),No(u,W))}if(oe=l.memoizedState,oe!==null&&(W=oe.dehydrated,W!==null)){if(O)u.flags&256?(gc(u),u.flags&=-257,u=Nr(l,u,g)):u.memoizedState!==null?(vc(),u.child=l.child,u.flags|=128,u=null):(vc(),w=x.fallback,W=u.mode,x=mu({mode:"visible",children:x.children},W),w=oc(w,W,g,null),w.flags|=2,x.return=u,w.return=u,x.sibling=w,u.child=x,uu(u,l.child,null,g),x=u.child,x.memoizedState=so(g),x.childLanes=sr(l,V,g),u.memoizedState=ao,u=w);else if(gc(u),VA(W)){if(V=W.nextSibling&&W.nextSibling.dataset,V)var Se=V.dgst;V=Se,x=Error(i(419)),x.stack="",x.digest=V,ou({value:x,source:null,stack:null}),u=Nr(l,u,g)}else if(vr||xs(l,u,g,!1),V=(g&l.childLanes)!==0,vr||V){if(V=tn,V!==null&&(x=g&-g,x=(x&42)!==0?1:Ot(x),x=(x&(V.suspendedLanes|g))!==0?0:x,x!==0&&x!==oe.retryLane))throw oe.retryLane=x,xl(l,x),la(V,l,x),k1;W.data==="$?"||h(),u=Nr(l,u,g)}else W.data==="$?"?(u.flags|=192,u.child=l.child,u=null):(l=oe.treeContext,yi=Ll(W.nextSibling),ia=u,Ln=!0,ys=null,qa=!1,l!==null&&(Or[Ga++]=Ao,Or[Ga++]=To,Or[Ga++]=lc,Ao=l.id,To=l.overflow,lc=u),u=No(u,x.children),u.flags|=4096);return u}return w?(vc(),w=x.fallback,W=u.mode,oe=l.child,Se=oe.sibling,x=Ni(oe,{mode:"hidden",children:x.children}),x.subtreeFlags=oe.subtreeFlags&65011712,Se!==null?w=Ni(Se,w):(w=oc(w,W,g,null),w.flags|=2),w.return=u,x.return=u,x.sibling=w,u.child=x,x=w,w=u.child,W=l.child.memoizedState,W===null?W=so(g):(oe=W.cachePool,oe!==null?(Se=Wi._currentValue,oe=oe.parent!==Se?{parent:Se,pool:Se}:oe):oe=Em(),W={baseLanes:W.baseLanes|g,cachePool:oe}),w.memoizedState=W,w.childLanes=sr(l,V,g),u.memoizedState=ao,x):(gc(u),g=l.child,l=g.sibling,g=Ni(g,{mode:"visible",children:x.children}),g.return=u,g.sibling=null,l!==null&&(V=u.deletions,V===null?(u.deletions=[l],u.flags|=16):V.push(l)),u.child=g,u.memoizedState=null,g)}function No(l,u){return u=mu({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function mu(l,u){return l=Sa(22,l,null,u),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Nr(l,u,g){return uu(u,l.child,null,g),l=No(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Pr(l,u,g){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),hv(l.return,u,g)}function Rn(l,u,g,x,w){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:w}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=g,O.tailMode=w)}function Es(l,u,g){var x=u.pendingProps,w=x.revealOrder,O=x.tail;if(Ui(l,u,x.children,g),x=Li.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Pr(l,g,u);else if(l.tag===19)Pr(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}switch(_e(Li,x),w){case"forwards":for(g=u.child,w=null;g!==null;)l=g.alternate,l!==null&&Cl(l)===null&&(w=g),g=g.sibling;g=w,g===null?(w=u.child,u.child=null):(w=g.sibling,g.sibling=null),Rn(u,!1,w,g,O);break;case"backwards":for(g=null,w=u.child,u.child=null;w!==null;){if(l=w.alternate,l!==null&&Cl(l)===null){u.child=w;break}l=w.sibling,w.sibling=g,g=w,w=l}Rn(u,!0,g,null,O);break;case"together":Rn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function yr(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),uo|=u.lanes,(g&u.childLanes)===0)if(l!==null){if(xs(l,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(i(153));if(u.child!==null){for(l=u.child,g=Ni(l,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,g=g.sibling=Ni(l,l.pendingProps),g.return=u;g.sibling=null}return u.child}function Uh(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&bh(l)))}function ws(l,u,g){switch(u.tag){case 3:Ye(u,u.stateNode.containerInfo),fc(u,Wi,l.memoizedState.cache),zf();break;case 27:case 5:Ge(u);break;case 4:Ye(u,u.stateNode.containerInfo);break;case 10:fc(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(gc(u),u.flags|=128,null):(g&u.child.childLanes)!==0?Zf(l,u,g):(gc(u),l=yr(l,u,g),l!==null?l.sibling:null);gc(u);break;case 19:var w=(l.flags&128)!==0;if(x=(g&u.childLanes)!==0,x||(xs(l,u,g,!1),x=(g&u.childLanes)!==0),w){if(x)return Es(l,u,g);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),_e(Li,Li.current),x)break;return null;case 22:case 23:return u.lanes=0,du(l,u,g);case 24:fc(u,Wi,l.memoizedState.cache)}return yr(l,u,g)}function gu(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps)vr=!0;else{if(!Uh(l,g)&&(u.flags&128)===0)return vr=!1,ws(l,u,g);vr=(l.flags&131072)!==0}else vr=!1,Ln&&(u.flags&1048576)!==0&&xm(u,If,u.index);switch(u.lanes=0,u.tag){case 16:e:{l=u.pendingProps;var x=u.elementType,w=x._init;if(x=w(x._payload),u.type=x,typeof x=="function")gh(x)?(l=Do(x,l),u.tag=1,u=Ka(null,u,x,l,g)):(u.tag=0,u=$f(null,u,x,l,g));else{if(x!=null){if(w=x.$$typeof,w===L){u.tag=11,u=Ea(null,u,x,l,g);break e}else if(w===z){u.tag=14,u=wa(null,u,x,l,g);break e}}throw u=re(x)||x,Error(i(306,u,""))}}return u;case 0:return $f(l,u,u.type,u.pendingProps,g);case 1:return x=u.type,w=Do(x,u.pendingProps),Ka(l,u,x,w,g);case 3:e:{if(Ye(u,u.stateNode.containerInfo),l===null)throw Error(i(387));x=u.pendingProps;var O=u.memoizedState;w=O.element,Wt(l,u),Hf(u,x,null,g);var V=u.memoizedState;if(x=V.cache,fc(u,Wi,x),x!==O.cache&&xh(u,[Wi],g,!0),Th(),x=V.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){u=xc(l,u,x,g);break e}else if(x!==w){w=Rr(Error(i(424)),u),ou(w),u=xc(l,u,x,g);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(yi=Ll(l.firstChild),ia=u,Ln=!0,ys=null,qa=!0,g=U1(u,null,x,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(zf(),x===w){u=yr(l,u,g);break e}Ui(l,u,x,g)}u=u.child}return u;case 26:return pu(l,u),l===null?(g=WP(u.type,null,u.pendingProps,null))?u.memoizedState=g:Ln||(g=u.type,l=u.pendingProps,x=W1(pe.current).createElement(g),x[nr]=u,x[ir]=l,ca(x,g,l),qi(x),u.stateNode=x):u.memoizedState=WP(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ge(u),l===null&&Ln&&(x=u.stateNode=GP(u.type,u.pendingProps,pe.current),ia=u,qa=!0,w=yi,od(u.type)?(HA=w,yi=Ll(x.firstChild)):yi=w),Ui(l,u,u.pendingProps.children,g),pu(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Ln&&((w=x=yi)&&(x=_X(x,u.type,u.pendingProps,qa),x!==null?(u.stateNode=x,ia=u,yi=Ll(x.firstChild),qa=!1,w=!0):w=!1),w||cc(u)),Ge(u),w=u.type,O=u.pendingProps,V=l!==null?l.memoizedProps:null,x=O.children,jA(w,O)?x=null:V!==null&&jA(w,V)&&(u.flags|=32),u.memoizedState!==null&&(w=Al(l,u,SA,null,null,g),Wv._currentValue=w),pu(l,u),Ui(l,u,x,g),u.child;case 6:return l===null&&Ln&&((l=g=yi)&&(g=SX(g,u.pendingProps,qa),g!==null?(u.stateNode=g,ia=u,yi=null,l=!0):l=!1),l||cc(u)),null;case 13:return Zf(l,u,g);case 4:return Ye(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=uu(u,null,x,g):Ui(l,u,x,g),u.child;case 11:return Ea(l,u,u.type,u.pendingProps,g);case 7:return Ui(l,u,u.pendingProps,g),u.child;case 8:return Ui(l,u,u.pendingProps.children,g),u.child;case 12:return Ui(l,u,u.pendingProps.children,g),u.child;case 10:return x=u.pendingProps,fc(u,u.type,x.value),Ui(l,u,x.children,g),u.child;case 9:return w=u.type._context,x=u.pendingProps.children,Co(u),w=Ei(w),x=x(w),u.flags|=1,Ui(l,u,x,g),u.child;case 14:return wa(l,u,u.type,u.pendingProps,g);case 15:return Iv(l,u,u.type,u.pendingProps,g);case 19:return Es(l,u,g);case 31:return x=u.pendingProps,g=u.mode,x={mode:x.mode,children:x.children},l===null?(g=mu(x,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=Ni(l.child,x),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return du(l,u,g);case 24:return Co(u),x=Ei(Wi),l===null?(w=dc(),w===null&&(w=tn,O=Sm(),w.pooledCache=O,O.refCount++,O!==null&&(w.pooledCacheLanes|=g),w=O),u.memoizedState={parent:x,cache:w},vv(u),fc(u,Wi,w)):((l.lanes&g)!==0&&(Wt(l,u),Hf(u,null,null,g),Th()),w=l.memoizedState,O=u.memoizedState,w.parent!==x?(w={parent:x,cache:x},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),fc(u,Wi,x)):(x=O.cache,fc(u,Wi,x),x!==w.cache&&xh(u,[Wi],g,!0))),Ui(l,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function oo(l){l.flags|=4}function Ih(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!QP(u)){if(u=Kn.current,u!==null&&((Bt&4194048)===Bt?ro!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||u!==ro))throw _s=Ah,mv;l.flags|=8192}}function Rl(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?et():536870912,l.lanes|=u,Dn|=u)}function vu(l,u){if(!Ln)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function ai(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,x=0;if(u)for(var w=l.child;w!==null;)g|=w.lanes|w.childLanes,x|=w.subtreeFlags&65011712,x|=w.flags&65011712,w.return=l,w=w.sibling;else for(w=l.child;w!==null;)g|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=l,w=w.sibling;return l.subtreeFlags|=x,l.childLanes=g,u}function zv(l,u,g){var x=u.pendingProps;switch(uv(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(u),null;case 1:return ai(u),null;case 3:return g=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Sl(Wi),xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(to(u)?oo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,jn())),ai(u),null;case 26:return g=u.memoizedState,l===null?(oo(u),g!==null?(ai(u),Ih(u,g)):(ai(u),u.flags&=-16777217)):g?g!==l.memoizedState?(oo(u),ai(u),Ih(u,g)):(ai(u),u.flags&=-16777217):(l.memoizedProps!==x&&oo(u),ai(u),u.flags&=-16777217),null;case 27:$e(u),g=pe.current;var w=u.type;if(l!==null&&u.stateNode!=null)l.memoizedProps!==x&&oo(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return ai(u),null}l=Ae.current,to(u)?Jb(u):(l=GP(w,x,g),u.stateNode=l,oo(u))}return ai(u),null;case 5:if($e(u),g=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&oo(u);else{if(!x){if(u.stateNode===null)throw Error(i(166));return ai(u),null}if(l=Ae.current,to(u))Jb(u);else{switch(w=W1(pe.current),l){case 1:l=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=w.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof x.is=="string"?w.createElement("select",{is:x.is}):w.createElement("select"),x.multiple?l.multiple=!0:x.size&&(l.size=x.size);break;default:l=typeof x.is=="string"?w.createElement(g,{is:x.is}):w.createElement(g)}}l[nr]=u,l[ir]=x;e:for(w=u.child;w!==null;){if(w.tag===5||w.tag===6)l.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break e;for(;w.sibling===null;){if(w.return===null||w.return===u)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}u.stateNode=l;e:switch(ca(l,g,x),g){case"button":case"input":case"select":case"textarea":l=!!x.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&oo(u)}}return ai(u),u.flags&=-16777217,null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&oo(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(i(166));if(l=pe.current,to(u)){if(l=u.stateNode,g=u.memoizedProps,x=null,w=ia,w!==null)switch(w.tag){case 27:case 5:x=w.memoizedProps}l[nr]=u,l=!!(l.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||zP(l.nodeValue,g)),l||cc(u)}else l=W1(l).createTextNode(x),l[nr]=u,u.stateNode=l}return ai(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(w=to(u),x!==null&&x.dehydrated!==null){if(l===null){if(!w)throw Error(i(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[nr]=u}else zf(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ai(u),w=!1}else w=jn(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(Oo(u),u):(Oo(u),null)}if(Oo(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=x!==null,l=l!==null&&l.memoizedState!==null,g){x=u.child,w=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(w=x.alternate.memoizedState.cachePool.pool);var O=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==w&&(x.flags|=2048)}return g!==l&&g&&(u.child.flags|=8192),Rl(u,u.updateQueue),ai(u),null;case 4:return xe(),l===null&&LA(u.stateNode.containerInfo),ai(u),null;case 10:return Sl(u.type),ai(u),null;case 19:if(ge(Li),w=u.memoizedState,w===null)return ai(u),null;if(x=(u.flags&128)!==0,O=w.rendering,O===null)if(x)vu(w,!1);else{if(fi!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(O=Cl(l),O!==null){for(u.flags|=128,vu(w,!1),l=O.updateQueue,u.updateQueue=l,Rl(u,l),u.subtreeFlags=0,l=g,g=u.child;g!==null;)lv(g,l),g=g.sibling;return _e(Li,Li.current&1|2),u.child}l=l.sibling}w.tail!==null&&je()>qr&&(u.flags|=128,x=!0,vu(w,!1),u.lanes=4194304)}else{if(!x)if(l=Cl(O),l!==null){if(u.flags|=128,x=!0,l=l.updateQueue,u.updateQueue=l,Rl(u,l),vu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!O.alternate&&!Ln)return ai(u),null}else 2*je()-w.renderingStartTime>qr&&g!==536870912&&(u.flags|=128,x=!0,vu(w,!1),u.lanes=4194304);w.isBackwards?(O.sibling=u.child,u.child=O):(l=w.last,l!==null?l.sibling=O:u.child=O,w.last=O)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=je(),u.sibling=null,l=Li.current,_e(Li,x?l&1|2:l&1),u):(ai(u),null);case 22:case 23:return Oo(u),Ch(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(g&536870912)!==0&&(u.flags&128)===0&&(ai(u),u.subtreeFlags&6&&(u.flags|=8192)):ai(u),g=u.updateQueue,g!==null&&Rl(u,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048),l!==null&&ge(bs),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),Sl(Wi),ai(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function Qf(l,u){switch(uv(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Sl(Wi),xe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return $e(u),null;case 13:if(Oo(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(i(340));zf()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ge(Li),null;case 4:return xe(),null;case 10:return Sl(u.type),null;case 22:case 23:return Oo(u),Ch(),l!==null&&ge(bs),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Sl(Wi),null;case 25:return null;default:return null}}function Jf(l,u){switch(uv(u),u.tag){case 3:Sl(Wi),xe();break;case 26:case 27:case 5:$e(u);break;case 4:xe();break;case 13:Oo(u);break;case 19:ge(Li);break;case 10:Sl(u.type);break;case 22:case 23:Oo(u),Ch(),l!==null&&ge(bs);break;case 24:Sl(Wi)}}function yu(l,u){try{var g=u.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var w=x.next;g=w;do{if((g.tag&l)===l){x=void 0;var O=g.create,V=g.inst;x=O(),V.destroy=x}g=g.next}while(g!==w)}}catch(W){ue(u,u.return,W)}}function $a(l,u,g){try{var x=u.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var O=w.next;x=O;do{if((x.tag&l)===l){var V=x.inst,W=V.destroy;if(W!==void 0){V.destroy=void 0,w=u;var oe=g,Se=W;try{Se()}catch(Ve){ue(w,oe,Ve)}}}x=x.next}while(x!==O)}}catch(Ve){ue(u,u.return,Ve)}}function xu(l){var u=l.updateQueue;if(u!==null){var g=l.stateNode;try{n1(u,g)}catch(x){ue(l,l.return,x)}}}function Ol(l,u,g){g.props=Do(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(x){ue(l,u,x)}}function bu(l,u){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof g=="function"?l.refCleanup=g(x):g.current=x}}catch(w){ue(l,u,w)}}function Po(l,u){var g=l.ref,x=l.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(w){ue(l,u,w)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(w){ue(l,u,w)}else g.current=null}function ed(l){var u=l.type,g=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(w){ue(l,l.return,w)}}function zh(l,u,g){try{var x=l.stateNode;gX(x,l.type,g,u),x[ir]=u}catch(w){ue(l,l.return,w)}}function Bh(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&od(l.type)||l.tag===4}function bc(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Bh(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&od(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function _c(l,u,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(l),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=X1));else if(x!==4&&(x===27&&od(l.type)&&(g=l.stateNode,u=null),l=l.child,l!==null))for(_c(l,u,g),l=l.sibling;l!==null;)_c(l,u,g),l=l.sibling}function Sc(l,u,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?g.insertBefore(l,u):g.appendChild(l);else if(x!==4&&(x===27&&od(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(Sc(l,u,g),l=l.sibling;l!==null;)Sc(l,u,g),l=l.sibling}function Mc(l){var u=l.stateNode,g=l.memoizedProps;try{for(var x=l.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);ca(u,x,g),u[nr]=l,u[ir]=g}catch(O){ue(l,l.return,O)}}var Lo=!1,si=!1,td=!1,Za=typeof WeakSet=="function"?WeakSet:Set,$n=null;function or(l,u){if(l=l.containerInfo,zA=J1,l=tv(l),dh(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var w=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var V=0,W=-1,oe=-1,Se=0,Ve=0,Ke=l,we=null;t:for(;;){for(var Ce;Ke!==g||w!==0&&Ke.nodeType!==3||(W=V+w),Ke!==O||x!==0&&Ke.nodeType!==3||(oe=V+x),Ke.nodeType===3&&(V+=Ke.nodeValue.length),(Ce=Ke.firstChild)!==null;)we=Ke,Ke=Ce;for(;;){if(Ke===l)break t;if(we===g&&++Se===w&&(W=V),we===O&&++Ve===x&&(oe=V),(Ce=Ke.nextSibling)!==null)break;Ke=we,we=Ke.parentNode}Ke=Ce}g=W===-1||oe===-1?null:{start:W,end:oe}}else g=null}g=g||{start:0,end:0}}else g=null;for(BA={focusedElem:l,selectionRange:g},J1=!1,$n=u;$n!==null;)if(u=$n,l=u.child,(u.subtreeFlags&1024)!==0&&l!==null)l.return=u,$n=l;else for(;$n!==null;){switch(u=$n,O=u.alternate,l=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&O!==null){l=void 0,g=u,w=O.memoizedProps,O=O.memoizedState,x=g.stateNode;try{var Zt=Do(g.type,w,g.elementType===g.type);l=x.getSnapshotBeforeUpdate(Zt,O),x.__reactInternalSnapshotBeforeUpdate=l}catch(qt){ue(g,g.return,qt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,g=l.nodeType,g===9)kA(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":kA(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=u.sibling,l!==null){l.return=u.return,$n=l;break}$n=u.return}}function Dl(l,u,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:oa(l,g),x&4&&yu(5,g);break;case 1:if(oa(l,g),x&4)if(l=g.stateNode,u===null)try{l.componentDidMount()}catch(V){ue(g,g.return,V)}else{var w=Do(g.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(w,u,l.__reactInternalSnapshotBeforeUpdate)}catch(V){ue(g,g.return,V)}}x&64&&xu(g),x&512&&bu(g,g.return);break;case 3:if(oa(l,g),x&64&&(l=g.updateQueue,l!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{n1(l,u)}catch(V){ue(g,g.return,V)}}break;case 27:u===null&&x&4&&Mc(g);case 26:case 5:oa(l,g),u===null&&x&4&&ed(g),x&512&&bu(g,g.return);break;case 12:oa(l,g);break;case 13:oa(l,g),x&4&&Ec(l,g),x&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=di.bind(null,g),MX(l,g))));break;case 22:if(x=g.memoizedState!==null||Lo,!x){u=u!==null&&u.memoizedState!==null||si,w=Lo;var O=si;Lo=x,(si=u)&&!O?Uo(l,g,(g.subtreeFlags&8772)!==0):oa(l,g),Lo=w,si=O}break;case 30:break;default:oa(l,g)}}function dn(l){var u=l.alternate;u!==null&&(l.alternate=null,dn(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&ni(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Vt=null,On=!1;function As(l,u,g){for(g=g.child;g!==null;)_u(l,u,g),g=g.sibling}function _u(l,u,g){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Ie,g)}catch{}switch(g.tag){case 26:si||Po(g,u),As(l,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:si||Po(g,u);var x=Vt,w=On;od(g.type)&&(Vt=g.stateNode,On=!1),As(l,u,g),Hv(g.stateNode),Vt=x,On=w;break;case 5:si||Po(g,u);case 6:if(x=Vt,w=On,Vt=null,As(l,u,g),Vt=x,On=w,Vt!==null)if(On)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(g.stateNode)}catch(O){ue(g,u,O)}else try{Vt.removeChild(g.stateNode)}catch(O){ue(g,u,O)}break;case 18:Vt!==null&&(On?(l=Vt,VP(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Zv(l)):VP(Vt,g.stateNode));break;case 4:x=Vt,w=On,Vt=g.stateNode.containerInfo,On=!0,As(l,u,g),Vt=x,On=w;break;case 0:case 11:case 14:case 15:si||$a(2,g,u),si||$a(4,g,u),As(l,u,g);break;case 1:si||(Po(g,u),x=g.stateNode,typeof x.componentWillUnmount=="function"&&Ol(g,u,x)),As(l,u,g);break;case 21:As(l,u,g);break;case 22:si=(x=si)||g.memoizedState!==null,As(l,u,g),si=x;break;default:As(l,u,g)}}function Ec(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Zv(l)}catch(g){ue(u,u.return,g)}}function Hm(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Za),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Za),u;default:throw Error(i(435,l.tag))}}function Su(l,u){var g=Hm(l);u.forEach(function(x){var w=Yt.bind(null,l,x);g.has(x)||(g.add(x),x.then(w,w))})}function xr(l,u){var g=u.deletions;if(g!==null)for(var x=0;x<g.length;x++){var w=g[x],O=l,V=u,W=V;e:for(;W!==null;){switch(W.tag){case 27:if(od(W.type)){Vt=W.stateNode,On=!1;break e}break;case 5:Vt=W.stateNode,On=!1;break e;case 3:case 4:Vt=W.stateNode.containerInfo,On=!0;break e}W=W.return}if(Vt===null)throw Error(i(160));_u(O,V,w),Vt=null,On=!1,O=w.alternate,O!==null&&(O.return=null),w.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Gm(u,l),u=u.sibling}var lo=null;function Gm(l,u){var g=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:xr(u,l),wi(l),x&4&&($a(3,l,l.return),yu(3,l),$a(5,l,l.return));break;case 1:xr(u,l),wi(l),x&512&&(si||g===null||Po(g,g.return)),x&64&&Lo&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var w=lo;if(xr(u,l),wi(l),x&512&&(si||g===null||Po(g,g.return)),x&4){var O=g!==null?g.memoizedState:null;if(x=l.memoizedState,g===null)if(x===null)if(l.stateNode===null){e:{x=l.type,g=l.memoizedProps,w=w.ownerDocument||w;t:switch(x){case"title":O=w.getElementsByTagName("title")[0],(!O||O[ka]||O[nr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=w.createElement(x),w.head.insertBefore(O,w.querySelector("head > title"))),ca(O,x,g),O[nr]=l,qi(O),x=O;break e;case"link":var V=$P("link","href",w).get(x+(g.href||""));if(V){for(var W=0;W<V.length;W++)if(O=V[W],O.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&O.getAttribute("rel")===(g.rel==null?null:g.rel)&&O.getAttribute("title")===(g.title==null?null:g.title)&&O.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(W,1);break t}}O=w.createElement(x),ca(O,x,g),w.head.appendChild(O);break;case"meta":if(V=$P("meta","content",w).get(x+(g.content||""))){for(W=0;W<V.length;W++)if(O=V[W],O.getAttribute("content")===(g.content==null?null:""+g.content)&&O.getAttribute("name")===(g.name==null?null:g.name)&&O.getAttribute("property")===(g.property==null?null:g.property)&&O.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&O.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(W,1);break t}}O=w.createElement(x),ca(O,x,g),w.head.appendChild(O);break;default:throw Error(i(468,x))}O[nr]=l,qi(O),x=O}l.stateNode=x}else ZP(w,l.type,l.stateNode);else l.stateNode=KP(w,x,l.memoizedProps);else O!==x?(O===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):O.count--,x===null?ZP(w,l.type,l.stateNode):KP(w,x,l.memoizedProps)):x===null&&l.stateNode!==null&&zh(l,l.memoizedProps,g.memoizedProps)}break;case 27:xr(u,l),wi(l),x&512&&(si||g===null||Po(g,g.return)),g!==null&&x&4&&zh(l,l.memoizedProps,g.memoizedProps);break;case 5:if(xr(u,l),wi(l),x&512&&(si||g===null||Po(g,g.return)),l.flags&32){w=l.stateNode;try{ri(w,"")}catch(Ce){ue(l,l.return,Ce)}}x&4&&l.stateNode!=null&&(w=l.memoizedProps,zh(l,w,g!==null?g.memoizedProps:w)),x&1024&&(td=!0);break;case 6:if(xr(u,l),wi(l),x&4){if(l.stateNode===null)throw Error(i(162));x=l.memoizedProps,g=l.stateNode;try{g.nodeValue=x}catch(Ce){ue(l,l.return,Ce)}}break;case 3:if($1=null,w=lo,lo=Y1(u.containerInfo),xr(u,l),lo=w,wi(l),x&4&&g!==null&&g.memoizedState.isDehydrated)try{Zv(u.containerInfo)}catch(Ce){ue(l,l.return,Ce)}td&&(td=!1,wc(l));break;case 4:x=lo,lo=Y1(l.stateNode.containerInfo),xr(u,l),wi(l),lo=x;break;case 12:xr(u,l),wi(l);break;case 13:xr(u,l),wi(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Wn=je()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Su(l,x)));break;case 22:w=l.memoizedState!==null;var oe=g!==null&&g.memoizedState!==null,Se=Lo,Ve=si;if(Lo=Se||w,si=Ve||oe,xr(u,l),si=Ve,Lo=Se,wi(l),x&8192)e:for(u=l.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(g===null||oe||Lo||si||Qa(l)),g=null,u=l;;){if(u.tag===5||u.tag===26){if(g===null){oe=g=u;try{if(O=oe.stateNode,w)V=O.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{W=oe.stateNode;var Ke=oe.memoizedProps.style,we=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;W.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ce){ue(oe,oe.return,Ce)}}}else if(u.tag===6){if(g===null){oe=u;try{oe.stateNode.nodeValue=w?"":oe.memoizedProps}catch(Ce){ue(oe,oe.return,Ce)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,Su(l,g))));break;case 19:xr(u,l),wi(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Su(l,x)));break;case 30:break;case 21:break;default:xr(u,l),wi(l)}}function wi(l){var u=l.flags;if(u&2){try{for(var g,x=l.return;x!==null;){if(Bh(x)){g=x;break}x=x.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var w=g.stateNode,O=bc(l);Sc(l,O,w);break;case 5:var V=g.stateNode;g.flags&32&&(ri(V,""),g.flags&=-33);var W=bc(l);Sc(l,W,V);break;case 3:case 4:var oe=g.stateNode.containerInfo,Se=bc(l);_c(l,Se,oe);break;default:throw Error(i(161))}}catch(Ve){ue(l,l.return,Ve)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function wc(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;wc(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function oa(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Dl(l,u.alternate,u),u=u.sibling}function Qa(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:$a(4,u,u.return),Qa(u);break;case 1:Po(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&Ol(u,u.return,g),Qa(u);break;case 27:Hv(u.stateNode);case 26:case 5:Po(u,u.return),Qa(u);break;case 22:u.memoizedState===null&&Qa(u);break;case 30:Qa(u);break;default:Qa(u)}l=l.sibling}}function Uo(l,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,w=l,O=u,V=O.flags;switch(O.tag){case 0:case 11:case 15:Uo(w,O,g),yu(4,O);break;case 1:if(Uo(w,O,g),x=O,w=x.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Se){ue(x,x.return,Se)}if(x=O,w=x.updateQueue,w!==null){var W=x.stateNode;try{var oe=w.shared.hiddenCallbacks;if(oe!==null)for(w.shared.hiddenCallbacks=null,w=0;w<oe.length;w++)Gf(oe[w],W)}catch(Se){ue(x,x.return,Se)}}g&&V&64&&xu(O),bu(O,O.return);break;case 27:Mc(O);case 26:case 5:Uo(w,O,g),g&&x===null&&V&4&&ed(O),bu(O,O.return);break;case 12:Uo(w,O,g);break;case 13:Uo(w,O,g),g&&V&4&&Ec(w,O);break;case 22:O.memoizedState===null&&Uo(w,O,g),bu(O,O.return);break;case 30:break;default:Uo(w,O,g)}u=u.sibling}}function qm(l,u){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Bf(g))}function Xm(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Bf(l))}function Zn(l,u,g,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Wm(l,u,g,x),u=u.sibling}function Wm(l,u,g,x){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Zn(l,u,g,x),w&2048&&yu(9,u);break;case 1:Zn(l,u,g,x);break;case 3:Zn(l,u,g,x),w&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Bf(l)));break;case 12:if(w&2048){Zn(l,u,g,x),l=u.stateNode;try{var O=u.memoizedProps,V=O.id,W=O.onPostCommit;typeof W=="function"&&W(V,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(oe){ue(u,u.return,oe)}}else Zn(l,u,g,x);break;case 13:Zn(l,u,g,x);break;case 23:break;case 22:O=u.stateNode,V=u.alternate,u.memoizedState!==null?O._visibility&2?Zn(l,u,g,x):co(l,u):O._visibility&2?Zn(l,u,g,x):(O._visibility|=2,Nl(l,u,g,x,(u.subtreeFlags&10256)!==0)),w&2048&&qm(V,u);break;case 24:Zn(l,u,g,x),w&2048&&Xm(u.alternate,u);break;default:Zn(l,u,g,x)}}function Nl(l,u,g,x,w){for(w=w&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var O=l,V=u,W=g,oe=x,Se=V.flags;switch(V.tag){case 0:case 11:case 15:Nl(O,V,W,oe,w),yu(8,V);break;case 23:break;case 22:var Ve=V.stateNode;V.memoizedState!==null?Ve._visibility&2?Nl(O,V,W,oe,w):co(O,V):(Ve._visibility|=2,Nl(O,V,W,oe,w)),w&&Se&2048&&qm(V.alternate,V);break;case 24:Nl(O,V,W,oe,w),w&&Se&2048&&Xm(V.alternate,V);break;default:Nl(O,V,W,oe,w)}u=u.sibling}}function co(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=l,x=u,w=x.flags;switch(x.tag){case 22:co(g,x),w&2048&&qm(x.alternate,x);break;case 24:co(g,x),w&2048&&Xm(x.alternate,x);break;default:co(g,x)}u=u.sibling}}var Ja=8192;function nd(l){if(l.subtreeFlags&Ja)for(l=l.child;l!==null;)V1(l),l=l.sibling}function V1(l){switch(l.tag){case 26:nd(l),l.flags&Ja&&l.memoizedState!==null&&IX(lo,l.memoizedState,l.memoizedProps);break;case 5:nd(l);break;case 3:case 4:var u=lo;lo=Y1(l.stateNode.containerInfo),nd(l),lo=u;break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=Ja,Ja=16777216,nd(l),Ja=u):nd(l));break;default:nd(l)}}function H1(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function oi(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var x=u[g];$n=x,zo(x,l)}H1(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Bv(l),l=l.sibling}function Bv(l){switch(l.tag){case 0:case 11:case 15:oi(l),l.flags&2048&&$a(9,l,l.return);break;case 3:oi(l);break;case 12:oi(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Io(l)):oi(l);break;default:oi(l)}}function Io(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var x=u[g];$n=x,zo(x,l)}H1(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:$a(8,u,u.return),Io(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,Io(u));break;default:Io(u)}l=l.sibling}}function zo(l,u){for(;$n!==null;){var g=$n;switch(g.tag){case 0:case 11:case 15:$a(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Bf(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,$n=x;else e:for(g=l;$n!==null;){x=$n;var w=x.sibling,O=x.return;if(dn(x),x===g){$n=null;break e}if(w!==null){w.return=O,$n=w;break e}$n=O}}}var Ai={getCacheForType:function(l){var u=Ei(Wi),g=u.data.get(l);return g===void 0&&(g=l(),u.data.set(l,g)),g}},jv=typeof WeakMap=="function"?WeakMap:Map,Fn=0,tn=null,Sn=null,Bt=0,ln=0,xi=null,es=!1,id=!1,rd=!1,Ts=0,fi=0,uo=0,Bo=0,Mu=0,Cs=0,Dn=0,kn=null,Ht=null,An=!1,Wn=0,qr=1/0,Rs=null,ts=null,lr=0,Xr=null,Qn=null,ns=0,Pl=0,jh=null,is=null,jo=0,Eu=null;function Ti(){if((Fn&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var l=rn;return l!==0?l:OA()}return fn()}function Ym(){Cs===0&&(Cs=(Bt&536870912)===0||Ln?ie():536870912);var l=Kn.current;return l!==null&&(l.flags|=32),Cs}function la(l,u,g){(l===tn&&(ln===2||ln===9)||l.cancelPendingCommit!==null)&&(Tc(l,0),fo(l,Bt,Cs,!1)),rt(l,g),((Fn&2)===0||l!==tn)&&(l===tn&&((Fn&2)===0&&(Bo|=g),fi===4&&fo(l,Bt,Cs,!1)),Oc(l))}function ad(l,u,g){if((Fn&6)!==0)throw Error(i(327));var x=!g&&(u&124)===0&&(u&l.expiredLanes)===0||Me(l,u),w=x?A(l,u):p(l,u,!0),O=x;do{if(w===0){id&&!x&&fo(l,u,0,!1);break}else{if(g=l.current.alternate,O&&!Ac(g)){w=p(l,u,!1),O=!1;continue}if(w===2){if(O=u,l.errorRecoveryDisabledLanes&O)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var W=l;w=kn;var oe=W.current.memoizedState.isDehydrated;if(oe&&(Tc(W,V).flags|=256),V=p(W,V,!1),V!==2){if(rd&&!oe){W.errorRecoveryDisabledLanes|=O,Bo|=O,w=4;break e}O=Ht,Ht=w,O!==null&&(Ht===null?Ht=O:Ht.push.apply(Ht,O))}w=V}if(O=!1,w!==2)continue}}if(w===1){Tc(l,0),fo(l,u,0,!0);break}e:{switch(x=l,O=w,O){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:fo(x,u,Cs,!es);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(w=Wn+300-je(),10<w)){if(fo(x,u,Cs,!es),ce(x,0,!0)!==0)break e;x.timeoutHandle=FP(Fh.bind(null,x,g,Ht,Rs,An,u,Cs,Bo,Dn,es,O,2,-0,0),w);break e}Fh(x,g,Ht,Rs,An,u,Cs,Bo,Dn,es,O,0,-0,0)}}break}while(!0);Oc(l)}function Fh(l,u,g,x,w,O,V,W,oe,Se,Ve,Ke,we,Ce){if(l.timeoutHandle=-1,Ke=u.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Xv={stylesheets:null,count:0,unsuspend:UX},V1(u),Ke=zX(),Ke!==null)){l.cancelPendingCommit=Ke(ct.bind(null,l,u,O,g,x,w,V,W,oe,Ve,1,we,Ce)),fo(l,O,V,!Se);return}ct(l,u,O,g,x,w,V,W,oe)}function Ac(l){for(var u=l;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var w=g[x],O=w.getSnapshot;w=w.value;try{if(!xa(O(),w))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function fo(l,u,g,x){u&=~Mu,u&=~Bo,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var w=u;0<w;){var O=31-mt(w),V=1<<O;x[O]=-1,w&=~V}g!==0&&qe(l,g,u)}function Fo(){return(Fn&6)===0?(Fv(0),!1):!0}function wu(){if(Sn!==null){if(ln===0)var l=Sn.return;else l=Sn,_l=uc=null,_v(l),cu=null,Nh=0,l=Sn;for(;l!==null;)Jf(l.alternate,l),l=l.return;Sn=null}}function Tc(l,u){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,yX(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),wu(),tn=l,Sn=g=Ni(l.current,null),Bt=u,ln=0,xi=null,es=!1,id=Me(l,u),rd=!1,Dn=Cs=Mu=Bo=uo=fi=0,Ht=kn=null,An=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var w=31-mt(x),O=1<<w;u|=l[w],x&=~O}return Ts=u,mh(),g}function Km(l,u){an=null,H.H=Dh,u===wh||u===no?(u=gv(),ln=3):u===mv?(u=gv(),ln=4):ln=u===k1?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,xi=u,Sn===null&&(fi=1,Fm(l,Rr(u,l.current)))}function sd(){var l=H.H;return H.H=Dh,l===null?Dh:l}function $m(){var l=H.A;return H.A=Ai,l}function h(){fi=4,es||(Bt&4194048)!==Bt&&Kn.current!==null||(id=!0),(uo&134217727)===0&&(Bo&134217727)===0||tn===null||fo(tn,Bt,Cs,!1)}function p(l,u,g){var x=Fn;Fn|=2;var w=sd(),O=$m();(tn!==l||Bt!==u)&&(Rs=null,Tc(l,u)),u=!1;var V=fi;e:do try{if(ln!==0&&Sn!==null){var W=Sn,oe=xi;switch(ln){case 8:wu(),V=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(u=!0);var Se=ln;if(ln=0,xi=null,le(l,W,oe,Se),g&&id){V=0;break e}break;default:Se=ln,ln=0,xi=null,le(l,W,oe,Se)}}b(),V=fi;break}catch(Ve){Km(l,Ve)}while(!0);return u&&l.shellSuspendCounter++,_l=uc=null,Fn=x,H.H=w,H.A=O,Sn===null&&(tn=null,Bt=0,mh()),V}function b(){for(;Sn!==null;)B(Sn)}function A(l,u){var g=Fn;Fn|=2;var x=sd(),w=$m();tn!==l||Bt!==u?(Rs=null,qr=je()+500,Tc(l,u)):id=Me(l,u);e:do try{if(ln!==0&&Sn!==null){u=Sn;var O=xi;t:switch(ln){case 1:ln=0,xi=null,le(l,u,O,1);break;case 2:case 9:if(wm(O)){ln=0,xi=null,$(u);break}u=function(){ln!==2&&ln!==9||tn!==l||(ln=7),Oc(l)},O.then(u,u);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:wm(O)?(ln=0,xi=null,$(u)):(ln=0,xi=null,le(l,u,O,7));break;case 5:var V=null;switch(Sn.tag){case 26:V=Sn.memoizedState;case 5:case 27:var W=Sn;if(!V||QP(V)){ln=0,xi=null;var oe=W.sibling;if(oe!==null)Sn=oe;else{var Se=W.return;Se!==null?(Sn=Se,ve(Se)):Sn=null}break t}}ln=0,xi=null,le(l,u,O,5);break;case 6:ln=0,xi=null,le(l,u,O,6);break;case 8:wu(),fi=6;break e;default:throw Error(i(462))}}D();break}catch(Ve){Km(l,Ve)}while(!0);return _l=uc=null,H.H=x,H.A=w,Fn=g,Sn!==null?0:(tn=null,Bt=0,mh(),fi)}function D(){for(;Sn!==null&&!Q();)B(Sn)}function B(l){var u=gu(l.alternate,l,Ts);l.memoizedProps=l.pendingProps,u===null?ve(l):Sn=u}function $(l){var u=l,g=u.alternate;switch(u.tag){case 15:case 0:u=Ya(g,u,u.pendingProps,u.type,void 0,Bt);break;case 11:u=Ya(g,u,u.pendingProps,u.type.render,u.ref,Bt);break;case 5:_v(u);default:Jf(g,u),u=Sn=lv(u,Ts),u=gu(g,u,Ts)}l.memoizedProps=l.pendingProps,u===null?ve(l):Sn=u}function le(l,u,g,x){_l=uc=null,_v(u),cu=null,Nh=0;var w=u.return;try{if(CA(l,w,u,g,Bt)){fi=1,Fm(l,Rr(g,l.current)),Sn=null;return}}catch(O){if(w!==null)throw Sn=w,O;fi=1,Fm(l,Rr(g,l.current)),Sn=null;return}u.flags&32768?(Ln||x===1?l=!0:id||(Bt&536870912)!==0?l=!1:(es=l=!0,(x===2||x===9||x===3||x===6)&&(x=Kn.current,x!==null&&x.tag===13&&(x.flags|=16384))),ke(u,l)):ve(u)}function ve(l){var u=l;do{if((u.flags&32768)!==0){ke(u,es);return}l=u.return;var g=zv(u.alternate,u,Ts);if(g!==null){Sn=g;return}if(u=u.sibling,u!==null){Sn=u;return}Sn=u=l}while(u!==null);fi===0&&(fi=5)}function ke(l,u){do{var g=Qf(l.alternate,l);if(g!==null){g.flags&=32767,Sn=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(l=l.sibling,l!==null)){Sn=l;return}Sn=l=g}while(l!==null);fi=6,Sn=null}function ct(l,u,g,x,w,O,V,W,oe){l.cancelPendingCommit=null;do Cc();while(lr!==0);if((Fn&6)!==0)throw Error(i(327));if(u!==null){if(u===l.current)throw Error(i(177));if(O=u.lanes|u.childLanes,O|=gm,tt(l,g,O,V,W,oe),l===tn&&(Sn=tn=null,Bt=0),Qn=u,Xr=l,ns=g,Pl=O,jh=w,is=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Un(ot,function(){return Rc(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=H.T,H.T=null,w=X.p,X.p=2,V=Fn,Fn|=4;try{or(l,u,g)}finally{Fn=V,X.p=w,H.T=x}}lr=1,yt(),_t(),nn()}}function yt(){if(lr===1){lr=0;var l=Xr,u=Qn,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=H.T,H.T=null;var x=X.p;X.p=2;var w=Fn;Fn|=4;try{Gm(u,l);var O=BA,V=tv(l.containerInfo),W=O.focusedElem,oe=O.selectionRange;if(V!==W&&W&&W.ownerDocument&&ev(W.ownerDocument.documentElement,W)){if(oe!==null&&dh(W)){var Se=oe.start,Ve=oe.end;if(Ve===void 0&&(Ve=Se),"selectionStart"in W)W.selectionStart=Se,W.selectionEnd=Math.min(Ve,W.value.length);else{var Ke=W.ownerDocument||document,we=Ke&&Ke.defaultView||window;if(we.getSelection){var Ce=we.getSelection(),Zt=W.textContent.length,qt=Math.min(oe.start,Zt),ci=oe.end===void 0?qt:Math.min(oe.end,Zt);!Ce.extend&&qt>ci&&(V=ci,ci=qt,qt=V);var me=Jg(W,qt),fe=Jg(W,ci);if(me&&fe&&(Ce.rangeCount!==1||Ce.anchorNode!==me.node||Ce.anchorOffset!==me.offset||Ce.focusNode!==fe.node||Ce.focusOffset!==fe.offset)){var be=Ke.createRange();be.setStart(me.node,me.offset),Ce.removeAllRanges(),qt>ci?(Ce.addRange(be),Ce.extend(fe.node,fe.offset)):(be.setEnd(fe.node,fe.offset),Ce.addRange(be))}}}}for(Ke=[],Ce=W;Ce=Ce.parentNode;)Ce.nodeType===1&&Ke.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Ke.length;W++){var Xe=Ke[W];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}J1=!!zA,BA=zA=null}finally{Fn=w,X.p=x,H.T=g}}l.current=u,lr=2}}function _t(){if(lr===2){lr=0;var l=Xr,u=Qn,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=H.T,H.T=null;var x=X.p;X.p=2;var w=Fn;Fn|=4;try{Dl(l,u.alternate,u)}finally{Fn=w,X.p=x,H.T=g}}lr=3}}function nn(){if(lr===4||lr===3){lr=0,Fe();var l=Xr,u=Qn,g=ns,x=is;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?lr=5:(lr=0,Qn=Xr=null,rs(l,l.pendingLanes));var w=l.pendingLanes;if(w===0&&(ts=null),mn(g),u=u.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Ie,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=H.T,w=X.p,X.p=2,H.T=null;try{for(var O=l.onRecoverableError,V=0;V<x.length;V++){var W=x[V];O(W.value,{componentStack:W.stack})}}finally{H.T=u,X.p=w}}(ns&3)!==0&&Cc(),Oc(l),w=l.pendingLanes,(g&4194090)!==0&&(w&42)!==0?l===Eu?jo++:(jo=0,Eu=l):jo=0,Fv(0)}}function rs(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Bf(u)))}function Cc(l){return yt(),_t(),nn(),Rc()}function Rc(){if(lr!==5)return!1;var l=Xr,u=Pl;Pl=0;var g=mn(ns),x=H.T,w=X.p;try{X.p=32>g?32:g,H.T=null,g=jh,jh=null;var O=Xr,V=ns;if(lr=0,Qn=Xr=null,ns=0,(Fn&6)!==0)throw Error(i(331));var W=Fn;if(Fn|=4,Bv(O.current),Wm(O,O.current,V,g),Fn=W,Fv(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Ie,O)}catch{}return!0}finally{X.p=w,H.T=x,rs(l,u)}}function Ee(l,u,g){u=Rr(g,u),u=km(l.stateNode,u,2),l=El(l,u,2),l!==null&&(rt(l,2),Oc(l))}function ue(l,u,g){if(l.tag===3)Ee(l,l,g);else for(;u!==null;){if(u.tag===3){Ee(u,l,g);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x))){l=Rr(g,l),g=F1(2),x=El(u,g,2),x!==null&&(Vm(g,x,u,l),rt(x,2),Oc(x));break}}u=u.return}}function Re(l,u,g){var x=l.pingCache;if(x===null){x=l.pingCache=new jv;var w=new Set;x.set(u,w)}else w=x.get(u),w===void 0&&(w=new Set,x.set(u,w));w.has(g)||(rd=!0,w.add(g),l=st.bind(null,l,u,g),u.then(l,l))}function st(l,u,g){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,tn===l&&(Bt&g)===g&&(fi===4||fi===3&&(Bt&62914560)===Bt&&300>je()-Wn?(Fn&2)===0&&Tc(l,0):Mu|=g,Dn===Bt&&(Dn=0)),Oc(l)}function It(l,u){u===0&&(u=et()),l=xl(l,u),l!==null&&(rt(l,u),Oc(l))}function di(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),It(l,g)}function Yt(l,u){var g=0;switch(l.tag){case 13:var x=l.stateNode,w=l.memoizedState;w!==null&&(g=w.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(u),It(l,g)}function Un(l,u){return ut(l,u)}var Ii=null,wn=null,ko=!1,Zm=!1,RA=!1,kh=0;function Oc(l){l!==wn&&l.next===null&&(wn===null?Ii=wn=l:wn=wn.next=l),Zm=!0,ko||(ko=!0,cX())}function Fv(l,u){if(!RA&&Zm){RA=!0;do for(var g=!1,x=Ii;x!==null;){if(l!==0){var w=x.pendingLanes;if(w===0)var O=0;else{var V=x.suspendedLanes,W=x.pingedLanes;O=(1<<31-mt(42|l)+1)-1,O&=w&~(V&~W),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(g=!0,OP(x,O))}else O=Bt,O=ce(x,x===tn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||Me(x,O)||(g=!0,OP(x,O));x=x.next}while(g);RA=!1}}function lX(){TP()}function TP(){Zm=ko=!1;var l=0;kh!==0&&(vX()&&(l=kh),kh=0);for(var u=je(),g=null,x=Ii;x!==null;){var w=x.next,O=CP(x,u);O===0?(x.next=null,g===null?Ii=w:g.next=w,w===null&&(wn=g)):(g=x,(l!==0||(O&3)!==0)&&(Zm=!0)),x=w}Fv(l)}function CP(l,u){for(var g=l.suspendedLanes,x=l.pingedLanes,w=l.expirationTimes,O=l.pendingLanes&-62914561;0<O;){var V=31-mt(O),W=1<<V,oe=w[V];oe===-1?((W&g)===0||(W&x)!==0)&&(w[V]=Je(W,u)):oe<=u&&(l.expiredLanes|=W),O&=~W}if(u=tn,g=Bt,g=ce(l,l===u?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,g===0||l===u&&(ln===2||ln===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&De(x),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Me(l,g)){if(u=g&-g,u===l.callbackPriority)return u;switch(x!==null&&De(x),mn(g)){case 2:case 8:g=dt;break;case 32:g=ot;break;case 268435456:g=J;break;default:g=ot}return x=RP.bind(null,l),g=ut(g,x),l.callbackPriority=u,l.callbackNode=g,u}return x!==null&&x!==null&&De(x),l.callbackPriority=2,l.callbackNode=null,2}function RP(l,u){if(lr!==0&&lr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Cc()&&l.callbackNode!==g)return null;var x=Bt;return x=ce(l,l===tn?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(ad(l,x,u),CP(l,je()),l.callbackNode!=null&&l.callbackNode===g?RP.bind(null,l):null)}function OP(l,u){if(Cc())return null;ad(l,u,!0)}function cX(){xX(function(){(Fn&6)!==0?ut(Ze,lX):TP()})}function OA(){return kh===0&&(kh=ie()),kh}function DP(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Jd(""+l)}function NP(l,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,l.id&&g.setAttribute("form",l.id),u.parentNode.insertBefore(g,u),l=new FormData(l),g.parentNode.removeChild(g),l}function uX(l,u,g,x,w){if(u==="submit"&&g&&g.stateNode===w){var O=DP((w[ir]||null).action),V=x.submitter;V&&(u=(u=V[ir]||null)?DP(u.formAction):V.getAttribute("formAction"),u!==null&&(O=u,V=null));var W=new wf("action","action",null,x,w);l.push({event:W,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(kh!==0){var oe=V?NP(w,V):new FormData(w);Pv(g,{pending:!0,data:oe,method:w.method,action:O},null,oe)}}else typeof O=="function"&&(W.preventDefault(),oe=V?NP(w,V):new FormData(w),Pv(g,{pending:!0,data:oe,method:w.method,action:O},O,oe))},currentTarget:w}]})}}for(var DA=0;DA<ph.length;DA++){var NA=ph[DA],fX=NA.toLowerCase(),dX=NA[0].toUpperCase()+NA.slice(1);mr(fX,"on"+dX)}mr(na,"onAnimationEnd"),mr(rv,"onAnimationIteration"),mr(_a,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(Qb,"onTransitionRun"),mr(vl,"onTransitionStart"),mr(Pf,"onTransitionCancel"),mr(yl,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Js("onBeforeInput",["compositionend","keypress","textInput","paste"]),Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kv));function PP(l,u){u=(u&4)!==0;for(var g=0;g<l.length;g++){var x=l[g],w=x.event;x=x.listeners;e:{var O=void 0;if(u)for(var V=x.length-1;0<=V;V--){var W=x[V],oe=W.instance,Se=W.currentTarget;if(W=W.listener,oe!==O&&w.isPropagationStopped())break e;O=W,w.currentTarget=Se;try{O(w)}catch(Ve){fu(Ve)}w.currentTarget=null,O=oe}else for(V=0;V<x.length;V++){if(W=x[V],oe=W.instance,Se=W.currentTarget,W=W.listener,oe!==O&&w.isPropagationStopped())break e;O=W,w.currentTarget=Se;try{O(w)}catch(Ve){fu(Ve)}w.currentTarget=null,O=oe}}}}function Cn(l,u){var g=u[hr];g===void 0&&(g=u[hr]=new Set);var x=l+"__bubble";g.has(x)||(LP(u,l,2,!1),g.add(x))}function PA(l,u,g){var x=0;u&&(x|=4),LP(g,l,x,u)}var G1="_reactListening"+Math.random().toString(36).slice(2);function LA(l){if(!l[G1]){l[G1]=!0,xf.forEach(function(g){g!=="selectionchange"&&(hX.has(g)||PA(g,!1,l),PA(g,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[G1]||(u[G1]=!0,PA("selectionchange",!1,u))}}function LP(l,u,g,x){switch(rL(u)){case 2:var w=FX;break;case 8:w=kX;break;default:w=YA}g=w.bind(null,u,g,l),w=void 0,!th||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),x?w!==void 0?l.addEventListener(u,g,{capture:!0,passive:w}):l.addEventListener(u,g,!0):w!==void 0?l.addEventListener(u,g,{passive:w}):l.addEventListener(u,g,!1)}function UA(l,u,g,x,w){var O=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var W=x.stateNode.containerInfo;if(W===w)break;if(V===4)for(V=x.return;V!==null;){var oe=V.tag;if((oe===3||oe===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;W!==null;){if(V=Va(W),V===null)return;if(oe=V.tag,oe===5||oe===6||oe===26||oe===27){x=O=V;continue e}W=W.parentNode}}x=x.return}kg(function(){var Se=O,Ve=im(g),Ke=[];e:{var we=mm.get(l);if(we!==void 0){var Ce=wf,Zt=l;switch(l){case"keypress":if(Ql(g)===0)break e;case"keydown":case"keyup":Ce=Xg;break;case"focusin":Zt="focus",Ce=am;break;case"focusout":Zt="blur",Ce=am;break;case"beforeblur":case"afterblur":Ce=am;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=vA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Yg;break;case na:case rv:case _a:Ce=zb;break;case yl:Ce=hl;break;case"scroll":case"scrollend":Ce=Lb;break;case"wheel":Ce=yA;break;case"copy":case"cut":case"paste":Ce=jb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=om;break;case"toggle":case"beforetoggle":Ce=ec}var qt=(u&4)!==0,ci=!qt&&(l==="scroll"||l==="scrollend"),me=qt?we!==null?we+"Capture":null:we;qt=[];for(var fe=Se,be;fe!==null;){var Xe=fe;if(be=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||be===null||me===null||(Xe=Sf(fe,me),Xe!=null&&qt.push(Vv(fe,Xe,be))),ci)break;fe=fe.return}0<qt.length&&(we=new Ce(we,Zt,null,g,Ve),Ke.push({event:we,listeners:qt}))}}if((u&7)===0){e:{if(we=l==="mouseover"||l==="pointerover",Ce=l==="mouseout"||l==="pointerout",we&&g!==nm&&(Zt=g.relatedTarget||g.fromElement)&&(Va(Zt)||Zt[$s]))break e;if((Ce||we)&&(we=Ve.window===Ve?Ve:(we=Ve.ownerDocument)?we.defaultView||we.parentWindow:window,Ce?(Zt=g.relatedTarget||g.toElement,Ce=Se,Zt=Zt?Va(Zt):null,Zt!==null&&(ci=a(Zt),qt=Zt.tag,Zt!==ci||qt!==5&&qt!==27&&qt!==6)&&(Zt=null)):(Ce=null,Zt=Se),Ce!==Zt)){if(qt=Gg,Xe="onMouseLeave",me="onMouseEnter",fe="mouse",(l==="pointerout"||l==="pointerover")&&(qt=om,Xe="onPointerLeave",me="onPointerEnter",fe="pointer"),ci=Ce==null?we:ll(Ce),be=Zt==null?we:ll(Zt),we=new qt(Xe,fe+"leave",Ce,g,Ve),we.target=ci,we.relatedTarget=be,Xe=null,Va(Ve)===Se&&(qt=new qt(me,fe+"enter",Zt,g,Ve),qt.target=be,qt.relatedTarget=ci,Xe=qt),ci=Xe,Ce&&Zt)t:{for(qt=Ce,me=Zt,fe=0,be=qt;be;be=Qm(be))fe++;for(be=0,Xe=me;Xe;Xe=Qm(Xe))be++;for(;0<fe-be;)qt=Qm(qt),fe--;for(;0<be-fe;)me=Qm(me),be--;for(;fe--;){if(qt===me||me!==null&&qt===me.alternate)break t;qt=Qm(qt),me=Qm(me)}qt=null}else qt=null;Ce!==null&&UP(Ke,we,Ce,qt,!1),Zt!==null&&ci!==null&&UP(Ke,ci,Zt,qt,!0)}}e:{if(we=Se?ll(Se):window,Ce=we.nodeName&&we.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&we.type==="file")var Ct=cm;else if(Qg(we))if(um)Ct=ic;else{Ct=Kb;var Tn=xA}else Ce=we.nodeName,!Ce||Ce.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?Se&&tm(Se.elementType)&&(Ct=cm):Ct=fh;if(Ct&&(Ct=Ct(l,Se))){ya(Ke,Ct,g,Ve);break e}Tn&&Tn(l,we,Se),l==="focusout"&&Se&&we.type==="number"&&Se.memoizedProps.value!=null&&Xn(we,"number",we.value)}switch(Tn=Se?ll(Se):window,l){case"focusin":(Qg(Tn)||Tn.contentEditable==="true")&&(ml=Tn,dm=Se,hh=null);break;case"focusout":hh=dm=ml=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,iv(Ke,g,Ve);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":iv(Ke,g,Ve)}var zt;if(ah)e:{switch(l){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else nc?lh(l,g)&&(Xt="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Xt="onCompositionStart");Xt&&(oh&&g.locale!=="ko"&&(nc||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&nc&&(zt=Hg()):(fl=Ve,Vg="value"in fl?fl.value:fl.textContent,nc=!0)),Tn=q1(Se,Xt),0<Tn.length&&(Xt=new sm(Xt,l,null,g,Ve),Ke.push({event:Xt,listeners:Tn}),zt?Xt.data=zt:(zt=$g(g),zt!==null&&(Xt.data=zt)))),(zt=sh?ch(l,g):Zg(l,g))&&(Xt=q1(Se,"onBeforeInput"),0<Xt.length&&(Tn=new sm("onBeforeInput","beforeinput",null,g,Ve),Ke.push({event:Tn,listeners:Xt}),Tn.data=zt)),uX(Ke,l,Se,g,Ve)}PP(Ke,u)})}function Vv(l,u,g){return{instance:l,listener:u,currentTarget:g}}function q1(l,u){for(var g=u+"Capture",x=[];l!==null;){var w=l,O=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||O===null||(w=Sf(l,g),w!=null&&x.unshift(Vv(l,w,O)),w=Sf(l,u),w!=null&&x.push(Vv(l,w,O))),l.tag===3)return x;l=l.return}return[]}function Qm(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function UP(l,u,g,x,w){for(var O=u._reactName,V=[];g!==null&&g!==x;){var W=g,oe=W.alternate,Se=W.stateNode;if(W=W.tag,oe!==null&&oe===x)break;W!==5&&W!==26&&W!==27||Se===null||(oe=Se,w?(Se=Sf(g,O),Se!=null&&V.unshift(Vv(g,Se,oe))):w||(Se=Sf(g,O),Se!=null&&V.push(Vv(g,Se,oe)))),g=g.return}V.length!==0&&l.push({event:u,listeners:V})}var pX=/\r\n?/g,mX=/\u0000|\uFFFD/g;function IP(l){return(typeof l=="string"?l:""+l).replace(pX,`
`).replace(mX,"")}function zP(l,u){return u=IP(u),IP(l)===u}function X1(){}function li(l,u,g,x,w,O){switch(g){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||ri(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&ri(l,""+x);break;case"className":lt(l,"class",x);break;case"tabIndex":lt(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(l,g,x);break;case"style":Qd(l,x,O);break;case"data":if(u!=="object"){lt(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||g!=="href")){l.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=Jd(""+x),l.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(g==="formAction"?(u!=="input"&&li(l,u,"name",w.name,w,null),li(l,u,"formEncType",w.formEncType,w,null),li(l,u,"formMethod",w.formMethod,w,null),li(l,u,"formTarget",w.formTarget,w,null)):(li(l,u,"encType",w.encType,w,null),li(l,u,"method",w.method,w,null),li(l,u,"target",w.target,w,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=Jd(""+x),l.setAttribute(g,x);break;case"onClick":x!=null&&(l.onclick=X1);break;case"onScroll":x!=null&&Cn("scroll",l);break;case"onScrollEnd":x!=null&&Cn("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(w.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}g=Jd(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""+x):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":x===!0?l.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,x):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(g,x):l.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(g):l.setAttribute(g,x);break;case"popover":Cn("beforetoggle",l),Cn("toggle",l),de(l,"popover",x);break;case"xlinkActuate":ft(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ft(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ft(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ft(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ft(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ft(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ft(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ft(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ft(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":de(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=jg.get(g)||g,de(l,g,x))}}function IA(l,u,g,x,w,O){switch(g){case"style":Qd(l,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(w.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof x=="string"?ri(l,x):(typeof x=="number"||typeof x=="bigint")&&ri(l,""+x);break;case"onScroll":x!=null&&Cn("scroll",l);break;case"onScrollEnd":x!=null&&Cn("scrollend",l);break;case"onClick":x!=null&&(l.onclick=X1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bf.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(w=g.endsWith("Capture"),u=g.slice(2,w?g.length-7:void 0),O=l[ir]||null,O=O!=null?O[g]:null,typeof O=="function"&&l.removeEventListener(u,O,w),typeof x=="function")){typeof O!="function"&&O!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(u,x,w);break e}g in l?l[g]=x:x===!0?l.setAttribute(g,""):de(l,g,x)}}}function ca(l,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",l),Cn("load",l);var x=!1,w=!1,O;for(O in g)if(g.hasOwnProperty(O)){var V=g[O];if(V!=null)switch(O){case"src":x=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:li(l,u,O,V,g,null)}}w&&li(l,u,"srcSet",g.srcSet,g,null),x&&li(l,u,"src",g.src,g,null);return;case"input":Cn("invalid",l);var W=O=V=w=null,oe=null,Se=null;for(x in g)if(g.hasOwnProperty(x)){var Ve=g[x];if(Ve!=null)switch(x){case"name":w=Ve;break;case"type":V=Ve;break;case"checked":oe=Ve;break;case"defaultChecked":Se=Ve;break;case"value":O=Ve;break;case"defaultValue":W=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,u));break;default:li(l,u,x,Ve,g,null)}}ul(l,O,W,oe,Se,V,w,!1),Ut(l);return;case"select":Cn("invalid",l),x=V=O=null;for(w in g)if(g.hasOwnProperty(w)&&(W=g[w],W!=null))switch(w){case"value":O=W;break;case"defaultValue":V=W;break;case"multiple":x=W;default:li(l,u,w,W,g,null)}u=O,g=V,l.multiple=!!x,u!=null?Mi(l,!!x,u,!1):g!=null&&Mi(l,!!x,g,!0);return;case"textarea":Cn("invalid",l),O=w=x=null;for(V in g)if(g.hasOwnProperty(V)&&(W=g[V],W!=null))switch(V){case"value":x=W;break;case"defaultValue":w=W;break;case"children":O=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:li(l,u,V,W,g,null)}rr(l,x,w,O),Ut(l);return;case"option":for(oe in g)if(g.hasOwnProperty(oe)&&(x=g[oe],x!=null))switch(oe){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:li(l,u,oe,x,g,null)}return;case"dialog":Cn("beforetoggle",l),Cn("toggle",l),Cn("cancel",l),Cn("close",l);break;case"iframe":case"object":Cn("load",l);break;case"video":case"audio":for(x=0;x<kv.length;x++)Cn(kv[x],l);break;case"image":Cn("error",l),Cn("load",l);break;case"details":Cn("toggle",l);break;case"embed":case"source":case"link":Cn("error",l),Cn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in g)if(g.hasOwnProperty(Se)&&(x=g[Se],x!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:li(l,u,Se,x,g,null)}return;default:if(tm(u)){for(Ve in g)g.hasOwnProperty(Ve)&&(x=g[Ve],x!==void 0&&IA(l,u,Ve,x,g,void 0));return}}for(W in g)g.hasOwnProperty(W)&&(x=g[W],x!=null&&li(l,u,W,x,g,null))}function gX(l,u,g,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,O=null,V=null,W=null,oe=null,Se=null,Ve=null;for(Ce in g){var Ke=g[Ce];if(g.hasOwnProperty(Ce)&&Ke!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":oe=Ke;default:x.hasOwnProperty(Ce)||li(l,u,Ce,null,x,Ke)}}for(var we in x){var Ce=x[we];if(Ke=g[we],x.hasOwnProperty(we)&&(Ce!=null||Ke!=null))switch(we){case"type":O=Ce;break;case"name":w=Ce;break;case"checked":Se=Ce;break;case"defaultChecked":Ve=Ce;break;case"value":V=Ce;break;case"defaultValue":W=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,u));break;default:Ce!==Ke&&li(l,u,we,Ce,x,Ke)}}pr(l,V,W,oe,Se,Ve,O,w);return;case"select":Ce=V=W=we=null;for(O in g)if(oe=g[O],g.hasOwnProperty(O)&&oe!=null)switch(O){case"value":break;case"multiple":Ce=oe;default:x.hasOwnProperty(O)||li(l,u,O,null,x,oe)}for(w in x)if(O=x[w],oe=g[w],x.hasOwnProperty(w)&&(O!=null||oe!=null))switch(w){case"value":we=O;break;case"defaultValue":W=O;break;case"multiple":V=O;default:O!==oe&&li(l,u,w,O,x,oe)}u=W,g=V,x=Ce,we!=null?Mi(l,!!g,we,!1):!!x!=!!g&&(u!=null?Mi(l,!!g,u,!0):Mi(l,!!g,g?[]:"",!1));return;case"textarea":Ce=we=null;for(W in g)if(w=g[W],g.hasOwnProperty(W)&&w!=null&&!x.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:li(l,u,W,null,x,w)}for(V in x)if(w=x[V],O=g[V],x.hasOwnProperty(V)&&(w!=null||O!=null))switch(V){case"value":we=w;break;case"defaultValue":Ce=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==O&&li(l,u,V,w,x,O)}ea(l,we,Ce);return;case"option":for(var Zt in g)if(we=g[Zt],g.hasOwnProperty(Zt)&&we!=null&&!x.hasOwnProperty(Zt))switch(Zt){case"selected":l.selected=!1;break;default:li(l,u,Zt,null,x,we)}for(oe in x)if(we=x[oe],Ce=g[oe],x.hasOwnProperty(oe)&&we!==Ce&&(we!=null||Ce!=null))switch(oe){case"selected":l.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:li(l,u,oe,we,x,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in g)we=g[qt],g.hasOwnProperty(qt)&&we!=null&&!x.hasOwnProperty(qt)&&li(l,u,qt,null,x,we);for(Se in x)if(we=x[Se],Ce=g[Se],x.hasOwnProperty(Se)&&we!==Ce&&(we!=null||Ce!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,u));break;default:li(l,u,Se,we,x,Ce)}return;default:if(tm(u)){for(var ci in g)we=g[ci],g.hasOwnProperty(ci)&&we!==void 0&&!x.hasOwnProperty(ci)&&IA(l,u,ci,void 0,x,we);for(Ve in x)we=x[Ve],Ce=g[Ve],!x.hasOwnProperty(Ve)||we===Ce||we===void 0&&Ce===void 0||IA(l,u,Ve,we,x,Ce);return}}for(var me in g)we=g[me],g.hasOwnProperty(me)&&we!=null&&!x.hasOwnProperty(me)&&li(l,u,me,null,x,we);for(Ke in x)we=x[Ke],Ce=g[Ke],!x.hasOwnProperty(Ke)||we===Ce||we==null&&Ce==null||li(l,u,Ke,we,x,Ce)}var zA=null,BA=null;function W1(l){return l.nodeType===9?l:l.ownerDocument}function BP(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jP(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function jA(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var FA=null;function vX(){var l=window.event;return l&&l.type==="popstate"?l===FA?!1:(FA=l,!0):(FA=null,!1)}var FP=typeof setTimeout=="function"?setTimeout:void 0,yX=typeof clearTimeout=="function"?clearTimeout:void 0,kP=typeof Promise=="function"?Promise:void 0,xX=typeof queueMicrotask=="function"?queueMicrotask:typeof kP<"u"?function(l){return kP.resolve(null).then(l).catch(bX)}:FP;function bX(l){setTimeout(function(){throw l})}function od(l){return l==="head"}function VP(l,u){var g=u,x=0,w=0;do{var O=g.nextSibling;if(l.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(0<x&&8>x){g=x;var V=l.ownerDocument;if(g&1&&Hv(V.documentElement),g&2&&Hv(V.body),g&4)for(g=V.head,Hv(g),V=g.firstChild;V;){var W=V.nextSibling,oe=V.nodeName;V[ka]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&V.rel.toLowerCase()==="stylesheet"||g.removeChild(V),V=W}}if(w===0){l.removeChild(O),Zv(u);return}w--}else g==="$"||g==="$?"||g==="$!"?w++:x=g.charCodeAt(0)-48;else x=0;g=O}while(g);Zv(u)}function kA(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":kA(g),ni(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function _X(l,u,g,x){for(;l.nodeType===1;){var w=g;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[ka])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(O=l.getAttribute("rel"),O==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(O!==w.rel||l.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||l.getAttribute("title")!==(w.title==null?null:w.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(O=l.getAttribute("src"),(O!==(w.src==null?null:w.src)||l.getAttribute("type")!==(w.type==null?null:w.type)||l.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&O&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var O=w.name==null?null:""+w.name;if(w.type==="hidden"&&l.getAttribute("name")===O)return l}else return l;if(l=Ll(l.nextSibling),l===null)break}return null}function SX(l,u,g){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Ll(l.nextSibling),l===null))return null;return l}function VA(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function MX(l,u){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")u();else{var x=function(){u(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Ll(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return l}var HA=null;function HP(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return l;u--}else g==="/$"&&u++}l=l.previousSibling}return null}function GP(l,u,g){switch(u=W1(g),l){case"html":if(l=u.documentElement,!l)throw Error(i(452));return l;case"head":if(l=u.head,!l)throw Error(i(453));return l;case"body":if(l=u.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Hv(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);ni(l)}var Vo=new Map,qP=new Set;function Y1(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Au=X.d;X.d={f:EX,r:wX,D:AX,C:TX,L:CX,m:RX,X:DX,S:OX,M:NX};function EX(){var l=Au.f(),u=Fo();return l||u}function wX(l){var u=Qs(l);u!==null&&u.tag===5&&u.type==="form"?T1(u):Au.r(l)}var Jm=typeof document>"u"?null:document;function XP(l,u,g){var x=Jm;if(x&&typeof u=="string"&&u){var w=Xi(u);w='link[rel="'+l+'"][href="'+w+'"]',typeof g=="string"&&(w+='[crossorigin="'+g+'"]'),qP.has(w)||(qP.add(w),l={rel:l,crossOrigin:g,href:u},x.querySelector(w)===null&&(u=x.createElement("link"),ca(u,"link",l),qi(u),x.head.appendChild(u)))}}function AX(l){Au.D(l),XP("dns-prefetch",l,null)}function TX(l,u){Au.C(l,u),XP("preconnect",l,u)}function CX(l,u,g){Au.L(l,u,g);var x=Jm;if(x&&l&&u){var w='link[rel="preload"][as="'+Xi(u)+'"]';u==="image"&&g&&g.imageSrcSet?(w+='[imagesrcset="'+Xi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(w+='[imagesizes="'+Xi(g.imageSizes)+'"]')):w+='[href="'+Xi(l)+'"]';var O=w;switch(u){case"style":O=e0(l);break;case"script":O=t0(l)}Vo.has(O)||(l=d({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:l,as:u},g),Vo.set(O,l),x.querySelector(w)!==null||u==="style"&&x.querySelector(Gv(O))||u==="script"&&x.querySelector(qv(O))||(u=x.createElement("link"),ca(u,"link",l),qi(u),x.head.appendChild(u)))}}function RX(l,u){Au.m(l,u);var g=Jm;if(g&&l){var x=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Xi(x)+'"][href="'+Xi(l)+'"]',O=w;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=t0(l)}if(!Vo.has(O)&&(l=d({rel:"modulepreload",href:l},u),Vo.set(O,l),g.querySelector(w)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(qv(O)))return}x=g.createElement("link"),ca(x,"link",l),qi(x),g.head.appendChild(x)}}}function OX(l,u,g){Au.S(l,u,g);var x=Jm;if(x&&l){var w=cl(x).hoistableStyles,O=e0(l);u=u||"default";var V=w.get(O);if(!V){var W={loading:0,preload:null};if(V=x.querySelector(Gv(O)))W.loading=5;else{l=d({rel:"stylesheet",href:l,"data-precedence":u},g),(g=Vo.get(O))&&GA(l,g);var oe=V=x.createElement("link");qi(oe),ca(oe,"link",l),oe._p=new Promise(function(Se,Ve){oe.onload=Se,oe.onerror=Ve}),oe.addEventListener("load",function(){W.loading|=1}),oe.addEventListener("error",function(){W.loading|=2}),W.loading|=4,K1(V,u,x)}V={type:"stylesheet",instance:V,count:1,state:W},w.set(O,V)}}}function DX(l,u){Au.X(l,u);var g=Jm;if(g&&l){var x=cl(g).hoistableScripts,w=t0(l),O=x.get(w);O||(O=g.querySelector(qv(w)),O||(l=d({src:l,async:!0},u),(u=Vo.get(w))&&qA(l,u),O=g.createElement("script"),qi(O),ca(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function NX(l,u){Au.M(l,u);var g=Jm;if(g&&l){var x=cl(g).hoistableScripts,w=t0(l),O=x.get(w);O||(O=g.querySelector(qv(w)),O||(l=d({src:l,async:!0,type:"module"},u),(u=Vo.get(w))&&qA(l,u),O=g.createElement("script"),qi(O),ca(O,"link",l),g.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(w,O))}}function WP(l,u,g,x){var w=(w=pe.current)?Y1(w):null;if(!w)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=e0(g.href),g=cl(w).hoistableStyles,x=g.get(u),x||(x={type:"style",instance:null,count:0,state:null},g.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=e0(g.href);var O=cl(w).hoistableStyles,V=O.get(l);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(l,V),(O=w.querySelector(Gv(l)))&&!O._p&&(V.instance=O,V.state.loading=5),Vo.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Vo.set(l,g),O||PX(w,l,g,V.state))),u&&x===null)throw Error(i(528,""));return V}if(u&&x!==null)throw Error(i(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=t0(g),g=cl(w).hoistableScripts,x=g.get(u),x||(x={type:"script",instance:null,count:0,state:null},g.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function e0(l){return'href="'+Xi(l)+'"'}function Gv(l){return'link[rel="stylesheet"]['+l+"]"}function YP(l){return d({},l,{"data-precedence":l.precedence,precedence:null})}function PX(l,u,g,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),ca(u,"link",g),qi(u),l.head.appendChild(u))}function t0(l){return'[src="'+Xi(l)+'"]'}function qv(l){return"script[async]"+l}function KP(l,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+Xi(g.href)+'"]');if(x)return u.instance=x,qi(x),x;var w=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),qi(x),ca(x,"style",w),K1(x,g.precedence,l),u.instance=x;case"stylesheet":w=e0(g.href);var O=l.querySelector(Gv(w));if(O)return u.state.loading|=4,u.instance=O,qi(O),O;x=YP(g),(w=Vo.get(w))&&GA(x,w),O=(l.ownerDocument||l).createElement("link"),qi(O);var V=O;return V._p=new Promise(function(W,oe){V.onload=W,V.onerror=oe}),ca(O,"link",x),u.state.loading|=4,K1(O,g.precedence,l),u.instance=O;case"script":return O=t0(g.src),(w=l.querySelector(qv(O)))?(u.instance=w,qi(w),w):(x=g,(w=Vo.get(O))&&(x=d({},g),qA(x,w)),l=l.ownerDocument||l,w=l.createElement("script"),qi(w),ca(w,"link",x),l.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,K1(x,g.precedence,l));return u.instance}function K1(l,u,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=x.length?x[x.length-1]:null,O=w,V=0;V<x.length;V++){var W=x[V];if(W.dataset.precedence===u)O=W;else if(O!==w)break}O?O.parentNode.insertBefore(l,O.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(l,u.firstChild))}function GA(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function qA(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var $1=null;function $P(l,u,g){if($1===null){var x=new Map,w=$1=new Map;w.set(g,x)}else w=$1,x=w.get(g),x||(x=new Map,w.set(g,x));if(x.has(l))return x;for(x.set(l,null),g=g.getElementsByTagName(l),w=0;w<g.length;w++){var O=g[w];if(!(O[ka]||O[nr]||l==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var V=O.getAttribute(u)||"";V=l+V;var W=x.get(V);W?W.push(O):x.set(V,[O])}}return x}function ZP(l,u,g){l=l.ownerDocument||l,l.head.insertBefore(g,u==="title"?l.querySelector("head > title"):null)}function LX(l,u,g){if(g===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function QP(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Xv=null;function UX(){}function IX(l,u,g){if(Xv===null)throw Error(i(475));var x=Xv;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=e0(g.href),O=l.querySelector(Gv(w));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(x.count++,x=Z1.bind(x),l.then(x,x)),u.state.loading|=4,u.instance=O,qi(O);return}O=l.ownerDocument||l,g=YP(g),(w=Vo.get(w))&&GA(g,w),O=O.createElement("link"),qi(O);var V=O;V._p=new Promise(function(W,oe){V.onload=W,V.onerror=oe}),ca(O,"link",g),u.instance=O}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=Z1.bind(x),l.addEventListener("load",u),l.addEventListener("error",u))}}function zX(){if(Xv===null)throw Error(i(475));var l=Xv;return l.stylesheets&&l.count===0&&XA(l,l.stylesheets),0<l.count?function(u){var g=setTimeout(function(){if(l.stylesheets&&XA(l,l.stylesheets),l.unsuspend){var x=l.unsuspend;l.unsuspend=null,x()}},6e4);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(g)}}:null}function Z1(){if(this.count--,this.count===0){if(this.stylesheets)XA(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Q1=null;function XA(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Q1=new Map,u.forEach(BX,l),Q1=null,Z1.call(l))}function BX(l,u){if(!(u.state.loading&4)){var g=Q1.get(l);if(g)var x=g.get(null);else{g=new Map,Q1.set(l,g);for(var w=l.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<w.length;O++){var V=w[O];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),x=V)}x&&g.set(null,x)}w=u.instance,V=w.getAttribute("data-precedence"),O=g.get(V)||x,O===x&&g.set(null,w),g.set(V,w),this.count++,x=Z1.bind(this),w.addEventListener("load",x),w.addEventListener("error",x),O?O.parentNode.insertBefore(w,O.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(w,l.firstChild)),u.state.loading|=4}}var Wv={$$typeof:T,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function jX(l,u,g,x,w,O,V,W){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=x,this.onUncaughtError=w,this.onCaughtError=O,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function JP(l,u,g,x,w,O,V,W,oe,Se,Ve,Ke){return l=new jX(l,u,g,V,W,oe,Se,Ke),u=1,O===!0&&(u|=24),O=Sa(3,null,null,u),l.current=O,O.stateNode=l,u=Sm(),u.refCount++,l.pooledCache=u,u.refCount++,O.memoizedState={element:x,isDehydrated:g,cache:u},vv(O),l}function eL(l){return l?(l=sc,l):sc}function tL(l,u,g,x,w,O){w=eL(w),x.context===null?x.context=w:x.pendingContext=w,x=Ro(u),x.payload={element:g},O=O===void 0?null:O,O!==null&&(x.callback=O),g=El(l,x,u),g!==null&&(la(g,l,u),lu(g,l,u))}function nL(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function WA(l,u){nL(l,u),(l=l.alternate)&&nL(l,u)}function iL(l){if(l.tag===13){var u=xl(l,67108864);u!==null&&la(u,l,67108864),WA(l,67108864)}}var J1=!0;function FX(l,u,g,x){var w=H.T;H.T=null;var O=X.p;try{X.p=2,YA(l,u,g,x)}finally{X.p=O,H.T=w}}function kX(l,u,g,x){var w=H.T;H.T=null;var O=X.p;try{X.p=8,YA(l,u,g,x)}finally{X.p=O,H.T=w}}function YA(l,u,g,x){if(J1){var w=KA(x);if(w===null)UA(l,u,x,e_,g),aL(l,x);else if(HX(w,l,u,g,x))x.stopPropagation();else if(aL(l,x),u&4&&-1<VX.indexOf(l)){for(;w!==null;){var O=Qs(w);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var V=At(O.pendingLanes);if(V!==0){var W=O;for(W.pendingLanes|=2,W.entangledLanes|=2;V;){var oe=1<<31-mt(V);W.entanglements[1]|=oe,V&=~oe}Oc(O),(Fn&6)===0&&(qr=je()+500,Fv(0))}}break;case 13:W=xl(O,2),W!==null&&la(W,O,2),Fo(),WA(O,2)}if(O=KA(x),O===null&&UA(l,u,x,e_,g),O===w)break;w=O}w!==null&&x.stopPropagation()}else UA(l,u,x,null,g)}}function KA(l){return l=im(l),$A(l)}var e_=null;function $A(l){if(e_=null,l=Va(l),l!==null){var u=a(l);if(u===null)l=null;else{var g=u.tag;if(g===13){if(l=s(u),l!==null)return l;l=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return e_=l,null}function rL(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case Ze:return 2;case dt:return 8;case ot:case vt:return 32;case J:return 268435456;default:return 32}default:return 32}}var ZA=!1,ld=null,cd=null,ud=null,Yv=new Map,Kv=new Map,fd=[],VX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aL(l,u){switch(l){case"focusin":case"focusout":ld=null;break;case"dragenter":case"dragleave":cd=null;break;case"mouseover":case"mouseout":ud=null;break;case"pointerover":case"pointerout":Yv.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kv.delete(u.pointerId)}}function $v(l,u,g,x,w,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:g,eventSystemFlags:x,nativeEvent:O,targetContainers:[w]},u!==null&&(u=Qs(u),u!==null&&iL(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),l)}function HX(l,u,g,x,w){switch(u){case"focusin":return ld=$v(ld,l,u,g,x,w),!0;case"dragenter":return cd=$v(cd,l,u,g,x,w),!0;case"mouseover":return ud=$v(ud,l,u,g,x,w),!0;case"pointerover":var O=w.pointerId;return Yv.set(O,$v(Yv.get(O)||null,l,u,g,x,w)),!0;case"gotpointercapture":return O=w.pointerId,Kv.set(O,$v(Kv.get(O)||null,l,u,g,x,w)),!0}return!1}function sL(l){var u=Va(l.target);if(u!==null){var g=a(u);if(g!==null){if(u=g.tag,u===13){if(u=s(g),u!==null){l.blockedOn=u,tr(l.priority,function(){if(g.tag===13){var x=Ti();x=Ot(x);var w=xl(g,x);w!==null&&la(w,g,x),WA(g,x)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function t_(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var g=KA(l.nativeEvent);if(g===null){g=l.nativeEvent;var x=new g.constructor(g.type,g);nm=x,g.target.dispatchEvent(x),nm=null}else return u=Qs(g),u!==null&&iL(u),l.blockedOn=g,!1;u.shift()}return!0}function oL(l,u,g){t_(l)&&g.delete(u)}function GX(){ZA=!1,ld!==null&&t_(ld)&&(ld=null),cd!==null&&t_(cd)&&(cd=null),ud!==null&&t_(ud)&&(ud=null),Yv.forEach(oL),Kv.forEach(oL)}function n_(l,u){l.blockedOn===u&&(l.blockedOn=null,ZA||(ZA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GX)))}var i_=null;function lL(l){i_!==l&&(i_=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){i_===l&&(i_=null);for(var u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],w=l[u+2];if(typeof x!="function"){if($A(x||g)===null)continue;break}var O=Qs(g);O!==null&&(l.splice(u,3),u-=3,Pv(O,{pending:!0,data:w,method:g.method,action:x},x,w))}}))}function Zv(l){function u(oe){return n_(oe,l)}ld!==null&&n_(ld,l),cd!==null&&n_(cd,l),ud!==null&&n_(ud,l),Yv.forEach(u),Kv.forEach(u);for(var g=0;g<fd.length;g++){var x=fd[g];x.blockedOn===l&&(x.blockedOn=null)}for(;0<fd.length&&(g=fd[0],g.blockedOn===null);)sL(g),g.blockedOn===null&&fd.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var w=g[x],O=g[x+1],V=w[ir]||null;if(typeof O=="function")V||lL(g);else if(V){var W=null;if(O&&O.hasAttribute("formAction")){if(w=O,V=O[ir]||null)W=V.formAction;else if($A(w)!==null)continue}else W=V.action;typeof W=="function"?g[x+1]=W:(g.splice(x,3),x-=3),lL(g)}}}function QA(l){this._internalRoot=l}r_.prototype.render=QA.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(i(409));var g=u.current,x=Ti();tL(g,x,l,u,null,null)},r_.prototype.unmount=QA.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;tL(l.current,2,null,l,null,null),Fo(),u[$s]=null}};function r_(l){this._internalRoot=l}r_.prototype.unstable_scheduleHydration=function(l){if(l){var u=fn();l={blockedOn:null,target:l,priority:u};for(var g=0;g<fd.length&&u!==0&&u<fd[g].priority;g++);fd.splice(g,0,l),g===0&&sL(l)}};var cL=e.version;if(cL!=="19.1.1")throw Error(i(527,cL,"19.1.1"));X.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=c(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var qX={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a_.isDisabled&&a_.supportsFiber)try{Ie=a_.inject(qX),ze=a_}catch{}}return Jv.createRoot=function(l,u){if(!r(l))throw Error(i(299));var g=!1,x="",w=Lh,O=jm,V=j1,W=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(W=u.unstable_transitionCallbacks)),u=JP(l,1,!1,null,null,g,x,w,O,V,W,null),l[$s]=u.current,LA(l),new QA(u)},Jv.hydrateRoot=function(l,u,g){if(!r(l))throw Error(i(299));var x=!1,w="",O=Lh,V=jm,W=j1,oe=null,Se=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(w=g.identifierPrefix),g.onUncaughtError!==void 0&&(O=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(W=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(oe=g.unstable_transitionCallbacks),g.formState!==void 0&&(Se=g.formState)),u=JP(l,1,!0,u,g??null,x,w,O,V,W,oe,Se),u.context=eL(null),g=u.current,x=Ti(),x=Ot(x),w=Ro(x),w.callback=null,El(g,w,x),g=x,u.current.lanes=g,rt(u,g),Oc(u),l[$s]=u.current,LA(l),new r_(u)},Jv.version="19.1.1",Jv}var xL;function nW(){if(xL)return tT.exports;xL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tT.exports=tW(),tT.exports}var c6=nW();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bL="popstate";function iW(t={}){function e(i,r){let{pathname:a,search:s,hash:o}=i.location;return xC("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ax(r)}return aW(e,n,null,t)}function Hi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rW(){return Math.random().toString(36).substring(2,10)}function _L(t,e){return{usr:t.state,key:t.key,idx:e}}function xC(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vg(e):e,state:n,key:e&&e.key||i||rW()}}function ax({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function aW(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",c=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function m(){o="POP";let S=d(),M=S==null?null:S-f;f=S,c&&c({action:o,location:E.location,delta:M})}function v(S,M){o="PUSH";let C=xC(E.location,S,M);f=d()+1;let T=_L(C,f),L=E.createHref(C);try{s.pushState(T,"",L)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(L)}a&&c&&c({action:o,location:E.location,delta:1})}function y(S,M){o="REPLACE";let C=xC(E.location,S,M);f=d();let T=_L(C,f),L=E.createHref(C);s.replaceState(T,"",L),a&&c&&c({action:o,location:E.location,delta:0})}function _(S){return sW(S)}let E={get action(){return o},get location(){return t(r,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(bL,m),c=S,()=>{r.removeEventListener(bL,m),c=null}},createHref(S){return e(r,S)},createURL:_,encodeLocation(S){let M=_(S);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:y,go(S){return s.go(S)}};return E}function sW(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Hi(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ax(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function u6(t,e,n="/"){return oW(t,e,n,!1)}function oW(t,e,n,i){let r=typeof e=="string"?vg(e):e,a=Ku(r.pathname||"/",n);if(a==null)return null;let s=f6(t);lW(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let f=xW(a);o=vW(s[c],f,i)}return o}function f6(t,e=[],n=[],i="",r=!1){let a=(s,o,c=r,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&c)return;Hi(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let m=Gu([i,d.relativePath]),v=n.concat(d);s.children&&s.children.length>0&&(Hi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),f6(s.children,e,v,m,c)),!(s.path==null&&!s.index)&&e.push({path:m,score:mW(m,s.index),routesMeta:v})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let c of d6(s.path))a(s,o,!0,c)}),e}function d6(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=d6(i.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function lW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gW(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var cW=/^:[\w-]+$/,uW=3,fW=2,dW=1,hW=10,pW=-2,SL=t=>t==="*";function mW(t,e){let n=t.split("/"),i=n.length;return n.some(SL)&&(i+=pW),e&&(i+=fW),n.filter(r=>!SL(r)).reduce((r,a)=>r+(cW.test(a)?uW:a===""?dW:hW),i)}function gW(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function vW(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",s=[];for(let o=0;o<i.length;++o){let c=i[o],f=o===i.length-1,d=a==="/"?e:e.slice(a.length)||"/",m=WS({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),v=c.route;if(!m&&f&&n&&!i[i.length-1].route.index&&(m=WS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:Gu([a,m.pathname]),pathnameBase:MW(Gu([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=Gu([a,m.pathnameBase]))}return s}function WS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=yW(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((f,{paramName:d,isOptional:m},v)=>{if(d==="*"){let _=o[v]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const y=o[v];return m&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function yW(t,e=!1,n=!0){Wc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function xW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wc(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ku(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function bW(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?vg(t):t;return{pathname:n?n.startsWith("/")?n:_W(n,e):e,search:EW(i),hash:wW(r)}}function _W(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function aT(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SW(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h6(t){let e=SW(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function p6(t,e,n,i=!1){let r;typeof t=="string"?r=vg(t):(r={...t},Hi(!r.pathname||!r.pathname.includes("?"),aT("?","pathname","search",r)),Hi(!r.pathname||!r.pathname.includes("#"),aT("#","pathname","hash",r)),Hi(!r.search||!r.search.includes("#"),aT("#","search","hash",r)));let a=t===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!i&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}o=m>=0?e[m]:"/"}let c=bW(r,o),f=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var Gu=t=>t.join("/").replace(/\/\/+/g,"/"),MW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var m6=["POST","PUT","PATCH","DELETE"];new Set(m6);var TW=["GET",...m6];new Set(TW);var yg=U.createContext(null);yg.displayName="DataRouter";var kE=U.createContext(null);kE.displayName="DataRouterState";U.createContext(!1);var g6=U.createContext({isTransitioning:!1});g6.displayName="ViewTransition";var CW=U.createContext(new Map);CW.displayName="Fetchers";var RW=U.createContext(null);RW.displayName="Await";var tu=U.createContext(null);tu.displayName="Navigation";var Xx=U.createContext(null);Xx.displayName="Location";var cf=U.createContext({outlet:null,matches:[],isDataRoute:!1});cf.displayName="Route";var xO=U.createContext(null);xO.displayName="RouteError";function OW(t,{relative:e}={}){Hi(Wx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(tu),{hash:r,pathname:a,search:s}=Yx(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Gu([n,a])),i.createHref({pathname:o,search:s,hash:r})}function Wx(){return U.useContext(Xx)!=null}function Wp(){return Hi(Wx(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Xx).location}var v6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y6(t){U.useContext(tu).static||U.useLayoutEffect(t)}function Vd(){let{isDataRoute:t}=U.useContext(cf);return t?HW():DW()}function DW(){Hi(Wx(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(yg),{basename:e,navigator:n}=U.useContext(tu),{matches:i}=U.useContext(cf),{pathname:r}=Wp(),a=JSON.stringify(h6(i)),s=U.useRef(!1);return y6(()=>{s.current=!0}),U.useCallback((c,f={})=>{if(Wc(s.current,v6),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=p6(c,JSON.parse(a),r,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gu([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,a,r,t])}U.createContext(null);function Yx(t,{relative:e}={}){let{matches:n}=U.useContext(cf),{pathname:i}=Wp(),r=JSON.stringify(h6(n));return U.useMemo(()=>p6(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function NW(t,e){return x6(t,e)}function x6(t,e,n,i,r){Hi(Wx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(tu),{matches:s}=U.useContext(cf),o=s[s.length-1],c=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let C=m&&m.path||"";b6(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Wp(),y;if(e){let C=typeof e=="string"?vg(e):e;Hi(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=v;let _=y.pathname||"/",E=_;if(d!=="/"){let C=d.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=u6(t,{pathname:E});Wc(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Wc(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=zW(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Gu([d,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Gu([d,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),s,n,i,r);return e&&M?U.createElement(Xx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},M):M}function PW(){let t=VW(),e=AW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:r},n):null,s)}var LW=U.createElement(PW,null),UW=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?U.createElement(cf.Provider,{value:this.props.routeContext},U.createElement(xO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IW({routeContext:t,match:e,children:n}){let i=U.useContext(yg);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(cf.Provider,{value:t},n)}function zW(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n?.errors;if(s!=null){let f=a.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);Hi(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,c=-1;if(n)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:m,errors:v}=n,y=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((f,d,m)=>{let v,y=!1,_=null,E=null;n&&(v=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||LW,o&&(c<0&&m===0?(b6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):c===m&&(y=!0,E=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),M=()=>{let C;return v?C=_:y?C=E:d.route.Component?C=U.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=f,U.createElement(IW,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?U.createElement(UW,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):M()},null)}function bO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BW(t){let e=U.useContext(yg);return Hi(e,bO(t)),e}function jW(t){let e=U.useContext(kE);return Hi(e,bO(t)),e}function FW(t){let e=U.useContext(cf);return Hi(e,bO(t)),e}function _O(t){let e=FW(t),n=e.matches[e.matches.length-1];return Hi(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kW(){return _O("useRouteId")}function VW(){let t=U.useContext(xO),e=jW("useRouteError"),n=_O("useRouteError");return t!==void 0?t:e.errors?.[n]}function HW(){let{router:t}=BW("useNavigate"),e=_O("useNavigate"),n=U.useRef(!1);return y6(()=>{n.current=!0}),U.useCallback(async(r,a={})=>{Wc(n.current,v6),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var ML={};function b6(t,e,n){!e&&!ML[t]&&(ML[t]=!0,Wc(!1,n))}U.memo(GW);function GW({routes:t,future:e,state:n,unstable_onError:i}){return x6(t,void 0,n,i,e)}function Uu(t){Hi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qW({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){Hi(!Wx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),o=U.useMemo(()=>({basename:s,navigator:r,static:a,future:{}}),[s,r,a]);typeof n=="string"&&(n=vg(n));let{pathname:c="/",search:f="",hash:d="",state:m=null,key:v="default"}=n,y=U.useMemo(()=>{let _=Ku(c,s);return _==null?null:{location:{pathname:_,search:f,hash:d,state:m,key:v},navigationType:i}},[s,c,f,d,m,v,i]);return Wc(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:U.createElement(tu.Provider,{value:o},U.createElement(Xx.Provider,{children:e,value:y}))}function XW({children:t,location:e}){return NW(bC(t),e)}function bC(t,e=[]){let n=[];return U.Children.forEach(t,(i,r)=>{if(!U.isValidElement(i))return;let a=[...e,r];if(i.type===U.Fragment){n.push.apply(n,bC(i.props.children,a));return}Hi(i.type===Uu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=bC(i.props.children,a)),n.push(s)}),n}var wS="get",AS="application/x-www-form-urlencoded";function VE(t){return t!=null&&typeof t.tagName=="string"}function WW(t){return VE(t)&&t.tagName.toLowerCase()==="button"}function YW(t){return VE(t)&&t.tagName.toLowerCase()==="form"}function KW(t){return VE(t)&&t.tagName.toLowerCase()==="input"}function $W(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZW(t,e){return t.button===0&&(!e||e==="_self")&&!$W(t)}var s_=null;function QW(){if(s_===null)try{new FormData(document.createElement("form"),0),s_=!1}catch{s_=!0}return s_}var JW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sT(t){return t!=null&&!JW.has(t)?(Wc(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${AS}"`),null):t}function eY(t,e){let n,i,r,a,s;if(YW(t)){let o=t.getAttribute("action");i=o?Ku(o,e):null,n=t.getAttribute("method")||wS,r=sT(t.getAttribute("enctype"))||AS,a=new FormData(t)}else if(WW(t)||KW(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(i=c?Ku(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||wS,r=sT(t.getAttribute("formenctype"))||sT(o.getAttribute("enctype"))||AS,a=new FormData(o,t),!QW()){let{name:f,type:d,value:m}=t;if(d==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,m)}}else{if(VE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wS,i=null,r=AS,s=t}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function SO(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tY(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Ku(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function nY(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iY(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rY(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await nY(a,n);return s.links?s.links():[]}return[]}));return lY(i.flat(1).filter(iY).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function EL(t,e,n,i,r,a){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,o=(c,f)=>n[f].pathname!==c.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||o(c,f)):a==="data"?e.filter((c,f)=>{let d=i.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function aY(t,e,{includeHydrateFallback:n}={}){return sY(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function sY(t){return[...new Set(t)]}function oY(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function lY(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(oY(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function _6(){let t=U.useContext(yg);return SO(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cY(){let t=U.useContext(kE);return SO(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var MO=U.createContext(void 0);MO.displayName="FrameworkContext";function S6(){let t=U.useContext(MO);return SO(t,"You must render this element inside a <HydratedRouter> element"),t}function uY(t,e){let n=U.useContext(MO),[i,r]=U.useState(!1),[a,s]=U.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:m}=e,v=U.useRef(null);U.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=M=>{M.forEach(C=>{s(C.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),U.useEffect(()=>{if(i){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[i]);let y=()=>{r(!0)},_=()=>{r(!1),s(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ey(o,y),onBlur:ey(c,_),onMouseEnter:ey(f,y),onMouseLeave:ey(d,_),onTouchStart:ey(m,y)}]:[!1,v,{}]}function ey(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fY({page:t,...e}){let{router:n}=_6(),i=U.useMemo(()=>u6(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(hY,{page:t,matches:i,...e}):null}function dY(t){let{manifest:e,routeModules:n}=S6(),[i,r]=U.useState([]);return U.useEffect(()=>{let a=!1;return rY(t,e,n).then(s=>{a||r(s)}),()=>{a=!0}},[t,e,n]),i}function hY({page:t,matches:e,...n}){let i=Wp(),{manifest:r,routeModules:a}=S6(),{basename:s}=_6(),{loaderData:o,matches:c}=cY(),f=U.useMemo(()=>EL(t,e,c,r,i,"data"),[t,e,c,r,i]),d=U.useMemo(()=>EL(t,e,c,r,i,"assets"),[t,e,c,r,i]),m=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(e.forEach(M=>{let C=r.routes[M.route.id];!C||!C.hasLoader||(!f.some(T=>T.route.id===M.route.id)&&M.route.id in o&&a[M.route.id]?.shouldRevalidate||C.hasClientLoader?E=!0:_.add(M.route.id))}),_.size===0)return[];let S=tY(t,s,"data");return E&&_.size>0&&S.searchParams.set("_routes",e.filter(M=>_.has(M.route.id)).map(M=>M.route.id).join(",")),[S.pathname+S.search]},[s,o,i,r,f,e,t,a]),v=U.useMemo(()=>aY(d,r),[d,r]),y=dY(d);return U.createElement(U.Fragment,null,m.map(_=>U.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>U.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),y.map(({key:_,link:E})=>U.createElement("link",{key:_,nonce:n.nonce,...E})))}function pY(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M6&&(window.__reactRouterVersion="7.9.2")}catch{}function mY({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=iW({window:n,v5Compat:!0}));let r=i.current,[a,s]=U.useState({action:r.action,location:r.location}),o=U.useCallback(c=>{U.startTransition(()=>s(c))},[s]);return U.useLayoutEffect(()=>r.listen(o),[r,o]),U.createElement(qW,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var E6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w6=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:c,to:f,preventScrollReset:d,viewTransition:m,...v},y){let{basename:_}=U.useContext(tu),E=typeof f=="string"&&E6.test(f),S,M=!1;if(typeof f=="string"&&E&&(S=f,M6))try{let I=new URL(window.location.href),j=f.startsWith("//")?new URL(I.protocol+f):new URL(f),k=Ku(j.pathname,_);j.origin===I.origin&&k!=null?f=k+j.search+j.hash:M=!0}catch{Wc(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=OW(f,{relative:r}),[T,L,P]=uY(i,v),N=xY(f,{replace:s,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:m});function z(I){e&&e(I),I.defaultPrevented||N(I)}let F=U.createElement("a",{...v,...P,href:S||C,onClick:M||a?e:z,ref:pY(y,L),target:c,"data-discover":!E&&n==="render"?"true":void 0});return T&&!E?U.createElement(U.Fragment,null,F,U.createElement(fY,{page:C})):F});w6.displayName="Link";var gY=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:c,...f},d){let m=Yx(s,{relative:f.relative}),v=Wp(),y=U.useContext(kE),{navigator:_,basename:E}=U.useContext(tu),S=y!=null&&EY(m)&&o===!0,M=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,C=v.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(C=C.toLowerCase(),T=T?T.toLowerCase():null,M=M.toLowerCase()),T&&E&&(T=Ku(T,E)||T);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let P=C===M||!r&&C.startsWith(M)&&C.charAt(L)==="/",N=T!=null&&(T===M||!r&&T.startsWith(M)&&T.charAt(M.length)==="/"),z={isActive:P,isPending:N,isTransitioning:S},F=P?e:void 0,I;typeof i=="function"?I=i(z):I=[i,P?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(z):a;return U.createElement(w6,{...f,"aria-current":F,className:I,ref:d,style:j,to:s,viewTransition:o},typeof c=="function"?c(z):c)});gY.displayName="NavLink";var vY=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:s=wS,action:o,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:m,...v},y)=>{let _=SY(),E=MY(o,{relative:f}),S=s.toLowerCase()==="get"?"get":"post",M=typeof o=="string"&&E6.test(o),C=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let L=T.nativeEvent.submitter,P=L?.getAttribute("formmethod")||s;_(L||T.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:r,state:a,relative:f,preventScrollReset:d,viewTransition:m})};return U.createElement("form",{ref:y,method:S,action:E,onSubmit:i?c:C,...v,"data-discover":!M&&t==="render"?"true":void 0})});vY.displayName="Form";function yY(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A6(t){let e=U.useContext(yg);return Hi(e,yY(t)),e}function xY(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s}={}){let o=Vd(),c=Wp(),f=Yx(t,{relative:a});return U.useCallback(d=>{if(ZW(d,e)){d.preventDefault();let m=n!==void 0?n:ax(c)===ax(f);o(t,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:s})}},[c,o,f,n,i,e,t,r,a,s])}var bY=0,_Y=()=>`__${String(++bY)}__`;function SY(){let{router:t}=A6("useSubmit"),{basename:e}=U.useContext(tu),n=kW();return U.useCallback(async(i,r={})=>{let{action:a,method:s,encType:o,formData:c,body:f}=eY(i,e);if(r.navigate===!1){let d=r.fetcherKey||_Y();await t.fetch(d,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||o,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||s,formEncType:r.encType||o,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function MY(t,{relative:e}={}){let{basename:n}=U.useContext(tu),i=U.useContext(cf);Hi(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Yx(t||".",{relative:e})},s=Wp();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Gu([n,a.pathname])),ax(a)}function EY(t,{relative:e}={}){let n=U.useContext(g6);Hi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A6("useViewTransitionState"),r=Yx(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ku(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Ku(n.nextLocation.pathname,i)||n.nextLocation.pathname;return WS(r.pathname,s)!=null||WS(r.pathname,a)!=null}var T6=l6();const C6=U.createContext(void 0),wY=({children:t})=>{const[e,n]=U.useState([]),i=s=>{n(o=>[...o,{...s,id:`${s.type}-${Date.now()}`}])},r=s=>{n(o=>o.filter(c=>c.id!==s))},a=s=>{n(s)};return R.jsx(C6.Provider,{value:{laboratoryComponents:e,addComponent:i,removeComponent:r,updateComponentOrder:a},children:t})},R6=()=>{const t=U.useContext(C6);if(!t)throw new Error("useComponentContext must be used within a ComponentProvider");return t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),wL=t=>{const e=TY(t);return e.charAt(0).toUpperCase()+e.slice(1)},O6=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),CY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:s,...o},c)=>U.createElement("svg",{ref:c,...RY,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:O6("lucide",r),...!a&&!CY(o)&&{"aria-hidden":"true"},...o},[...s.map(([f,d])=>U.createElement(f,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const n=U.forwardRef(({className:i,...r},a)=>U.createElement(OY,{ref:a,iconNode:e,className:O6(`lucide-${AY(wL(t))}`,`lucide-${t}`,i),...r}));return n.displayName=wL(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Iu=bn("activity",DY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],PY=bn("bell",NY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],mp=bn("building-2",LY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IY=bn("calendar",UY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],BY=bn("camera",zY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sx=bn("chart-column",jY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_C=bn("circle-check-big",FY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],SC=bn("clock",kY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Ay=bn("cpu",VY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GY=bn("download",HY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],D6=bn("droplets",qY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WY=bn("eye-off",XY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kx=bn("eye",YY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$Y=bn("file-text",KY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],QY=bn("house",ZY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],AL=bn("layers",JY);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tK=bn("lock",eK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oT=bn("log-out",nK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rK=bn("mail",iK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],TL=bn("menu",aK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M5 12h14",key:"1ays0h"}]],oK=bn("minus",sK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EO=bn("pen-line",lK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uK=bn("pen",cK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ox=bn("plus",fK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],hK=bn("power",dK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],mK=bn("rotate-ccw",pK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N6=bn("search",gK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YS=bn("settings",vK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xK=bn("shield",yK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],_K=bn("snowflake",bK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],K0=bn("thermometer",SK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$x=bn("trash-2",MK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wK=bn("trending-down",EK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TK=bn("trending-up",AK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MC=bn("triangle-alert",CK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hp=bn("user",RK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ic=bn("users",OK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],NK=bn("wind",DK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],EC=bn("x",PK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],UK=bn("zap-off",LK);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wC=bn("zap",IK),zK=[{id:"ac-1",name:"Aire Acondicionado",type:"air-conditioner",icon:"",description:"Control de temperatura"},{id:"cam-1",name:"Cmara de Seguridad",type:"camera",icon:"",description:"Monitoreo visual"},{id:"light-1",name:"Control de Luces",type:"light",icon:"",description:"Encendido/Apagado"},{id:"valve-1",name:"Vlvula de Agua",type:"valve",icon:"",description:"Control de flujo"}],P6=({isOpen:t,onClose:e})=>{const[n,i]=U.useState(!1),{addComponent:r}=R6(),a=(c,f)=>{c.dataTransfer.setData("application/json",JSON.stringify(f)),c.dataTransfer.effectAllowed="copy",i(!0),c.target.classList.add("opacity-50","border-blue-500")},s=c=>{i(!1),c.target.classList.remove("opacity-50","border-blue-500")},o=()=>{n||e(),i(!1)};return rx.useEffect(()=>{const c=f=>{f.key==="Escape"&&t&&e()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t,e]),R.jsxs(R.Fragment,{children:[t&&!n&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:o}),R.jsxs("div",{className:`
        fixed right-0 top-0 h-full w-80 bg-gray-900 border-l border-gray-700 shadow-2xl
        transform transition-transform duration-300 ease-in-out z-50
        flex flex-col
        ${t?"translate-x-0":"translate-x-full"}
      `,children:[R.jsxs("div",{className:"flex justify-between items-center p-6 bg-gray-800 border-b border-gray-700",children:[R.jsx("h2",{className:"text-xl font-semibold text-white",children:"Componentes Disponibles"}),R.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-700 transition-colors text-white",onClick:e,"aria-label":"Cerrar panel",children:R.jsx("span",{className:"text-lg",children:""})})]}),R.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:zK.map(c=>R.jsxs("div",{className:`flex items-center p-4 bg-gray-800 border border-gray-600 rounded-lg cursor-grab \r
                         hover:border-blue-400 hover:shadow-lg transition-all duration-200\r
                         active:cursor-grabbing active:bg-gray-700 group select-none`,draggable:!0,onDragStart:f=>a(f,c),onDragEnd:s,children:[R.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center bg-blue-500 rounded-lg mr-4 group-hover:bg-blue-400 transition-colors",children:R.jsx("span",{className:"text-2xl",children:c.icon})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("div",{className:"text-sm font-medium text-white truncate",children:c.name}),R.jsx("div",{className:"text-xs text-gray-400 truncate",children:c.description})]}),R.jsx("div",{className:"flex-shrink-0 text-gray-500 text-lg ml-2 group-hover:text-gray-300",children:""})]},c.id))}),R.jsx("div",{className:"p-4 bg-blue-900 border-t border-blue-700",children:R.jsxs("p",{className:"text-sm text-blue-200 flex items-center",children:[R.jsx("span",{className:"text-lg mr-2",children:""}),"Arrastra los componentes al rea de trabajo"]})})]})]})};function Zx(){const[t,e]=U.useState(new Date),[n]=U.useState(!0),[i,r]=U.useState(!1),[a,s]=U.useState(!1),o=Vd();U.useEffect(()=>{const _=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(_)},[]);const c=_=>_.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=_=>_.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),d=()=>{window.confirm("Ests seguro de cerrar sesin?")&&o("/")},m=_=>{o(_),r(!1)},v=()=>{s(!0),r(!1)},y=()=>{s(!1)};return R.jsxs(R.Fragment,{children:[R.jsxs("nav",{className:"w-full bg-gray-900 border-b border-gray-700 sticky top-0 z-50 shadow-2xl",children:[R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("div",{className:"hidden lg:flex items-center justify-between h-16",children:[R.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:R.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>m("/dashboard"),children:[R.jsxs("div",{className:"relative h-10 w-10",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl shadow-lg"}),R.jsx("div",{className:"relative h-full w-full bg-white/10 backdrop-blur-sm rounded-xl border border-emerald-400/30 flex items-center justify-center",children:R.jsx(Iu,{size:22,className:"text-white filter drop-shadow"})})]}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"LabControl Pro"}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),R.jsx("span",{className:"text-xs text-emerald-300 font-medium",children:"Sistema Activo"})]})]})]})}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx("button",{onClick:()=>m("/dashboard"),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all duration-200",children:"Dashboard"}),R.jsx("button",{onClick:()=>m("/laboratories-management"),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all duration-200",children:"Laboratorios"}),R.jsx("button",{onClick:()=>m("/sensors"),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all duration-200",children:"Sensores"}),R.jsx("button",{onClick:()=>m("/reports"),className:"px-4 py-2 text-sm font-medium text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all duration-200",children:"Reportes"})]}),R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"bg-gray-800 rounded-lg px-4 py-2 border border-gray-700",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(SC,{size:16,className:"text-emerald-400"}),R.jsxs("div",{className:"text-right",children:[R.jsx("div",{className:"text-sm font-semibold text-white font-mono",children:c(t)}),R.jsx("div",{className:"text-xs text-gray-400",children:f(t)})]})]})}),R.jsxs("div",{className:"flex items-center gap-3 bg-gray-800 rounded-lg px-4 py-2 border border-gray-700",children:[R.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg flex items-center justify-center shadow",children:R.jsx(hp,{size:16,className:"text-white"})}),R.jsx("div",{children:R.jsx("span",{className:"text-sm font-semibold text-white block",children:n?"Administrador":"Operador"})})]}),R.jsx("button",{onClick:()=>r(!i),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg border border-gray-700 hover:border-gray-600 transition-all duration-200",children:i?R.jsx(EC,{size:20}):R.jsx(TL,{size:20})}),R.jsx("button",{onClick:d,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg border border-gray-700 hover:border-red-400/30 transition-all duration-200",title:"Cerrar sesin",children:R.jsx(oT,{size:20})})]})]}),R.jsx("div",{className:"lg:hidden",children:R.jsxs("div",{className:"flex items-center justify-between h-16",children:[R.jsx("div",{className:"flex items-center gap-3",children:R.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>m("/dashboard"),children:[R.jsxs("div",{className:"relative h-8 w-8",children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg"}),R.jsx("div",{className:"relative h-full w-full bg-white/10 backdrop-blur-sm rounded-lg border border-emerald-400/30 flex items-center justify-center",children:R.jsx(Iu,{size:16,className:"text-white"})})]}),R.jsx("div",{children:R.jsx("h1",{className:"text-lg font-bold text-white",children:"LabControl"})})]})}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"bg-gray-800 rounded-lg px-3 py-1.5 border border-gray-700",children:R.jsxs("div",{className:"flex items-center gap-1.5",children:[R.jsx(SC,{size:14,className:"text-emerald-400"}),R.jsx("div",{className:"text-xs font-semibold text-white font-mono",children:c(t)})]})}),R.jsx("button",{onClick:()=>r(!i),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg border border-gray-700 hover:border-gray-600 transition-all duration-200",children:i?R.jsx(EC,{size:18}):R.jsx(TL,{size:18})})]})]})})]}),R.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-500 via-green-500 to-emerald-500"})]}),R.jsx("div",{className:`hidden lg:block fixed right-4 top-20 z-40 transition-all duration-300 ease-in-out ${i?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-4 pointer-events-none"}`,children:R.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 shadow-2xl p-4 w-64 backdrop-blur-sm",children:[R.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/50 rounded-lg border border-gray-600 mb-3",children:[R.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg flex items-center justify-center shadow",children:R.jsx(hp,{size:18,className:"text-white"})}),R.jsxs("div",{children:[R.jsx("span",{className:"font-semibold text-white text-sm block",children:n?"Administrador":"Operador"}),R.jsx("span",{className:"text-xs text-emerald-400",children:"Sesin activa"})]})]}),R.jsxs("div",{className:"space-y-2",children:[n&&R.jsxs("button",{className:"w-full flex items-center gap-3 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-transparent hover:border-gray-600 transition-all duration-200",onClick:()=>m("/users"),children:[R.jsx(hp,{size:18,className:"text-emerald-400"}),R.jsx("span",{className:"font-medium text-sm",children:"Gestin de Usuarios"})]}),R.jsxs("button",{className:"w-full flex items-center gap-3 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-transparent hover:border-gray-600 transition-all duration-200",onClick:v,children:[R.jsx(Iu,{size:18,className:"text-emerald-400"}),R.jsx("span",{className:"font-medium text-sm",children:"Componentes"})]}),R.jsxs("button",{className:"w-full flex items-center gap-3 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-transparent hover:border-gray-600 transition-all duration-200",onClick:()=>m("/reports"),children:[R.jsx(sx,{size:18,className:"text-emerald-400"}),R.jsx("span",{className:"font-medium text-sm",children:"Reportes y Anlisis"})]}),R.jsxs("button",{className:"w-full flex items-center gap-3 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-transparent hover:border-gray-600 transition-all duration-200",onClick:()=>m("/settings"),children:[R.jsx(YS,{size:18,className:"text-emerald-400"}),R.jsx("span",{className:"font-medium text-sm",children:"Configuracin"})]}),R.jsxs("button",{className:"w-full flex items-center gap-3 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-transparent hover:border-gray-600 transition-all duration-200",onClick:()=>window.open("/docs","_blank"),children:[R.jsx($Y,{size:18,className:"text-emerald-400"}),R.jsx("span",{className:"font-medium text-sm",children:"Documentacin"})]}),R.jsx("div",{className:"border-t border-gray-700 my-2"}),R.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 p-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg border border-transparent hover:border-red-400/30 transition-all duration-200",children:[R.jsx(oT,{size:18}),R.jsx("span",{className:"font-medium text-sm",children:"Cerrar Sesin"})]})]})]})}),R.jsx("div",{className:`lg:hidden transition-all duration-300 ease-in-out overflow-hidden ${i?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:R.jsx("div",{className:"bg-gray-800 border-b border-gray-700 shadow-xl",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/50 rounded-lg border border-gray-600",children:[R.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-emerald-500 to-green-600 rounded-lg flex items-center justify-center",children:R.jsx(hp,{size:18,className:"text-white"})}),R.jsxs("div",{children:[R.jsx("span",{className:"font-semibold text-white text-sm block",children:n?"Administrador":"Operador"}),R.jsx("span",{className:"text-xs text-emerald-400",children:"Sesin activa"})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:()=>m("/dashboard"),children:[R.jsx(Iu,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]}),R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:()=>m("/laboratories"),children:[R.jsx(Iu,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Laboratorios"})]}),R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:v,children:[R.jsx(Iu,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Componentes"})]}),R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:()=>m("/reports"),children:[R.jsx(sx,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Reportes"})]}),n&&R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:()=>m("/users"),children:[R.jsx(hp,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Usuarios"})]}),R.jsxs("button",{className:"flex items-center gap-2 p-3 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg border border-gray-600 transition-all duration-200",onClick:()=>m("/settings"),children:[R.jsx(YS,{size:16,className:"text-emerald-400"}),R.jsx("span",{className:"text-sm font-medium",children:"Configuracin"})]})]}),R.jsxs("button",{onClick:d,className:"w-full flex items-center gap-2 p-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg border border-red-400/30 transition-all duration-200 mt-2",children:[R.jsx(oT,{size:16}),R.jsx("span",{className:"text-sm font-medium",children:"Cerrar Sesin"})]})]})})}),R.jsx(P6,{isOpen:a,onClose:y}),i&&R.jsx("div",{className:"fixed inset-0 bg-black/20 z-30 lg:block hidden",onClick:()=>r(!1)})]})}function hd({title:t,value:e,subtitle:n,icon:i,trend:r}){const a={up:"",down:"",stable:""},s={up:"text-green-500",down:"text-red-500",stable:"text-gray-400"};return R.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[#367c29] hover:shadow-md transition-all duration-200 cursor-pointer relative",style:{boxShadow:"0 2px 8px rgba(54, 124, 41, 0.08)"},children:[R.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i&&R.jsx("div",{className:"w-10 h-10 bg-[#367c29] bg-opacity-10 rounded-lg flex items-center justify-center",children:R.jsx(i,{size:20,style:{color:"#367c29"}})}),r&&R.jsx("span",{className:`text-lg font-bold ${s[r]}`,children:a[r]})]}),R.jsxs("div",{className:"mt-2",children:[R.jsx("p",{className:"text-gray-600 text-xs font-medium mb-1 uppercase tracking-wide",children:t}),R.jsx("h2",{className:"text-xl font-bold mb-1",style:{color:"#367c29"},children:e}),n&&R.jsx("p",{className:"text-gray-500 text-xs font-medium",children:n})]})]})}function BK({alerts:t}){const e=i=>{switch(i){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},n=i=>{switch(i){case"high":return"Crtica";case"medium":return"Media";case"low":return"Baja";default:return"Normal"}};return R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[R.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center",children:R.jsx(PY,{size:16,className:"text-emerald-600"})}),"Alertas del Sistema"]}),R.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[t.filter(i=>i.priority==="high").length," crticas"]})]}),R.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:t.map(i=>R.jsx("div",{className:`p-3 rounded-lg border transition-all duration-200 hover:shadow-sm ${i.type==="warning"?"bg-orange-50 border-orange-200":i.type==="success"?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx("div",{className:`p-1.5 rounded ${i.type==="warning"?"bg-orange-100 text-orange-600":i.type==="success"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:i.type==="warning"?R.jsx(MC,{size:14}):i.type==="success"?R.jsx(_C,{size:14}):R.jsx(Iu,{size:14})}),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1 leading-tight",children:i.message}),R.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[R.jsx("span",{className:"text-xs text-gray-500",children:i.time}),i.priority&&R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"text-gray-300",children:""}),R.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium border ${e(i.priority)}`,children:n(i.priority)})]})]})]})]})},i.id))}),R.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:R.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[R.jsxs("span",{children:["Total: ",t.length," alertas"]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Crticas: ",t.filter(i=>i.priority==="high").length]}),R.jsxs("span",{className:"flex items-center gap-1",children:[R.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Advertencias: ",t.filter(i=>i.type==="warning").length]})]})]})})]})}function L6(){const t=new Date().getFullYear();return R.jsx("footer",{className:"bg-gray-900 text-white mt-auto",children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[R.jsxs("div",{className:"col-span-1 md:col-span-2",children:[R.jsx("h3",{className:"text-lg font-bold text-emerald-400 mb-4",children:"Sistema de Gestin de Laboratorios"}),R.jsx("p",{className:"text-gray-300 mb-4",children:"Plataforma integral para el monitoreo y control de laboratorios, sensores ambientales y automatizacin de procesos."}),R.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[R.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),R.jsx("span",{children:"Sistema en Tiempo Real"})]})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Mdulos"}),R.jsxs("ul",{className:"space-y-2",children:[R.jsx("li",{children:R.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Laboratorios"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Sensores"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Estanteras"})}),R.jsx("li",{children:R.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Cmaras"})})]})]}),R.jsxs("div",{children:[R.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Soporte"}),R.jsxs("ul",{className:"space-y-2 text-gray-300",children:[R.jsx("li",{children:" soporte@labcontrol.com"}),R.jsx("li",{children:" +57 1 234 5678"}),R.jsx("li",{children:" 24/7 Monitoreo"})]})]})]}),R.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8",children:R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[R.jsxs("div",{className:"text-gray-400 text-sm",children:[" ",t," LabControl System. Todos los derechos reservados."]}),R.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[R.jsx("span",{className:"text-gray-400 text-sm",children:"v1.0.0"}),R.jsx("span",{className:"text-gray-400 text-sm",children:""}),R.jsx("span",{className:"text-gray-400 text-sm",children:"Sistema Seguro"})]})]})})]})})}function jK(){const t=Vd(),[e,n]=U.useState({totalLabs:0,activeLabs:0,totalUsers:0,activeSensors:0,totalDevices:0,automationEnabled:0,systemUptime:"99.9%",dataAccuracy:98.5}),[i,r]=U.useState([{id:1,message:"Temperatura crtica en Lab Qumica Orgnica",time:"hace 5 min",type:"warning",priority:"high"},{id:2,message:"Sistema de ventilacin en mantenimiento programado",time:"hace 1 hora",type:"info",priority:"medium"},{id:3,message:"Calibracin automtica completada exitosamente",time:"hace 2 horas",type:"success",priority:"low"},{id:4,message:"Nuevo usuario registrado en el sistema",time:"hace 3 horas",type:"info",priority:"low"}]),[a,s]=U.useState([{id:1,type:"sensor",message:"Sensor de humedad calibrado automticamente",time:"hace 5 min",lab:"LAB-002"},{id:2,type:"user",message:"Usuario Mara Garca accedi al sistema",time:"hace 15 min",lab:"LAB-001"},{id:3,type:"system",message:"Backup de base de datos completado",time:"hace 1 hora"},{id:4,type:"alert",message:"Alerta de temperatura resuelta",time:"hace 2 horas",lab:"LAB-002"}]);U.useEffect(()=>{(async()=>{setTimeout(()=>{n({totalLabs:8,activeLabs:6,totalUsers:24,activeSensors:156,totalDevices:89,automationEnabled:5,systemUptime:"99.9%",dataAccuracy:98.5})},1e3)})()},[]);const o=[{icon:mp,label:"Gestin de Laboratorios",description:"Administrar laboratorios y configuraciones",action:()=>t("/laboratories-management"),color:"bg-blue-500"},{icon:Ic,label:"Gestin de Usuarios",description:"Administrar usuarios y permisos",action:()=>t("/users"),color:"bg-green-500"},{icon:sx,label:"Reportes y Anlisis",description:"Ver reportes y estadsticas detalladas",action:()=>t("/reports"),color:"bg-purple-500"},{icon:YS,label:"Configuracin del Sistema",description:"Configurar parmetros del sistema",action:()=>t("/settings"),color:"bg-gray-500"},{icon:Ay,label:"Monitoreo en Tiempo Real",description:"Ver datos de sensores en vivo",action:()=>t("/monitoring"),color:"bg-orange-500"},{icon:BY,label:"Cmaras de Seguridad",description:"Monitoreo visual de laboratorios",action:()=>t("/cameras"),color:"bg-red-500"}],c=f=>{switch(f){case"sensor":return R.jsx(K0,{size:16,className:"text-blue-500"});case"user":return R.jsx(Ic,{size:16,className:"text-green-500"});case"system":return R.jsx(Ay,{size:16,className:"text-purple-500"});case"alert":return R.jsx(MC,{size:16,className:"text-orange-500"});default:return R.jsx(Iu,{size:16,className:"text-gray-500"})}};return R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsx(Zx,{}),R.jsx("div",{className:"pt-16",children:R.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[R.jsx("div",{className:"mb-8",children:R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Panel de Control General"}),R.jsx("p",{className:"text-gray-600",children:"Resumen del sistema de gestin de laboratorios - Monitoreo en tiempo real"})]}),R.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),R.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sistema Operativo"})]})]})}),R.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-8",children:[R.jsx(hd,{title:"Laboratorios",value:e.totalLabs,subtitle:`${e.activeLabs} activos`,icon:mp,trend:"up"}),R.jsx(hd,{title:"Usuarios",value:e.totalUsers,subtitle:"activos",icon:Ic,trend:"stable"}),R.jsx(hd,{title:"Sensores",value:e.activeSensors,subtitle:"monitoreando",icon:K0,trend:"up"}),R.jsx(hd,{title:"Dispositivos",value:e.totalDevices,subtitle:"conectados",icon:Ay,trend:"stable"}),R.jsx(hd,{title:"Automatizacin",value:e.automationEnabled,subtitle:"laboratorios",icon:wC,trend:"up"}),R.jsx(hd,{title:"Disponibilidad",value:e.systemUptime,subtitle:"uptime",icon:_C,trend:"stable"}),R.jsx(hd,{title:"Precisin",value:`${e.dataAccuracy}%`,subtitle:"de datos",icon:xK,trend:"up"}),R.jsx(hd,{title:"Alertas",value:i.length,subtitle:"activas",icon:MC,trend:"down"})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[R.jsx("div",{className:"lg:col-span-2",children:R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((f,d)=>R.jsxs("button",{onClick:f.action,className:"flex flex-col items-center p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-all duration-200 hover:shadow-md group",children:[R.jsx("div",{className:`w-12 h-12 ${f.color} rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-200`,children:R.jsx(f.icon,{size:24,className:"text-white"})}),R.jsx("h3",{className:"font-semibold text-gray-900 text-sm text-center mb-1",children:f.label}),R.jsx("p",{className:"text-gray-500 text-xs text-center",children:f.description})]},d))})]})}),R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Estado del Sistema"}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(_C,{size:20,className:"text-green-600"}),R.jsx("span",{className:"font-medium text-green-800",children:"Todos los sistemas operativos"})]})}),R.jsx("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Ay,{size:20,className:"text-blue-600"}),R.jsx("span",{className:"font-medium text-blue-800",children:"Base de datos estable"})]})}),R.jsx("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-200",children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(wC,{size:20,className:"text-purple-600"}),R.jsx("span",{className:"font-medium text-purple-800",children:"Automatizacin activa"})]})}),R.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Uso de recursos"}),R.jsx("span",{className:"text-sm text-gray-500",children:"65%"})]}),R.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:R.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"65%"}})})]})]})]})]}),R.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[R.jsx("div",{className:"lg:col-span-2",children:R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Actividad Reciente"}),R.jsx("button",{className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium",children:"Ver todo"})]}),R.jsx("div",{className:"space-y-3",children:a.map(f=>R.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[c(f.type),R.jsxs("div",{className:"flex-1 min-w-0",children:[R.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.message}),R.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[R.jsx(SC,{size:12,className:"text-gray-400"}),R.jsx("span",{className:"text-xs text-gray-500",children:f.time}),f.lab&&R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"text-gray-300",children:""}),R.jsx("span",{className:"text-xs text-blue-600 font-medium",children:f.lab})]})]})]})]},f.id))})]})}),R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas del Sistema"}),R.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[i.filter(f=>f.priority==="high").length," crticas"]})]}),R.jsx(BK,{alerts:i})]})]})]})}),R.jsx(L6,{})]})}function U6(t,e){return function(){return t.apply(e,arguments)}}const{toString:FK}=Object.prototype,{getPrototypeOf:wO}=Object,{iterator:HE,toStringTag:I6}=Symbol,GE=(t=>e=>{const n=FK.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yl=t=>(t=t.toLowerCase(),e=>GE(e)===t),qE=t=>e=>typeof e===t,{isArray:xg}=Array,$0=qE("undefined");function Qx(t){return t!==null&&!$0(t)&&t.constructor!==null&&!$0(t.constructor)&&Hs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const z6=Yl("ArrayBuffer");function kK(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&z6(t.buffer),e}const VK=qE("string"),Hs=qE("function"),B6=qE("number"),Jx=t=>t!==null&&typeof t=="object",HK=t=>t===!0||t===!1,TS=t=>{if(GE(t)!=="object")return!1;const e=wO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(I6 in t)&&!(HE in t)},GK=t=>{if(!Jx(t)||Qx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qK=Yl("Date"),XK=Yl("File"),WK=Yl("Blob"),YK=Yl("FileList"),KK=t=>Jx(t)&&Hs(t.pipe),$K=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hs(t.append)&&((e=GE(t))==="formdata"||e==="object"&&Hs(t.toString)&&t.toString()==="[object FormData]"))},ZK=Yl("URLSearchParams"),[QK,JK,e$,t$]=["ReadableStream","Request","Response","Headers"].map(Yl),n$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eb(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),xg(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(Qx(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(i=0;i<s;i++)o=a[i],e.call(null,t[o],o,t)}}function j6(t,e){if(Qx(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const gp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F6=t=>!$0(t)&&t!==gp;function AC(){const{caseless:t,skipUndefined:e}=F6(this)&&this||{},n={},i=(r,a)=>{const s=t&&j6(n,a)||a;TS(n[s])&&TS(r)?n[s]=AC(n[s],r):TS(r)?n[s]=AC({},r):xg(r)?n[s]=r.slice():(!e||!$0(r))&&(n[s]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&eb(arguments[r],i);return n}const i$=(t,e,n,{allOwnKeys:i}={})=>(eb(e,(r,a)=>{n&&Hs(r)?t[a]=U6(r,n):t[a]=r},{allOwnKeys:i}),t),r$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),a$=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},s$=(t,e,n,i)=>{let r,a,s;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)s=r[a],(!i||i(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&wO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},o$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},l$=t=>{if(!t)return null;if(xg(t))return t;let e=t.length;if(!B6(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},c$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wO(Uint8Array)),u$=(t,e)=>{const i=(t&&t[HE]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},f$=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},d$=Yl("HTMLFormElement"),h$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),CL=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),p$=Yl("RegExp"),k6=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};eb(n,(r,a)=>{let s;(s=e(r,a,t))!==!1&&(i[a]=s||r)}),Object.defineProperties(t,i)},m$=t=>{k6(t,(e,n)=>{if(Hs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Hs(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},g$=(t,e)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return xg(t)?i(t):i(String(t).split(e)),n},v$=()=>{},y$=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function x$(t){return!!(t&&Hs(t.append)&&t[I6]==="FormData"&&t[HE])}const b$=t=>{const e=new Array(10),n=(i,r)=>{if(Jx(i)){if(e.indexOf(i)>=0)return;if(Qx(i))return i;if(!("toJSON"in i)){e[r]=i;const a=xg(i)?[]:{};return eb(i,(s,o)=>{const c=n(s,r+1);!$0(c)&&(a[o]=c)}),e[r]=void 0,a}}return i};return n(t,0)},_$=Yl("AsyncFunction"),S$=t=>t&&(Jx(t)||Hs(t))&&Hs(t.then)&&Hs(t.catch),V6=((t,e)=>t?setImmediate:e?((n,i)=>(gp.addEventListener("message",({source:r,data:a})=>{r===gp&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),gp.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Hs(gp.postMessage)),M$=typeof queueMicrotask<"u"?queueMicrotask.bind(gp):typeof process<"u"&&process.nextTick||V6,E$=t=>t!=null&&Hs(t[HE]),Pe={isArray:xg,isArrayBuffer:z6,isBuffer:Qx,isFormData:$K,isArrayBufferView:kK,isString:VK,isNumber:B6,isBoolean:HK,isObject:Jx,isPlainObject:TS,isEmptyObject:GK,isReadableStream:QK,isRequest:JK,isResponse:e$,isHeaders:t$,isUndefined:$0,isDate:qK,isFile:XK,isBlob:WK,isRegExp:p$,isFunction:Hs,isStream:KK,isURLSearchParams:ZK,isTypedArray:c$,isFileList:YK,forEach:eb,merge:AC,extend:i$,trim:n$,stripBOM:r$,inherits:a$,toFlatObject:s$,kindOf:GE,kindOfTest:Yl,endsWith:o$,toArray:l$,forEachEntry:u$,matchAll:f$,isHTMLForm:d$,hasOwnProperty:CL,hasOwnProp:CL,reduceDescriptors:k6,freezeMethods:m$,toObjectSet:g$,toCamelCase:h$,noop:v$,toFiniteNumber:y$,findKey:j6,global:gp,isContextDefined:F6,isSpecCompliantForm:x$,toJSONObject:b$,isAsyncFn:_$,isThenable:S$,setImmediate:V6,asap:M$,isIterable:E$};function pn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Pe.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const H6=pn.prototype,G6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{G6[t]={value:t}});Object.defineProperties(pn,G6);Object.defineProperty(H6,"isAxiosError",{value:!0});pn.from=(t,e,n,i,r,a)=>{const s=Object.create(H6);Pe.toFlatObject(t,s,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return pn.call(s,o,c,n,i,r),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const w$=null;function TC(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function q6(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function RL(t,e,n){return t?t.concat(e).map(function(r,a){return r=q6(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function A$(t){return Pe.isArray(t)&&!t.some(TC)}const T$=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function XE(t,e,n){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!Pe.isUndefined(S[E])});const i=n.metaTokens,r=n.visitor||d,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(r))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(Pe.isDate(_))return _.toISOString();if(Pe.isBoolean(_))return _.toString();if(!c&&Pe.isBlob(_))throw new pn("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(_)||Pe.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,E,S){let M=_;if(_&&!S&&typeof _=="object"){if(Pe.endsWith(E,"{}"))E=i?E:E.slice(0,-2),_=JSON.stringify(_);else if(Pe.isArray(_)&&A$(_)||(Pe.isFileList(_)||Pe.endsWith(E,"[]"))&&(M=Pe.toArray(_)))return E=q6(E),M.forEach(function(T,L){!(Pe.isUndefined(T)||T===null)&&e.append(s===!0?RL([E],L,a):s===null?E:E+"[]",f(T))}),!1}return TC(_)?!0:(e.append(RL(S,E,a),f(_)),!1)}const m=[],v=Object.assign(T$,{defaultVisitor:d,convertValue:f,isVisitable:TC});function y(_,E){if(!Pe.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(_),Pe.forEach(_,function(M,C){(!(Pe.isUndefined(M)||M===null)&&r.call(e,M,Pe.isString(C)?C.trim():C,E,v))===!0&&y(M,E?E.concat(C):[C])}),m.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return y(t),e}function OL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function AO(t,e){this._pairs=[],t&&XE(t,this,e)}const X6=AO.prototype;X6.append=function(e,n){this._pairs.push([e,n])};X6.toString=function(e){const n=e?function(i){return e.call(this,i,OL)}:OL;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function C$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function W6(t,e,n){if(!e)return t;const i=n&&n.encode||C$;Pe.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=Pe.isURLSearchParams(e)?e.toString():new AO(e,n).toString(i),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class DL{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Y6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R$=typeof URLSearchParams<"u"?URLSearchParams:AO,O$=typeof FormData<"u"?FormData:null,D$=typeof Blob<"u"?Blob:null,N$={isBrowser:!0,classes:{URLSearchParams:R$,FormData:O$,Blob:D$},protocols:["http","https","file","blob","url","data"]},TO=typeof window<"u"&&typeof document<"u",CC=typeof navigator=="object"&&navigator||void 0,P$=TO&&(!CC||["ReactNative","NativeScript","NS"].indexOf(CC.product)<0),L$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U$=TO&&window.location.href||"http://localhost",I$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:TO,hasStandardBrowserEnv:P$,hasStandardBrowserWebWorkerEnv:L$,navigator:CC,origin:U$},Symbol.toStringTag,{value:"Module"})),La={...I$,...N$};function z$(t,e){return XE(t,new La.classes.URLSearchParams,{visitor:function(n,i,r,a){return La.isNode&&Pe.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function B$(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function j$(t){const e={},n=Object.keys(t);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],e[a]=t[a];return e}function K6(t){function e(n,i,r,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=a>=n.length;return s=!s&&Pe.isArray(r)?r.length:s,c?(Pe.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!o):((!r[s]||!Pe.isObject(r[s]))&&(r[s]=[]),e(n,i,r[s],a)&&Pe.isArray(r[s])&&(r[s]=j$(r[s])),!o)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const n={};return Pe.forEachEntry(t,(i,r)=>{e(B$(i),r,n,0)}),n}return null}function F$(t,e,n){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const tb={transitional:Y6,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=Pe.isObject(e);if(a&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return r?JSON.stringify(K6(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return z$(e,this.formSerializer).toString();if((o=Pe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return XE(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),F$(e)):e}],transformResponse:[function(e){const n=this.transitional||tb.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(i&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?pn.from(o,pn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:La.classes.FormData,Blob:La.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{tb.headers[t]={}});const k$=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V$=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!n||e[n]&&k$[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},NL=Symbol("internals");function ty(t){return t&&String(t).trim().toLowerCase()}function CS(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(CS):String(t)}function H$(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const G$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lT(t,e,n,i,r){if(Pe.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Pe.isString(e)){if(Pe.isString(i))return e.indexOf(i)!==-1;if(Pe.isRegExp(i))return i.test(e)}}function q$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function X$(t,e){const n=Pe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,a,s){return this[i].call(this,e,r,a,s)},configurable:!0})})}let Gs=class{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function a(o,c,f){const d=ty(c);if(!d)throw new Error("header name must be a non-empty string");const m=Pe.findKey(r,d);(!m||r[m]===void 0||f===!0||f===void 0&&r[m]!==!1)&&(r[m||c]=CS(o))}const s=(o,c)=>Pe.forEach(o,(f,d)=>a(f,d,c));if(Pe.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Pe.isString(e)&&(e=e.trim())&&!G$(e))s(V$(e),n);else if(Pe.isObject(e)&&Pe.isIterable(e)){let o={},c,f;for(const d of e){if(!Pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[f=d[0]]=(c=o[f])?Pe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(o,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=ty(e),e){const i=Pe.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return H$(r);if(Pe.isFunction(n))return n.call(this,r,i);if(Pe.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ty(e),e){const i=Pe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||lT(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function a(s){if(s=ty(s),s){const o=Pe.findKey(i,s);o&&(!n||lT(i,i[o],o,n))&&(delete i[o],r=!0)}}return Pe.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!e||lT(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,i={};return Pe.forEach(this,(r,a)=>{const s=Pe.findKey(i,a);if(s){n[s]=CS(r),delete n[a];return}const o=e?q$(a):String(a).trim();o!==a&&delete n[a],n[o]=CS(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Pe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Pe.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[NL]=this[NL]={accessors:{}}).accessors,r=this.prototype;function a(s){const o=ty(s);i[o]||(X$(r,s),i[o]=!0)}return Pe.isArray(e)?e.forEach(a):a(e),this}};Gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Gs.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Pe.freezeMethods(Gs);function cT(t,e){const n=this||tb,i=e||n,r=Gs.from(i.headers);let a=i.data;return Pe.forEach(t,function(o){a=o.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function $6(t){return!!(t&&t.__CANCEL__)}function bg(t,e,n){pn.call(this,t??"canceled",pn.ERR_CANCELED,e,n),this.name="CanceledError"}Pe.inherits(bg,pn,{__CANCEL__:!0});function Z6(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new pn("Request failed with status code "+n.status,[pn.ERR_BAD_REQUEST,pn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function W$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y$(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),d=i[a];s||(s=f),n[r]=c,i[r]=f;let m=a,v=0;for(;m!==r;)v+=n[m++],m=m%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),f-s<e)return;const y=d&&f-d;return y?Math.round(v*1e3/y):void 0}}function K$(t,e){let n=0,i=1e3/e,r,a;const s=(f,d=Date.now())=>{n=d,r=null,a&&(clearTimeout(a),a=null),t(...f)};return[(...f)=>{const d=Date.now(),m=d-n;m>=i?s(f,d):(r=f,a||(a=setTimeout(()=>{a=null,s(r)},i-m)))},()=>r&&s(r)]}const KS=(t,e,n=3)=>{let i=0;const r=Y$(50,250);return K$(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,c=s-i,f=r(c),d=s<=o;i=s;const m={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&d?(o-s)/f:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(m)},n)},PL=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},LL=t=>(...e)=>Pe.asap(()=>t(...e)),$$=La.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,La.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(La.origin),La.navigator&&/(msie|trident)/i.test(La.navigator.userAgent)):()=>!0,Z$=La.hasStandardBrowserEnv?{write(t,e,n,i,r,a){const s=[t+"="+encodeURIComponent(e)];Pe.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Pe.isString(i)&&s.push("path="+i),Pe.isString(r)&&s.push("domain="+r),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Q$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function J$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Q6(t,e,n){let i=!Q$(e);return t&&(i||n==!1)?J$(t,e):e}const UL=t=>t instanceof Gs?{...t}:t;function Ip(t,e){e=e||{};const n={};function i(f,d,m,v){return Pe.isPlainObject(f)&&Pe.isPlainObject(d)?Pe.merge.call({caseless:v},f,d):Pe.isPlainObject(d)?Pe.merge({},d):Pe.isArray(d)?d.slice():d}function r(f,d,m,v){if(Pe.isUndefined(d)){if(!Pe.isUndefined(f))return i(void 0,f,m,v)}else return i(f,d,m,v)}function a(f,d){if(!Pe.isUndefined(d))return i(void 0,d)}function s(f,d){if(Pe.isUndefined(d)){if(!Pe.isUndefined(f))return i(void 0,f)}else return i(void 0,d)}function o(f,d,m){if(m in e)return i(f,d);if(m in t)return i(void 0,f)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(f,d,m)=>r(UL(f),UL(d),m,!0)};return Pe.forEach(Object.keys({...t,...e}),function(d){const m=c[d]||r,v=m(t[d],e[d],d);Pe.isUndefined(v)&&m!==o||(n[d]=v)}),n}const J6=t=>{const e=Ip({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=e;if(e.headers=s=Gs.from(s),e.url=W6(Q6(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Pe.isFormData(n)){if(La.hasStandardBrowserEnv||La.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Pe.isFunction(n.getHeaders)){const c=n.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{f.includes(d.toLowerCase())&&s.set(d,m)})}}if(La.hasStandardBrowserEnv&&(i&&Pe.isFunction(i)&&(i=i(e)),i||i!==!1&&$$(e.url))){const c=r&&a&&Z$.read(a);c&&s.set(r,c)}return e},eZ=typeof XMLHttpRequest<"u",tZ=eZ&&function(t){return new Promise(function(n,i){const r=J6(t);let a=r.data;const s=Gs.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=r,d,m,v,y,_;function E(){y&&y(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function M(){if(!S)return;const T=Gs.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};Z6(function(z){n(z),E()},function(z){i(z),E()},P),S=null}"onloadend"in S?S.onloadend=M:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(M)},S.onabort=function(){S&&(i(new pn("Request aborted",pn.ECONNABORTED,t,S)),S=null)},S.onerror=function(L){const P=L&&L.message?L.message:"Network Error",N=new pn(P,pn.ERR_NETWORK,t,S);N.event=L||null,i(N),S=null},S.ontimeout=function(){let L=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||Y6;r.timeoutErrorMessage&&(L=r.timeoutErrorMessage),i(new pn(L,P.clarifyTimeoutError?pn.ETIMEDOUT:pn.ECONNABORTED,t,S)),S=null},a===void 0&&s.setContentType(null),"setRequestHeader"in S&&Pe.forEach(s.toJSON(),function(L,P){S.setRequestHeader(P,L)}),Pe.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),o&&o!=="json"&&(S.responseType=r.responseType),f&&([v,_]=KS(f,!0),S.addEventListener("progress",v)),c&&S.upload&&([m,y]=KS(c),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(d=T=>{S&&(i(!T||T.type?new bg(null,t,S):T),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const C=W$(r.url);if(C&&La.protocols.indexOf(C)===-1){i(new pn("Unsupported protocol "+C+":",pn.ERR_BAD_REQUEST,t));return}S.send(a||null)})},nZ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const a=function(f){if(!r){r=!0,o();const d=f instanceof Error?f:this.reason;i.abort(d instanceof pn?d:new bg(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,a(new pn(`timeout ${e} of ms exceeded`,pn.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),t=null)};t.forEach(f=>f.addEventListener("abort",a));const{signal:c}=i;return c.unsubscribe=()=>Pe.asap(o),c}},iZ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},rZ=async function*(t,e){for await(const n of aZ(t))yield*iZ(n,e)},aZ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},IL=(t,e,n,i)=>{const r=rZ(t,e);let a=0,s,o=c=>{s||(s=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:f,value:d}=await r.next();if(f){o(),c.close();return}let m=d.byteLength;if(n){let v=a+=m;n(v)}c.enqueue(new Uint8Array(d))}catch(f){throw o(f),f}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},zL=64*1024,{isFunction:o_}=Pe,sZ=(({Request:t,Response:e})=>({Request:t,Response:e}))(Pe.global),{ReadableStream:BL,TextEncoder:jL}=Pe.global,FL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},oZ=t=>{t=Pe.merge.call({skipUndefined:!0},sZ,t);const{fetch:e,Request:n,Response:i}=t,r=e?o_(e):typeof fetch=="function",a=o_(n),s=o_(i);if(!r)return!1;const o=r&&o_(BL),c=r&&(typeof jL=="function"?(_=>E=>_.encode(E))(new jL):async _=>new Uint8Array(await new n(_).arrayBuffer())),f=a&&o&&FL(()=>{let _=!1;const E=new n(La.origin,{body:new BL,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!E}),d=s&&o&&FL(()=>Pe.isReadableStream(new i("").body)),m={stream:d&&(_=>_.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!m[_]&&(m[_]=(E,S)=>{let M=E&&E[_];if(M)return M.call(E);throw new pn(`Response type '${_}' is not supported`,pn.ERR_NOT_SUPPORT,S)})});const v=async _=>{if(_==null)return 0;if(Pe.isBlob(_))return _.size;if(Pe.isSpecCompliantForm(_))return(await new n(La.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(_)||Pe.isArrayBuffer(_))return _.byteLength;if(Pe.isURLSearchParams(_)&&(_=_+""),Pe.isString(_))return(await c(_)).byteLength},y=async(_,E)=>{const S=Pe.toFiniteNumber(_.getContentLength());return S??v(E)};return async _=>{let{url:E,method:S,data:M,signal:C,cancelToken:T,timeout:L,onDownloadProgress:P,onUploadProgress:N,responseType:z,headers:F,withCredentials:I="same-origin",fetchOptions:j}=J6(_),k=e||fetch;z=z?(z+"").toLowerCase():"text";let Z=nZ([C,T&&T.toAbortSignal()],L),ee=null;const re=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let ae;try{if(N&&f&&S!=="get"&&S!=="head"&&(ae=await y(F,M))!==0){let se=new n(E,{method:"POST",body:M,duplex:"half"}),ge;if(Pe.isFormData(M)&&(ge=se.headers.get("content-type"))&&F.setContentType(ge),se.body){const[_e,Ae]=PL(ae,KS(LL(N)));M=IL(se.body,zL,_e,Ae)}}Pe.isString(I)||(I=I?"include":"omit");const H=a&&"credentials"in n.prototype,X={...j,signal:Z,method:S.toUpperCase(),headers:F.normalize().toJSON(),body:M,duplex:"half",credentials:H?I:void 0};ee=a&&new n(E,X);let K=await(a?k(ee,j):k(E,X));const ne=d&&(z==="stream"||z==="response");if(d&&(P||ne&&re)){const se={};["status","statusText","headers"].forEach(Qe=>{se[Qe]=K[Qe]});const ge=Pe.toFiniteNumber(K.headers.get("content-length")),[_e,Ae]=P&&PL(ge,KS(LL(P),!0))||[];K=new i(IL(K.body,zL,_e,()=>{Ae&&Ae(),re&&re()}),se)}z=z||"text";let q=await m[Pe.findKey(m,z)||"text"](K,_);return!ne&&re&&re(),await new Promise((se,ge)=>{Z6(se,ge,{data:q,headers:Gs.from(K.headers),status:K.status,statusText:K.statusText,config:_,request:ee})})}catch(H){throw re&&re(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new pn("Network Error",pn.ERR_NETWORK,_,ee),{cause:H.cause||H}):pn.from(H,H&&H.code,_,ee)}}},lZ=new Map,e8=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:r}=e,a=[i,r,n];let s=a.length,o=s,c,f,d=lZ;for(;o--;)c=a[o],f=d.get(c),f===void 0&&d.set(c,f=o?new Map:oZ(e)),d=f;return f};e8();const RC={http:w$,xhr:tZ,fetch:{get:e8}};Pe.forEach(RC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kL=t=>`- ${t}`,cZ=t=>Pe.isFunction(t)||t===null||t===!1,t8={getAdapter:(t,e)=>{t=Pe.isArray(t)?t:[t];const{length:n}=t;let i,r;const a={};for(let s=0;s<n;s++){i=t[s];let o;if(r=i,!cZ(i)&&(r=RC[(o=String(i)).toLowerCase()],r===void 0))throw new pn(`Unknown adapter '${o}'`);if(r&&(Pe.isFunction(r)||(r=r.get(e))))break;a[o||"#"+s]=r}if(!r){const s=Object.entries(a).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(kL).join(`
`):" "+kL(s[0]):"as no adapter specified";throw new pn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:RC};function uT(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bg(null,t)}function VL(t){return uT(t),t.headers=Gs.from(t.headers),t.data=cT.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),t8.getAdapter(t.adapter||tb.adapter,t)(t).then(function(i){return uT(t),i.data=cT.call(t,t.transformResponse,i),i.headers=Gs.from(i.headers),i},function(i){return $6(i)||(uT(t),i&&i.response&&(i.response.data=cT.call(t,t.transformResponse,i.response),i.response.headers=Gs.from(i.response.headers))),Promise.reject(i)})}const n8="1.12.2",WE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{WE[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const HL={};WE.transitional=function(e,n,i){function r(a,s){return"[Axios v"+n8+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,o)=>{if(e===!1)throw new pn(r(s," has been removed"+(n?" in "+n:"")),pn.ERR_DEPRECATED);return n&&!HL[s]&&(HL[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};WE.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function uZ(t,e,n){if(typeof t!="object")throw new pn("options must be an object",pn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new pn("option "+a+" must be "+c,pn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pn("Unknown option "+a,pn.ERR_BAD_OPTION)}}const RS={assertOptions:uZ,validators:WE},Dc=RS.validators;let wp=class{constructor(e){this.defaults=e||{},this.interceptors={request:new DL,response:new DL}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ip(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&RS.assertOptions(i,{silentJSONParsing:Dc.transitional(Dc.boolean),forcedJSONParsing:Dc.transitional(Dc.boolean),clarifyTimeoutError:Dc.transitional(Dc.boolean)},!1),r!=null&&(Pe.isFunction(r)?n.paramsSerializer={serialize:r}:RS.assertOptions(r,{encode:Dc.function,serialize:Dc.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),RS.assertOptions(n,{baseUrl:Dc.spelling("baseURL"),withXsrfToken:Dc.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&Pe.merge(a.common,a[n.method]);a&&Pe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),n.headers=Gs.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(c=c&&E.synchronous,o.unshift(E.fulfilled,E.rejected))});const f=[];this.interceptors.response.forEach(function(E){f.push(E.fulfilled,E.rejected)});let d,m=0,v;if(!c){const _=[VL.bind(this),void 0];for(_.unshift(...o),_.push(...f),v=_.length,d=Promise.resolve(n);m<v;)d=d.then(_[m++],_[m++]);return d}v=o.length;let y=n;for(;m<v;){const _=o[m++],E=o[m++];try{y=_(y)}catch(S){E.call(this,S);break}}try{d=VL.call(this,y)}catch(_){return Promise.reject(_)}for(m=0,v=f.length;m<v;)d=d.then(f[m++],f[m++]);return d}getUri(e){e=Ip(this.defaults,e);const n=Q6(e.baseURL,e.url,e.allowAbsoluteUrls);return W6(n,e.params,e.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(e){wp.prototype[e]=function(n,i){return this.request(Ip(i||{},{method:e,url:n,data:(i||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function n(i){return function(a,s,o){return this.request(Ip(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}wp.prototype[e]=n(),wp.prototype[e+"Form"]=n(!0)});let fZ=class i8{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const s=new Promise(o=>{i.subscribe(o),a=o}).then(r);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,o){i.reason||(i.reason=new bg(a,s,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new i8(function(r){e=r}),cancel:e}}};function dZ(t){return function(n){return t.apply(null,n)}}function hZ(t){return Pe.isObject(t)&&t.isAxiosError===!0}const OC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(OC).forEach(([t,e])=>{OC[e]=t});function r8(t){const e=new wp(t),n=U6(wp.prototype.request,e);return Pe.extend(n,wp.prototype,e,{allOwnKeys:!0}),Pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return r8(Ip(t,r))},n}const Gi=r8(tb);Gi.Axios=wp;Gi.CanceledError=bg;Gi.CancelToken=fZ;Gi.isCancel=$6;Gi.VERSION=n8;Gi.toFormData=XE;Gi.AxiosError=pn;Gi.Cancel=Gi.CanceledError;Gi.all=function(e){return Promise.all(e)};Gi.spread=dZ;Gi.isAxiosError=hZ;Gi.mergeConfig=Ip;Gi.AxiosHeaders=Gs;Gi.formToJSON=t=>K6(Pe.isHTMLForm(t)?new FormData(t):t);Gi.getAdapter=t8.getAdapter;Gi.HttpStatusCode=OC;Gi.default=Gi;const{Axios:DTe,AxiosError:NTe,CanceledError:PTe,isCancel:LTe,CancelToken:UTe,VERSION:ITe,all:zTe,Cancel:BTe,isAxiosError:jTe,spread:FTe,toFormData:kTe,AxiosHeaders:VTe,HttpStatusCode:HTe,formToJSON:GTe,getAdapter:qTe,mergeConfig:XTe}=Gi,pZ="http://localhost:4000";function mZ(){const[t,e]=U.useState(""),[n,i]=U.useState(""),[r,a]=U.useState(!1),[s,o]=U.useState(!1),c=Vd(),f=async d=>{d.preventDefault(),o(!0);try{const v=(await Gi.post(`${pZ}/api/login`,{username:t,password:n})).data.token;localStorage.setItem("token",v),c("/dashboard")}catch{o(!1),alert("Usuario o contrasea incorrectos")}};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center p-4",children:R.jsxs("div",{className:"max-w-md w-full space-y-8",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"flex justify-center mb-4",children:R.jsx("div",{className:"p-3 bg-[#367c29] rounded-2xl shadow-lg",children:R.jsx(Iu,{size:40,className:"text-white"})})}),R.jsx("h1",{className:"text-3xl font-bold text-[#367c29]",children:"LabControl Pro"}),R.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema de gestin de laboratorios"})]}),R.jsx("form",{onSubmit:f,className:"bg-white p-8 rounded-2xl shadow-lg border border-green-100",children:R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario"}),R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:R.jsx(hp,{size:20})}),R.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t,onChange:d=>e(d.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#367c29] focus:border-transparent transition-all duration-200",placeholder:"Ingresa tu usuario"})]})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),R.jsxs("div",{className:"relative",children:[R.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:R.jsx(tK,{size:20})}),R.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:n,onChange:d=>i(d.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#367c29] focus:border-transparent transition-all duration-200",placeholder:"Ingresa tu contrasea"}),R.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r?R.jsx(WY,{size:20,className:"text-gray-400 hover:text-gray-600"}):R.jsx(Kx,{size:20,className:"text-gray-400 hover:text-gray-600"})})]})]}),R.jsx("button",{type:"submit",disabled:s,className:"w-full bg-[#367c29] text-white py-3 px-4 rounded-xl font-medium hover:bg-[#2a6a21] focus:outline-none focus:ring-2 focus:ring-[#367c29] focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?R.jsxs("div",{className:"flex items-center justify-center",children:[R.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Iniciando sesin..."]}):"Iniciar Sesin"}),R.jsx("div",{className:"text-center",children:R.jsx("a",{href:"#",className:"text-sm text-[#367c29] hover:text-[#2a6a21] font-medium transition-colors",children:"Olvidaste tu contrasea?"})})]})}),R.jsx("div",{className:"text-center text-gray-500 text-sm",children:R.jsx("p",{children:" 2024 LabControl Pro. Todos los derechos reservados."})})]})})}function gZ({user:t,onEdit:e,onDelete:n}){const i=c=>{switch(c){case"admin":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};case"moderator":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},r=c=>c==="active"?{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"}:{bg:"bg-gray-100",text:"text-gray-800",dot:"bg-gray-500"},a=i(t.role),s=r(t.status),o=c=>new Date(c).toLocaleDateString("es-ES");return R.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-gray-300 shadow-sm hover:shadow-md transition-all duration-300 p-6",children:[R.jsxs("div",{className:"flex justify-between items-start mb-4",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:(t.name??t.username??"U").charAt(0).toUpperCase()}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:t.name}),R.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[R.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.bg} ${a.text} ${a.border}`,children:t.role}),R.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.bg} ${s.text} flex items-center gap-1`,children:[R.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.dot}`}),t.status]})]})]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>e(t),className:"w-8 h-8 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center transition-colors duration-200",title:"Editar usuario",children:R.jsx(uK,{size:16})}),R.jsx("button",{onClick:()=>n(t.id),className:"w-8 h-8 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg flex items-center justify-center transition-colors duration-200",title:"Eliminar usuario",children:R.jsx($x,{size:16})})]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[R.jsx(rK,{size:16,className:"text-gray-400"}),R.jsx("span",{children:t.email})]}),R.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[R.jsx(IY,{size:16,className:"text-gray-400"}),R.jsxs("span",{children:["Creado: ",o(t.createdAt)]})]}),t.lastLogin&&R.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[R.jsx(hp,{size:16,className:"text-gray-400"}),R.jsxs("span",{children:["ltimo login: ",o(t.lastLogin)]})]})]})]})}const vZ=Gi.create({baseURL:"http://localhost:4000/api"});function yZ({isOpen:t,onClose:e,user:n}){const[i,r]=U.useState({name:"",username:"",password:"",email:"",role:"user",status:"active"});U.useEffect(()=>{r(n?{name:n.name,username:n.username,password:n.password,email:n.email,role:n.role,status:n.status}:{name:"",username:"",password:"",email:"",role:"user",status:"active"})},[n,t]);const a=async o=>{o.preventDefault();try{const c=await vZ.post("/userCreate",{name:i.name,username:i.username,password:i.password,email:i.email,fk_id_rol:i.role,status:i.status==="active"?1:0});console.log("Usuario creado correctamente:",c.data),e()}catch(c){Gi.isAxiosError(c)?console.error("Error al crear usuario:",c.response?.data):console.error("Error al crear usuario:",c)}},s=(o,c)=>{r(f=>({...f,[o]:c}))};return t?R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[R.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[R.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n?"Editar Usuario":"Crear Usuario"}),R.jsx("button",{onClick:e,className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors duration-200",children:R.jsx(EC,{size:18})})]}),R.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),R.jsx("input",{type:"text",value:i.name,onChange:o=>s("name",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ingresa el nombre completo",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario"}),R.jsx("input",{type:"text",value:i.username,onChange:o=>s("username",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ingresa el usuario",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),R.jsx("input",{type:"password",value:i.password,onChange:o=>s("password",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ingresa la contrasea",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),R.jsx("input",{type:"email",value:i.email,onChange:o=>s("email",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"usuario@ejemplo.com",required:!0})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),R.jsxs("select",{value:i.role,onChange:o=>s("role",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[R.jsx("option",{value:"1",children:"Administrador"}),R.jsx("option",{value:"2",children:"Operador"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),R.jsxs("select",{value:i.status,onChange:o=>s("status",o.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[R.jsx("option",{value:"active",children:"Activo"}),R.jsx("option",{value:"inactive",children:"Inactivo"})]})]})]}),R.jsxs("div",{className:"flex gap-3 pt-4",children:[R.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors duration-200",children:"Cancelar"}),R.jsxs("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors duration-200",children:[n?"Actualizar":"Crear"," Usuario"]})]})]})]})}):null}function xZ(){const[t,e]=U.useState([]),[n,i]=U.useState([]),[r,a]=U.useState(""),[s,o]=U.useState("all"),[c,f]=U.useState("all"),[d,m]=U.useState(!1),[v,y]=U.useState(null);U.useEffect(()=>{(async()=>{try{const z=await(await fetch("http://localhost:4000/api/getUsers")).json();e(z)}catch(N){console.error("Error al cargar usuarios:",N)}})()},[]),U.useEffect(()=>{let P=t;r&&(P=P.filter(N=>N.name?.toLowerCase().includes(r.toLowerCase())||N.email?.toLowerCase().includes(r.toLowerCase()))),s!=="all"&&(P=P.filter(N=>N.role===s)),c!=="all"&&(P=P.filter(N=>N.status===c)),i(P)},[t,r,s,c]);const _=P=>{const N={id:Date.now(),...P,createdAt:new Date().toISOString().split("T")[0]};e(z=>[...z,N])},E=P=>{if(!v)return;const N={...v,...P};e(z=>z.map(F=>F.id===v.id?N:F)),y(null)},S=P=>{window.confirm("Ests seguro de que quieres eliminar este usuario?")&&e(N=>N.filter(z=>z.id!==P))},M=P=>{y(P),m(!0)},C=()=>{m(!1),y(null)},T=P=>{v?E(P):_(P)},L={total:t.length,active:t.filter(P=>P.status==="active").length,admins:t.filter(P=>P.role==="admin").length};return R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsx(Zx,{}),R.jsxs("div",{className:"pt-16",children:[" ",R.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[R.jsxs("div",{className:"mb-8",children:[R.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestin de Usuarios"}),R.jsx("p",{className:"text-gray-600",children:"Administra los usuarios y permisos del sistema"})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:R.jsx(Ic,{className:"text-indigo-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Usuarios"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.total})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:R.jsx(Ic,{className:"text-green-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Usuarios Activos"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.active})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:R.jsx(Ic,{className:"text-red-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Administradores"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L.admins})]})]})})]}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:R.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[R.jsxs("div",{className:"relative flex-1 w-full lg:max-w-md",children:[R.jsx(N6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),R.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:r,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[R.jsxs("select",{value:s,onChange:P=>o(P.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[R.jsx("option",{value:"all",children:"Todos los roles"}),R.jsx("option",{value:"admin",children:"Administrador"}),R.jsx("option",{value:"moderator",children:"Moderador"}),R.jsx("option",{value:"user",children:"Usuario"})]}),R.jsxs("select",{value:c,onChange:P=>f(P.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[R.jsx("option",{value:"all",children:"Todos los estados"}),R.jsx("option",{value:"active",children:"Activo"}),R.jsx("option",{value:"inactive",children:"Inactivo"})]}),R.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors duration-200",children:[R.jsx(ox,{size:20}),"Nuevo Usuario"]})]})]})}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(P=>R.jsx(gZ,{user:P,onEdit:M,onDelete:S},P.id))}),n.length===0&&R.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-gray-300",children:[R.jsx(Ic,{size:48,className:"mx-auto text-gray-400 mb-4"}),R.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron usuarios"}),R.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros de bsqueda"}),R.jsx("button",{onClick:()=>{a(""),o("all"),f("all")},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Limpiar filtros"})]}),R.jsx(yZ,{isOpen:d,onClose:C,onSave:T,user:v})]})]}),R.jsx(L6,{})]})}function a8(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=a8(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function pi(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=a8(t))&&(i&&(i+=" "),i+=e);return i}var bZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CO(t){if(typeof t!="string")return!1;var e=bZ;return e.includes(t)}var _Z=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function s8(t){if(typeof t!="string")return!1;var e=_Z;return e.includes(t)}function o8(t){return typeof t=="string"&&t.startsWith("data-")}function Yc(t){var e=Object.entries(t).filter(n=>{var[i]=n;return s8(i)||o8(i)});return Object.fromEntries(e)}function YE(t){if(t==null)return null;if(U.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Yc(e)}return typeof t=="object"&&!Array.isArray(t)?Yc(t):null}function ps(t){var e=Object.entries(t).filter(n=>{var[i]=n;return s8(i)||o8(i)||CO(i)});return Object.fromEntries(e)}function SZ(t){return t==null?null:U.isValidElement(t)?ps(t.props):typeof t=="object"&&!Array.isArray(t)?ps(t):null}var MZ=["children","width","height","viewBox","className","style","title","desc"];function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},DC.apply(null,arguments)}function EZ(t,e){if(t==null)return{};var n,i,r=wZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wZ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var l8=U.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:a,className:s,style:o,title:c,desc:f}=t,d=EZ(t,MZ),m=a||{width:i,height:r,x:0,y:0},v=pi("recharts-surface",s);return U.createElement("svg",DC({},ps(d),{className:v,width:i,height:r,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),U.createElement("title",null,c),U.createElement("desc",null,f),n)}),AZ=["children","className"];function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},NC.apply(null,arguments)}function TZ(t,e){if(t==null)return{};var n,i,r=CZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CZ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Pd=U.forwardRef((t,e)=>{var{children:n,className:i}=t,r=TZ(t,AZ),a=pi("recharts-layer",i);return U.createElement("g",NC({className:a},ps(r),{ref:e}),n)}),RZ=U.createContext(null);function vi(t){return function(){return t}}const c8=Math.cos,$S=Math.sin,Kl=Math.sqrt,ZS=Math.PI,KE=2*ZS,PC=Math.PI,LC=2*PC,ap=1e-6,OZ=LC-ap;function u8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function DZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return u8;const n=10**e;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}let NZ=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?u8:DZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,a,s){this._append`C${+e},${+n},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,i,r,a){if(e=+e,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=i-e,f=r-n,d=s-e,m=o-n,v=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>ap)if(!(Math.abs(m*c-f*d)>ap)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=i-s,_=r-o,E=c*c+f*f,S=y*y+_*_,M=Math.sqrt(E),C=Math.sqrt(v),T=a*Math.tan((PC-Math.acos((E+v-S)/(2*M*C)))/2),L=T/C,P=T/M;Math.abs(L-1)>ap&&this._append`L${e+L*d},${n+L*m}`,this._append`A${a},${a},0,0,${+(m*y>d*_)},${this._x1=e+P*c},${this._y1=n+P*f}`}}arc(e,n,i,r,a,s){if(e=+e,n=+n,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),c=i*Math.sin(r),f=e+o,d=n+c,m=1^s,v=s?r-a:a-r;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ap||Math.abs(this._y1-d)>ap)&&this._append`L${f},${d}`,i&&(v<0&&(v=v%LC+LC),v>OZ?this._append`A${i},${i},0,1,${m},${e-o},${n-c}A${i},${i},0,1,${m},${this._x1=f},${this._y1=d}`:v>ap&&this._append`A${i},${i},0,${+(v>=PC)},${m},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function RO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new NZ(e)}function OO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function f8(t){this._context=t}f8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $E(t){return new f8(t)}function d8(t){return t[0]}function h8(t){return t[1]}function p8(t,e){var n=vi(!0),i=null,r=$E,a=null,s=RO(o);t=typeof t=="function"?t:t===void 0?d8:vi(t),e=typeof e=="function"?e:e===void 0?h8:vi(e);function o(c){var f,d=(c=OO(c)).length,m,v=!1,y;for(i==null&&(a=r(y=s())),f=0;f<=d;++f)!(f<d&&n(m=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,c),+e(m,f,c));if(y)return a=null,y+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:vi(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:vi(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:vi(!!c),o):n},o.curve=function(c){return arguments.length?(r=c,i!=null&&(a=r(i)),o):r},o.context=function(c){return arguments.length?(c==null?i=a=null:a=r(i=c),o):i},o}function l_(t,e,n){var i=null,r=vi(!0),a=null,s=$E,o=null,c=RO(f);t=typeof t=="function"?t:t===void 0?d8:vi(+t),e=typeof e=="function"?e:vi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?h8:vi(+n);function f(m){var v,y,_,E=(m=OO(m)).length,S,M=!1,C,T=new Array(E),L=new Array(E);for(a==null&&(o=s(C=c())),v=0;v<=E;++v){if(!(v<E&&r(S=m[v],v,m))===M)if(M=!M)y=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=v-1;_>=y;--_)o.point(T[_],L[_]);o.lineEnd(),o.areaEnd()}M&&(T[v]=+t(S,v,m),L[v]=+e(S,v,m),o.point(i?+i(S,v,m):T[v],n?+n(S,v,m):L[v]))}if(C)return o=null,C+""||null}function d(){return p8().defined(r).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:vi(+m),i=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:vi(+m),f):t},f.x1=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:vi(+m),f):i},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:vi(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:vi(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:vi(+m),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(i).y(e)},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:vi(!!m),f):r},f.curve=function(m){return arguments.length?(s=m,a!=null&&(o=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=o=null:o=s(a=m),f):a},f}class m8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PZ(t){return new m8(t,!0)}function LZ(t){return new m8(t,!1)}const DO={draw(t,e){const n=Kl(e/ZS);t.moveTo(n,0),t.arc(0,0,n,0,KE)}},UZ={draw(t,e){const n=Kl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},g8=Kl(1/3),IZ=g8*2,zZ={draw(t,e){const n=Kl(e/IZ),i=n*g8;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},BZ={draw(t,e){const n=Kl(e),i=-n/2;t.rect(i,i,n,n)}},jZ=.8908130915292852,v8=$S(ZS/10)/$S(7*ZS/10),FZ=$S(KE/10)*v8,kZ=-c8(KE/10)*v8,VZ={draw(t,e){const n=Kl(e*jZ),i=FZ*n,r=kZ*n;t.moveTo(0,-n),t.lineTo(i,r);for(let a=1;a<5;++a){const s=KE*a/5,o=c8(s),c=$S(s);t.lineTo(c*n,-o*n),t.lineTo(o*i-c*r,c*i+o*r)}t.closePath()}},fT=Kl(3),HZ={draw(t,e){const n=-Kl(e/(fT*3));t.moveTo(0,n*2),t.lineTo(-fT*n,-n),t.lineTo(fT*n,-n),t.closePath()}},Ho=-.5,Go=Kl(3)/2,UC=1/Kl(12),GZ=(UC/2+1)*3,qZ={draw(t,e){const n=Kl(e/GZ),i=n/2,r=n*UC,a=i,s=n*UC+n,o=-a,c=s;t.moveTo(i,r),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Ho*i-Go*r,Go*i+Ho*r),t.lineTo(Ho*a-Go*s,Go*a+Ho*s),t.lineTo(Ho*o-Go*c,Go*o+Ho*c),t.lineTo(Ho*i+Go*r,Ho*r-Go*i),t.lineTo(Ho*a+Go*s,Ho*s-Go*a),t.lineTo(Ho*o+Go*c,Ho*c-Go*o),t.closePath()}};function XZ(t,e){let n=null,i=RO(r);t=typeof t=="function"?t:vi(t||DO),e=typeof e=="function"?e:vi(e===void 0?64:+e);function r(){let a;if(n||(n=a=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(t=typeof a=="function"?a:vi(a),r):t},r.size=function(a){return arguments.length?(e=typeof a=="function"?a:vi(+a),r):e},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function QS(){}function JS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function y8(t){this._context=t}y8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:JS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:JS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WZ(t){return new y8(t)}function x8(t){this._context=t}x8.prototype={areaStart:QS,areaEnd:QS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:JS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YZ(t){return new x8(t)}function b8(t){this._context=t}b8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:JS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KZ(t){return new b8(t)}function _8(t){this._context=t}_8.prototype={areaStart:QS,areaEnd:QS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $Z(t){return new _8(t)}function GL(t){return t<0?-1:1}function qL(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(GL(a)+GL(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function XL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dT(t,e,n){var i=t._x0,r=t._y0,a=t._x1,s=t._y1,o=(a-i)/3;t._context.bezierCurveTo(i+o,r+o*e,a-o,s-o*n,a,s)}function eM(t){this._context=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dT(this,this._t0,XL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dT(this,XL(this,n=qL(this,t,e)),n);break;default:dT(this,this._t0,n=qL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function S8(t){this._context=new M8(t)}(S8.prototype=Object.create(eM.prototype)).point=function(t,e){eM.prototype.point.call(this,e,t)};function M8(t){this._context=t}M8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}};function ZZ(t){return new eM(t)}function QZ(t){return new S8(t)}function E8(t){this._context=t}E8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=WL(t),r=WL(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WL(t){var e,n=t.length-1,i,r=new Array(n),a=new Array(n),s=new Array(n);for(r[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/a[e];for(a[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function JZ(t){return new E8(t)}function ZE(t,e){this._context=t,this._t=e}ZE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eQ(t){return new ZE(t,.5)}function tQ(t){return new ZE(t,0)}function nQ(t){return new ZE(t,1)}function Z0(t,e){if((s=t.length)>1)for(var n=1,i,r,a=t[e[0]],s,o=a.length;n<s;++n)for(r=a,a=t[e[n]],i=0;i<o;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function IC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function iQ(t,e){return t[e]}function rQ(t){const e=[];return e.key=t,e}function aQ(){var t=vi([]),e=IC,n=Z0,i=iQ;function r(a){var s=Array.from(t.apply(this,arguments),rQ),o,c=s.length,f=-1,d;for(const m of a)for(o=0,++f;o<c;++o)(s[o][f]=[0,+i(m,s[o].key,f,a)]).data=m;for(o=0,d=OO(e(s));o<c;++o)s[d[o]].index=o;return n(s,d),s}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:vi(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:vi(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?IC:typeof a=="function"?a:vi(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??Z0,r):n},r}function sQ(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,s;r<a;++r){for(s=n=0;n<i;++n)s+=t[n][r][1]||0;if(s)for(n=0;n<i;++n)t[n][r][1]/=s}Z0(t,e)}}function oQ(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var s=0,o=0;s<r;++s)o+=t[s][n][1]||0;i[n][1]+=i[n][0]=-o/2}Z0(t,e)}}function lQ(t,e){if(!(!((s=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,s;i<a;++i){for(var o=0,c=0,f=0;o<s;++o){for(var d=t[e[o]],m=d[i][1]||0,v=d[i-1][1]||0,y=(m-v)/2,_=0;_<o;++_){var E=t[e[_]],S=E[i][1]||0,M=E[i-1][1]||0;y+=S-M}c+=m,f+=y*m}r[i-1][1]+=r[i-1][0]=n,c&&(n-=f/c)}r[i-1][1]+=r[i-1][0]=n,Z0(t,e)}}var hT={},pT={},YL;function cQ(){return YL||(YL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(pT)),pT}var mT={},KL;function w8(){return KL||(KL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(mT)),mT}var gT={},$L;function NO(){return $L||($L=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(gT)),gT}var vT={},yT={},ZL;function uQ(){return ZL||(ZL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}t.toString=e})(yT)),yT}var QL;function PO(){return QL||(QL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uQ(),n=NO();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const a=[],s=r.length;if(s===0)return a;let o=0,c="",f="",d=!1;for(r.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const m=r[o];f?m==="\\"&&o+1<s?(o++,c+=r[o]):m===f?f="":c+=m:d?m==='"'||m==="'"?f=m:m==="]"?(d=!1,a.push(c),c=""):c+=m:m==="["?(d=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,o++}return c&&a.push(c),a}t.toPath=i})(vT)),vT}var JL;function LO(){return JL||(JL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cQ(),n=w8(),i=NO(),r=PO();function a(o,c,f){if(o==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const d=o[c];return d===void 0?n.isDeepKey(c)?a(o,r.toPath(c),f):f:d}case"number":case"symbol":{typeof c=="number"&&(c=i.toKey(c));const d=o[c];return d===void 0?f:d}default:{if(Array.isArray(c))return s(o,c,f);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const d=o[c];return d===void 0?f:d}}}function s(o,c,f){if(c.length===0)return f;let d=o;for(let m=0;m<c.length;m++){if(d==null||e.isUnsafeProperty(c[m]))return f;d=d[c[m]]}return d===void 0?f:d}t.get=a})(hT)),hT}var xT,eU;function fQ(){return eU||(eU=1,xT=LO().get),xT}var dQ=fQ();const QE=al(dQ);var $o=t=>t===0?0:t>0?1:-1,Kc=t=>typeof t=="number"&&t!=+t,$u=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ft=t=>(typeof t=="number"||t instanceof Number)&&!Kc(t),$c=t=>Ft(t)||typeof t=="string",hQ=0,lx=t=>{var e=++hQ;return"".concat(t||"").concat(e)},Ld=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ft(e)&&typeof e!="string")return i;var a;if($u(e)){if(n==null)return i;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Kc(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},A8=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1};function zs(t,e,n){return Ft(t)&&Ft(e)?t+n*(e-t):e}function T8(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):QE(i,e))===n)}var $r=t=>t===null||typeof t>"u",nb=t=>$r(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function pQ(t){return t!=null}function _g(){}var mQ=["type","size","sizeType"];function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},zC.apply(null,arguments)}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function nU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(n),!0).forEach(function(i){gQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gQ(t,e,n){return(e=vQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=yQ(t,"string");return typeof e=="symbol"?e:e+""}function yQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xQ(t,e){if(t==null)return{};var n,i,r=bQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bQ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var C8={symbolCircle:DO,symbolCross:UZ,symbolDiamond:zZ,symbolSquare:BZ,symbolStar:VZ,symbolTriangle:HZ,symbolWye:qZ},_Q=Math.PI/180,SQ=t=>{var e="symbol".concat(nb(t));return C8[e]||DO},MQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*_Q;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EQ=(t,e)=>{C8["symbol".concat(nb(t))]=e},R8=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,r=xQ(t,mQ),a=nU(nU({},r),{},{type:e,size:n,sizeType:i}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var v=SQ(s),y=XZ().type(v).size(MQ(n,i,s)),_=y();if(_!==null)return _},{className:c,cx:f,cy:d}=a,m=ps(a);return Ft(f)&&Ft(d)&&Ft(n)?U.createElement("path",zC({},m,{className:pi("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(d,")"),d:o()})):null};R8.registerSymbol=EQ;var O8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,UO=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(U.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{CO(r)&&(i[r]=(a=>n[r](n,a)))}),i},wQ=(t,e,n)=>i=>(t(e,n,i),null),AQ=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var a=t[r];CO(r)&&typeof a=="function"&&(i||(i={}),i[r]=wQ(a,e,n))}),i};function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function TQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(i){CQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function CQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=OQ(t,"string");return typeof e=="symbol"?e:e+""}function OQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xs(t,e){var n=TQ({},t),i=e,r=Object.keys(e),a=r.reduce((s,o)=>(s[o]===void 0&&i[o]!==void 0&&(s[o]=i[o]),s),n);return a}var bT={},_T={},rU;function DQ(){return rU||(rU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const r=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=i(s);r.has(o)||r.set(o,s)}return Array.from(r.values())}t.uniqBy=e})(_T)),_T}var ST={},aU;function D8(){return aU||(aU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(ST)),ST}var MT={},ET={},wT={},sU;function NQ(){return sU||(sU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(wT)),wT}var oU;function IO(){return oU||(oU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NQ();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(ET)),ET}var AT={},lU;function PQ(){return lU||(lU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(AT)),AT}var cU;function LQ(){return cU||(cU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IO(),n=PQ();function i(r){return n.isObjectLike(r)&&e.isArrayLike(r)}t.isArrayLikeObject=i})(MT)),MT}var TT={},CT={},uU;function UQ(){return uU||(uU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LO();function n(i){return function(r){return e.get(r,i)}}t.property=n})(CT)),CT}var RT={},OT={},DT={},NT={},fU;function N8(){return fU||(fU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(NT)),NT}var PT={},dU;function P8(){return dU||(dU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(PT)),PT}var LT={},hU;function L8(){return hU||(hU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.eq=e})(LT)),LT}var pU;function IQ(){return pU||(pU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N8(),n=P8(),i=L8();function r(d,m,v){return typeof v!="function"?r(d,m,()=>{}):a(d,m,function y(_,E,S,M,C,T){const L=v(_,E,S,M,C,T);return L!==void 0?!!L:a(_,E,y,T)},new Map)}function a(d,m,v,y){if(m===d)return!0;switch(typeof m){case"object":return s(d,m,v,y);case"function":return Object.keys(m).length>0?a(d,{...m},v,y):i.eq(d,m);default:return e.isObject(d)?typeof m=="string"?m==="":!0:i.eq(d,m)}}function s(d,m,v,y){if(m==null)return!0;if(Array.isArray(m))return c(d,m,v,y);if(m instanceof Map)return o(d,m,v,y);if(m instanceof Set)return f(d,m,v,y);const _=Object.keys(m);if(d==null)return _.length===0;if(_.length===0)return!0;if(y?.has(m))return y.get(m)===d;y?.set(m,d);try{for(let E=0;E<_.length;E++){const S=_[E];if(!n.isPrimitive(d)&&!(S in d)||m[S]===void 0&&d[S]!==void 0||m[S]===null&&d[S]!==null||!v(d[S],m[S],S,d,m,y))return!1}return!0}finally{y?.delete(m)}}function o(d,m,v,y){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[_,E]of m.entries()){const S=d.get(_);if(v(S,E,_,d,m,y)===!1)return!1}return!0}function c(d,m,v,y){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const _=new Set;for(let E=0;E<m.length;E++){const S=m[E];let M=!1;for(let C=0;C<d.length;C++){if(_.has(C))continue;const T=d[C];let L=!1;if(v(T,S,E,d,m,y)&&(L=!0),L){_.add(C),M=!0;break}}if(!M)return!1}return!0}function f(d,m,v,y){return m.size===0?!0:d instanceof Set?c([...d],[...m],v,y):!1}t.isMatchWith=r,t.isSetMatch=f})(DT)),DT}var mU;function U8(){return mU||(mU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IQ();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(OT)),OT}var UT={},IT={},zT={},gU;function zQ(){return gU||(gU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(zT)),zT}var BT={},vU;function I8(){return vU||(vU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(BT)),BT}var jT={},yU;function z8(){return yU||(yU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",f="[object Set]",d="[object Array]",m="[object Function]",v="[object ArrayBuffer]",y="[object Object]",_="[object Error]",E="[object DataView]",S="[object Uint8Array]",M="[object Uint8ClampedArray]",C="[object Uint16Array]",T="[object Uint32Array]",L="[object BigUint64Array]",P="[object Int8Array]",N="[object Int16Array]",z="[object Int32Array]",F="[object BigInt64Array]",I="[object Float32Array]",j="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=d,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=L,t.booleanTag=r,t.dataViewTag=E,t.dateTag=o,t.errorTag=_,t.float32ArrayTag=I,t.float64ArrayTag=j,t.functionTag=m,t.int16ArrayTag=N,t.int32ArrayTag=z,t.int8ArrayTag=P,t.mapTag=c,t.numberTag=i,t.objectTag=y,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=C,t.uint32ArrayTag=T,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=M})(jT)),jT}var FT={},xU;function BQ(){return xU||(xU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(FT)),FT}var bU;function B8(){return bU||(bU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zQ(),n=I8(),i=z8(),r=P8(),a=BQ();function s(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,v,y=new Map,_=void 0){const E=_?.(d,m,v,y);if(E!==void 0)return E;if(r.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const S=new Array(d.length);y.set(d,S);for(let M=0;M<d.length;M++)S[M]=o(d[M],M,v,y,_);return Object.hasOwn(d,"index")&&(S.index=d.index),Object.hasOwn(d,"input")&&(S.input=d.input),S}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const S=new RegExp(d.source,d.flags);return S.lastIndex=d.lastIndex,S}if(d instanceof Map){const S=new Map;y.set(d,S);for(const[M,C]of d)S.set(M,o(C,M,v,y,_));return S}if(d instanceof Set){const S=new Set;y.set(d,S);for(const M of d)S.add(o(M,void 0,v,y,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const S=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,S);for(let M=0;M<d.length;M++)S[M]=o(d[M],M,v,y,_);return S}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const S=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,S),c(S,d,v,y,_),S}if(typeof File<"u"&&d instanceof File){const S=new File([d],d.name,{type:d.type});return y.set(d,S),c(S,d,v,y,_),S}if(typeof Blob<"u"&&d instanceof Blob){const S=new Blob([d],{type:d.type});return y.set(d,S),c(S,d,v,y,_),S}if(d instanceof Error){const S=new d.constructor;return y.set(d,S),S.message=d.message,S.name=d.name,S.stack=d.stack,S.cause=d.cause,c(S,d,v,y,_),S}if(d instanceof Boolean){const S=new Boolean(d.valueOf());return y.set(d,S),c(S,d,v,y,_),S}if(d instanceof Number){const S=new Number(d.valueOf());return y.set(d,S),c(S,d,v,y,_),S}if(d instanceof String){const S=new String(d.valueOf());return y.set(d,S),c(S,d,v,y,_),S}if(typeof d=="object"&&f(d)){const S=Object.create(Object.getPrototypeOf(d));return y.set(d,S),c(S,d,v,y,_),S}return d}function c(d,m,v=d,y,_){const E=[...Object.keys(m),...e.getSymbols(m)];for(let S=0;S<E.length;S++){const M=E[S],C=Object.getOwnPropertyDescriptor(d,M);(C==null||C.writable)&&(d[M]=o(m[M],M,v,y,_))}}function f(d){switch(n.getTag(d)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(IT)),IT}var _U;function jQ(){return _U||(_U=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B8();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(UT)),UT}var SU;function FQ(){return SU||(SU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U8(),n=jQ();function i(r){return r=n.cloneDeep(r),a=>e.isMatch(a,r)}t.matches=i})(RT)),RT}var kT={},VT={},HT={},MU;function kQ(){return MU||(MU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B8(),n=z8();function i(r,a){return e.cloneDeepWith(r,(s,o,c,f)=>{const d=a?.(s,o,c,f);if(d!==void 0)return d;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new r.constructor(r?.valueOf());return e.copyProperties(m,r),m}case n.argumentsTag:{const m={};return e.copyProperties(m,r),m.length=r.length,m[Symbol.iterator]=r[Symbol.iterator],m}default:return}})}t.cloneDeepWith=i})(HT)),HT}var EU;function VQ(){return EU||(EU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kQ();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(VT)),VT}var GT={},qT={},wU;function j8(){return wU||(wU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(qT)),qT}var XT={},AU;function HQ(){return AU||(AU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I8();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(XT)),XT}var TU;function GQ(){return TU||(TU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w8(),n=j8(),i=HQ(),r=PO();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?c=r.toPath(o):c=[o],c.length===0)return!1;let f=s;for(let d=0;d<c.length;d++){const m=c[d];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||i.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}t.has=a})(GT)),GT}var CU;function qQ(){return CU||(CU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U8(),n=NO(),i=VQ(),r=LO(),a=GQ();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=i.cloneDeep(c),function(f){const d=r.get(f,o);return d===void 0?a.has(f,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=s})(kT)),kT}var RU;function XQ(){return RU||(RU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D8(),n=UQ(),i=FQ(),r=qQ();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?r.matchesProperty(s[0],s[1]):i.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(TT)),TT}var OU;function WQ(){return OU||(OU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DQ(),n=D8(),i=LQ(),r=XQ();function a(s,o=n.identity){return i.isArrayLikeObject(s)?e.uniqBy(Array.from(s),r.iteratee(o)):[]}t.uniqBy=a})(bT)),bT}var WT,DU;function YQ(){return DU||(DU=1,WT=WQ().uniqBy),WT}var KQ=YQ();const NU=al(KQ);function $Q(t,e,n){return e===!0?NU(t,n):typeof e=="function"?NU(t,e):t}var YT={exports:{}},KT={},$T={exports:{}},ZT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PU;function ZQ(){if(PU)return ZT;PU=1;var t=kd();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(m,v){var y=v(),_=i({inst:{value:y,getSnapshot:v}}),E=_[0].inst,S=_[1];return a(function(){E.value=y,E.getSnapshot=v,c(E)&&S({inst:E})},[m,y,v]),r(function(){return c(E)&&S({inst:E}),m(function(){c(E)&&S({inst:E})})},[m]),s(y),y}function c(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function f(m,v){return v()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return ZT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,ZT}var LU;function QQ(){return LU||(LU=1,$T.exports=ZQ()),$T.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UU;function JQ(){if(UU)return KT;UU=1;var t=kd(),e=QQ();function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,c=t.useDebugValue;return KT.useSyncExternalStoreWithSelector=function(f,d,m,v,y){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=o(function(){function M(N){if(!C){if(C=!0,T=N,N=v(N),y!==void 0&&E.hasValue){var z=E.value;if(y(z,N))return L=z}return L=N}if(z=L,i(T,N))return z;var F=v(N);return y!==void 0&&y(z,F)?(T=N,z):(T=N,L=F)}var C=!1,T,L,P=m===void 0?null:m;return[function(){return M(d())},P===null?void 0:function(){return M(P())}]},[d,m,v,y]);var S=r(f,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},KT}var IU;function eJ(){return IU||(IU=1,YT.exports=JQ()),YT.exports}var F8=eJ();const tJ=al(F8);var zO=U.createContext(null),nJ=t=>t,Qr=()=>{var t=U.useContext(zO);return t?t.store.dispatch:nJ},OS=()=>{},iJ=()=>OS,rJ=(t,e)=>t===e;function kt(t){var e=U.useContext(zO);return F8.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:iJ,e?e.store.getState:OS,e?e.store.getState:OS,e?t:OS,rJ)}function aJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function sJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function oJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var zU=t=>Array.isArray(t)?t:[t];function lJ(t){const e=Array.isArray(t[0])?t[0]:t;return oJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cJ(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var uJ=class{constructor(t){this.value=t}deref(){return this.value}},fJ=typeof WeakRef<"u"?WeakRef:uJ,dJ=0,BU=1;function c_(){return{s:dJ,v:void 0,o:null,p:null}}function k8(t,e={}){let n=c_();const{resultEqualityCheck:i}=e;let r,a=0;function s(){let o=n;const{length:c}=arguments;for(let m=0,v=c;m<v;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const E=_.get(y);E===void 0?(o=c_(),_.set(y,o)):o=E}else{let _=o.p;_===null&&(o.p=_=new Map);const E=_.get(y);E===void 0?(o=c_(),_.set(y,o)):o=E}}const f=o;let d;if(o.s===BU)d=o.v;else if(d=t.apply(null,arguments),a++,i){const m=r?.deref?.()??r;m!=null&&i(m,d)&&(d=m,a!==0&&a--),r=typeof d=="object"&&d!==null||typeof d=="function"?new fJ(d):d}return f.s=BU,f.v=d,d}return s.clearCache=()=>{n=c_(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function hJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let a=0,s=0,o,c={},f=r.pop();typeof f=="object"&&(c=f,f=r.pop()),aJ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...n,...c},{memoize:m,memoizeOptions:v=[],argsMemoize:y=k8,argsMemoizeOptions:_=[]}=d,E=zU(v),S=zU(_),M=lJ(r),C=m(function(){return a++,f.apply(null,arguments)},...E),T=y(function(){s++;const P=cJ(M,arguments);return o=C.apply(null,P),o},...S);return Object.assign(T,{resultFunc:f,memoizedResultFunc:C,dependencies:M,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:y})};return Object.assign(i,{withTypes:()=>i}),i}var Be=hJ(k8),pJ=Object.assign((t,e=Be)=>{sJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(a=>t[a]);return e(i,(...a)=>a.reduce((s,o,c)=>(s[n[c]]=o,s),{}))},{withTypes:()=>pJ}),QT={},JT={},e2={},jU;function mJ(){return jU||(jU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const s=e(i),o=e(r);if(s===o&&s===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(e2)),e2}var t2={},n2={},FU;function V8(){return FU||(FU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(n2)),n2}var kU;function gJ(){return kU||(kU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=r})(t2)),t2}var VU;function vJ(){return VU||(VU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mJ(),n=gJ(),i=PO();function r(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const f=(y,_)=>{let E=y;for(let S=0;S<_.length&&E!=null;++S)E=E[_[S]];return E},d=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:f(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?f(_,y):typeof _=="object"?_[y]:_,m=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:i.toPath(y)}));return a.map(y=>({original:y,criteria:m.map(_=>d(_,y))})).slice().sort((y,_)=>{for(let E=0;E<m.length;E++){const S=e.compareValues(y.criteria[E],_.criteria[E],o[E]);if(S!==0)return S}return 0}).map(y=>y.original)}t.orderBy=r})(JT)),JT}var i2={},HU;function yJ(){return HU||(HU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],a=Math.floor(i),s=(o,c)=>{for(let f=0;f<o.length;f++){const d=o[f];Array.isArray(d)&&c<a?s(d,c+1):r.push(d)}};return s(n,0),r}t.flatten=e})(i2)),i2}var r2={},GU;function H8(){return GU||(GU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j8(),n=IO(),i=N8(),r=L8();function a(s,o,c){return i.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?r.eq(c[o],s):!1}t.isIterateeCall=a})(r2)),r2}var qU;function xJ(){return qU||(qU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ(),n=yJ(),i=H8();function r(a,...s){const o=s.length;return o>1&&i.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&i.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=r})(QT)),QT}var a2,XU;function bJ(){return XU||(XU=1,a2=xJ().sortBy),a2}var _J=bJ();const JE=al(_J);var G8=t=>t.legend.settings,SJ=t=>t.legend.size,MJ=t=>t.legend.payload;Be([MJ,G8],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?JE(i,n):i});var u_=1;function EJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=U.useState({height:0,left:0,top:0,width:0}),i=U.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>u_||Math.abs(s.left-e.left)>u_||Math.abs(s.top-e.top)>u_||Math.abs(s.width-e.width)>u_)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function fa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",WU=wJ,s2=()=>Math.random().toString(36).substring(7).split("").join("."),AJ={INIT:`@@redux/INIT${s2()}`,REPLACE:`@@redux/REPLACE${s2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s2()}`},tM=AJ;function BO(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function q8(t,e,n){if(typeof t!="function")throw new Error(fa(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fa(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fa(1));return n(q8)(t,e)}let i=t,r=e,a=new Map,s=a,o=0,c=!1;function f(){s===a&&(s=new Map,a.forEach((S,M)=>{s.set(M,S)}))}function d(){if(c)throw new Error(fa(3));return r}function m(S){if(typeof S!="function")throw new Error(fa(4));if(c)throw new Error(fa(5));let M=!0;f();const C=o++;return s.set(C,S),function(){if(M){if(c)throw new Error(fa(6));M=!1,f(),s.delete(C),a=null}}}function v(S){if(!BO(S))throw new Error(fa(7));if(typeof S.type>"u")throw new Error(fa(8));if(typeof S.type!="string")throw new Error(fa(17));if(c)throw new Error(fa(9));try{c=!0,r=i(r,S)}finally{c=!1}return(a=s).forEach(C=>{C()}),S}function y(S){if(typeof S!="function")throw new Error(fa(10));i=S,v({type:tM.REPLACE})}function _(){const S=m;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(fa(11));function C(){const L=M;L.next&&L.next(d())}return C(),{unsubscribe:S(C)}},[WU](){return this}}}return v({type:tM.INIT}),{dispatch:v,subscribe:m,getState:d,replaceReducer:y,[WU]:_}}function TJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:tM.INIT})>"u")throw new Error(fa(12));if(typeof n(void 0,{type:tM.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fa(13))})}function X8(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const i=Object.keys(n);let r;try{TJ(n)}catch(a){r=a}return function(s={},o){if(r)throw r;let c=!1;const f={};for(let d=0;d<i.length;d++){const m=i[d],v=n[m],y=s[m],_=v(y,o);if(typeof _>"u")throw o&&o.type,new Error(fa(14));f[m]=_,c=c||_!==y}return c=c||i.length!==Object.keys(s).length,c?f:s}}function nM(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function CJ(...t){return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(fa(15))};const s={getState:r.getState,dispatch:(c,...f)=>a(c,...f)},o=t.map(c=>c(s));return a=nM(...o)(r.dispatch),{...r,dispatch:a}}}function W8(t){return BO(t)&&"type"in t&&typeof t.type=="string"}var Y8=Symbol.for("immer-nothing"),YU=Symbol.for("immer-draftable"),Eo=Symbol.for("immer-state");function Hl(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var cx=Object.getPrototypeOf;function zp(t){return!!t&&!!t[Eo]}function Zu(t){return t?K8(t)||Array.isArray(t)||!!t[YU]||!!t.constructor?.[YU]||ib(t)||tw(t):!1}var RJ=Object.prototype.constructor.toString(),KU=new WeakMap;function K8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=KU.get(n);return i===void 0&&(i=Function.toString.call(n),KU.set(n,i)),i===RJ}function iM(t,e,n=!0){ew(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(r=>{e(r,t[r],t)}):t.forEach((i,r)=>e(r,i,t))}function ew(t){const e=t[Eo];return e?e.type_:Array.isArray(t)?1:ib(t)?2:tw(t)?3:0}function BC(t,e){return ew(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $8(t,e,n){const i=ew(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function OJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ib(t){return t instanceof Map}function tw(t){return t instanceof Set}function sp(t){return t.copy_||t.base_}function jC(t,e){if(ib(t))return new Map(t);if(tw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=K8(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Eo];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const s=r[a],o=i[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(cx(t),i)}else{const i=cx(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function jO(t,e=!1){return nw(t)||zp(t)||!Zu(t)||(ew(t)>1&&Object.defineProperties(t,{set:f_,add:f_,clear:f_,delete:f_}),Object.freeze(t),e&&Object.values(t).forEach(n=>jO(n,!0))),t}function DJ(){Hl(2)}var f_={value:DJ};function nw(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var NJ={};function Bp(t){const e=NJ[t];return e||Hl(0,t),e}var ux;function Z8(){return ux}function PJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $U(t,e){e&&(Bp("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function FC(t){kC(t),t.drafts_.forEach(LJ),t.drafts_=null}function kC(t){t===ux&&(ux=t.parent_)}function ZU(t){return ux=PJ(ux,t)}function LJ(t){const e=t[Eo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Eo].modified_&&(FC(e),Hl(4)),Zu(t)&&(t=rM(e,t),e.parent_||aM(e,t)),e.patches_&&Bp("Patches").generateReplacementPatches_(n[Eo].base_,t,e.patches_,e.inversePatches_)):t=rM(e,n,[]),FC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Y8?t:void 0}function rM(t,e,n){if(nw(e))return e;const i=t.immer_.shouldUseStrictIteration(),r=e[Eo];if(!r)return iM(e,(a,s)=>JU(t,r,e,a,s,n),i),e;if(r.scope_!==t)return e;if(!r.modified_)return aM(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,o=!1;r.type_===3&&(s=new Set(a),a.clear(),o=!0),iM(s,(c,f)=>JU(t,r,a,c,f,n,o),i),aM(t,a,!1),n&&t.patches_&&Bp("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function JU(t,e,n,i,r,a,s){if(r==null||typeof r!="object"&&!s)return;const o=nw(r);if(!(o&&!s)){if(zp(r)){const c=a&&e&&e.type_!==3&&!BC(e.assigned_,i)?a.concat(i):void 0,f=rM(t,r,c);if($8(n,i,f),zp(f))t.canAutoFreeze_=!1;else return}else s&&n.add(r);if(Zu(r)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&o)return;rM(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(ib(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&aM(t,r)}}}function aM(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&jO(e,n)}function UJ(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:Z8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=FO;n&&(r=[i],a=fx);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}var FO={get(t,e){if(e===Eo)return t;const n=sp(t);if(!BC(n,e))return IJ(t,n,e);const i=n[e];return t.finalized_||!Zu(i)?i:i===o2(t.base_,e)?(l2(t),t.copy_[e]=HC(i,t)):i},has(t,e){return e in sp(t)},ownKeys(t){return Reflect.ownKeys(sp(t))},set(t,e,n){const i=Q8(sp(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=o2(sp(t),e),a=r?.[Eo];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(OJ(n,r)&&(n!==void 0||BC(t.base_,e)))return!0;l2(t),VC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return o2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,l2(t),VC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=sp(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Hl(11)},getPrototypeOf(t){return cx(t.base_)},setPrototypeOf(){Hl(12)}},fx={};iM(FO,(t,e)=>{fx[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fx.deleteProperty=function(t,e){return fx.set.call(this,t,e,void 0)};fx.set=function(t,e,n){return FO.set.call(this,t[0],e,n,t[0])};function o2(t,e){const n=t[Eo];return(n?sp(n):t)[e]}function IJ(t,e,n){const i=Q8(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function Q8(t,e){if(!(e in t))return;let n=cx(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=cx(n)}}function VC(t){t.modified_||(t.modified_=!0,t.parent_&&VC(t.parent_))}function l2(t){t.copy_||(t.copy_=jC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(c=a,...f){return s.produce(c,d=>n.call(this,d,...f))}}typeof n!="function"&&Hl(6),i!==void 0&&typeof i!="function"&&Hl(7);let r;if(Zu(e)){const a=ZU(this),s=HC(e,void 0);let o=!0;try{r=n(s),o=!1}finally{o?FC(a):kC(a)}return $U(a,i),QU(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===Y8&&(r=void 0),this.autoFreeze_&&jO(r,!0),i){const a=[],s=[];Bp("Patches").generateReplacementPatches_(e,r,a,s),i(a,s)}return r}else Hl(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let i,r;return[this.produce(e,n,(s,o)=>{i=s,r=o}),i,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zu(t)||Hl(8),zp(t)&&(t=qu(t));const e=ZU(this),n=HC(t,void 0);return n[Eo].isManual_=!0,kC(e),n}finishDraft(t,e){const n=t&&t[Eo];(!n||!n.isManual_)&&Hl(9);const{scope_:i}=n;return $U(i,e),QU(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=Bp("Patches").applyPatches_;return zp(t)?i(t,e):this.produce(t,r=>i(r,e))}};function HC(t,e){const n=ib(t)?Bp("MapSet").proxyMap_(t,e):tw(t)?Bp("MapSet").proxySet_(t,e):UJ(t,e);return(e?e.scope_:Z8()).drafts_.push(n),n}function qu(t){return zp(t)||Hl(10,t),J8(t)}function J8(t){if(!Zu(t)||nw(t))return t;const e=t[Eo];let n,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jC(t,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else n=jC(t,!0);return iM(n,(r,a)=>{$8(n,r,J8(a))},i),e&&(e.finalized_=!1),n}var GC=new zJ,eF=GC.produce,BJ=GC.setUseStrictIteration.bind(GC);function tF(t){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,t):r(a)}var jJ=tF(),FJ=tF,kJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nM:nM.apply(null,arguments)};function el(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(So(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>W8(i)&&i.type===t,n}var nF=class Ty extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ty.prototype)}static get[Symbol.species](){return Ty}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ty(...e[0].concat(this)):new Ty(...e.concat(this))}};function e4(t){return Zu(t)?eF(t,()=>{}):t}function d_(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VJ(t){return typeof t=="boolean"}var HJ=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let s=new nF;return n&&(VJ(n)?s.push(jJ):s.push(FJ(n.extraArgument))),s},iF="RTK_autoBatch",Ur=()=>t=>({payload:t,meta:{[iF]:!0}}),t4=t=>e=>{setTimeout(e,t)},rF=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:t4(10):t.type==="callback"?t.queueNotification:t4(t.timeout),f=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},i,{subscribe(d){const m=()=>r&&d(),v=i.subscribe(m);return o.add(d),()=>{v(),o.delete(d)}},dispatch(d){try{return r=!d?.meta?.[iF],a=!r,a&&(s||(s=!0,c(f))),i.dispatch(d)}finally{r=!0}}})},GJ=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new nF(t);return i&&r.push(rF(typeof i=="object"?i:void 0)),r};function qJ(t){const e=HJ(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(BO(n))o=X8(n);else throw new Error(So(1));let c;typeof i=="function"?c=i(e):c=e();let f=nM;r&&(f=kJ({trace:!1,...typeof r=="object"&&r}));const d=CJ(...c),m=GJ(d);let v=typeof s=="function"?s(m):m();const y=f(...v);return q8(o,a,y)}function aF(t){const e={},n=[];let i;const r={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(So(28));if(o in e)throw new Error(So(29));return e[o]=s,r},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),r},addMatcher(a,s){return n.push({matcher:a,reducer:s}),r},addDefaultCase(a){return i=a,r}};return t(r),[e,n,i]}BJ(!1);function XJ(t){return typeof t=="function"}function WJ(t,e){let[n,i,r]=aF(e),a;if(XJ(t))a=()=>e4(t());else{const o=e4(t);a=()=>o}function s(o=a(),c){let f=[n[c.type],...i.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[r]),f.reduce((d,m)=>{if(m)if(zp(d)){const y=m(d,c);return y===void 0?d:y}else{if(Zu(d))return eF(d,v=>m(v,c));{const v=m(d,c);if(v===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return d},o)}return s.getInitialState=a,s}var YJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",KJ=(t=21)=>{let e="",n=t;for(;n--;)e+=YJ[Math.random()*64|0];return e},$J=Symbol.for("rtk-slice-createasyncthunk");function ZJ(t,e){return`${t}/${e}`}function QJ({creators:t}={}){const e=t?.asyncThunk?.[$J];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(So(11));const s=(typeof i.reducers=="function"?i.reducers(eee()):i.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,L){const P=typeof T=="string"?T:T.type;if(!P)throw new Error(So(12));if(P in c.sliceCaseReducersByType)throw new Error(So(13));return c.sliceCaseReducersByType[P]=L,f},addMatcher(T,L){return c.sliceMatchers.push({matcher:T,reducer:L}),f},exposeAction(T,L){return c.actionCreators[T]=L,f},exposeCaseReducer(T,L){return c.sliceCaseReducersByName[T]=L,f}};o.forEach(T=>{const L=s[T],P={reducerName:T,type:ZJ(r,T),createNotation:typeof i.reducers=="function"};nee(L)?ree(P,L,f,e):tee(P,L,f)});function d(){const[T={},L=[],P=void 0]=typeof i.extraReducers=="function"?aF(i.extraReducers):[i.extraReducers],N={...T,...c.sliceCaseReducersByType};return WJ(i.initialState,z=>{for(let F in N)z.addCase(F,N[F]);for(let F of c.sliceMatchers)z.addMatcher(F.matcher,F.reducer);for(let F of L)z.addMatcher(F.matcher,F.reducer);P&&z.addDefaultCase(P)})}const m=T=>T,v=new Map,y=new WeakMap;let _;function E(T,L){return _||(_=d()),_(T,L)}function S(){return _||(_=d()),_.getInitialState()}function M(T,L=!1){function P(z){let F=z[T];return typeof F>"u"&&L&&(F=d_(y,P,S)),F}function N(z=m){const F=d_(v,L,()=>new WeakMap);return d_(F,z,()=>{const I={};for(const[j,k]of Object.entries(i.selectors??{}))I[j]=JJ(k,z,()=>d_(y,z,S),L);return I})}return{reducerPath:T,getSelectors:N,get selectors(){return N(P)},selectSlice:P}}const C={name:r,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...M(a),injectInto(T,{reducerPath:L,...P}={}){const N=L??a;return T.inject({reducerPath:N,reducer:E},P),{...C,...M(N,!0)}}};return C}}function JJ(t,e,n,i){function r(a,...s){let o=e(a);return typeof o>"u"&&i&&(o=n()),t(o,...s)}return r.unwrapped=t,r}var Ws=QJ();function eee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tee({type:t,reducerName:e,createNotation:n},i,r){let a,s;if("reducer"in i){if(n&&!iee(i))throw new Error(So(17));a=i.reducer,s=i.prepare}else a=i;r.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?el(t,s):el(t))}function nee(t){return t._reducerDefinitionType==="asyncThunk"}function iee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ree({type:t,reducerName:e},n,i,r){if(!r)throw new Error(So(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:f,options:d}=n,m=r(t,a,d);i.exposeAction(e,m),s&&i.addCase(m.fulfilled,s),o&&i.addCase(m.pending,o),c&&i.addCase(m.rejected,c),f&&i.addMatcher(m.settled,f),i.exposeCaseReducer(e,{fulfilled:s||h_,pending:o||h_,rejected:c||h_,settled:f||h_})}function h_(){}var aee="task",sF="listener",oF="completed",kO="cancelled",see=`task-${kO}`,oee=`task-${oF}`,qC=`${sF}-${kO}`,lee=`${sF}-${oF}`,iw=class{constructor(t){this.code=t,this.message=`${aee} ${kO} (reason: ${t})`}name="TaskAbortError";message},VO=(t,e)=>{if(typeof t!="function")throw new TypeError(So(32))},sM=()=>{},lF=(t,e=sM)=>(t.catch(e),t),cF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ap=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Tp=t=>{if(t.aborted){const{reason:e}=t;throw new iw(e)}};function uF(t,e){let n=sM;return new Promise((i,r)=>{const a=()=>r(new iw(t.reason));if(t.aborted){a();return}n=cF(t,a),e.finally(()=>n()).then(i,r)}).finally(()=>{n=sM})}var cee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof iw?"cancelled":"rejected",error:n}}finally{e?.()}},oM=t=>e=>lF(uF(t,e).then(n=>(Tp(t),n))),fF=t=>{const e=oM(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:q0}=Object,n4={},rw="listenerMiddleware",uee=(t,e)=>{const n=i=>cF(t,()=>Ap(i,t.reason));return(i,r)=>{VO(i);const a=new AbortController;n(a);const s=cee(async()=>{Tp(t),Tp(a.signal);const o=await i({pause:oM(a.signal),delay:fF(a.signal),signal:a.signal});return Tp(a.signal),o},()=>Ap(a,oee));return r?.autoJoin&&e.push(s.catch(sM)),{result:oM(t)(s),cancel(){Ap(a,see)}}}},fee=(t,e)=>{const n=async(i,r)=>{Tp(e);let a=()=>{};const o=[new Promise((c,f)=>{let d=t({predicate:i,effect:(m,v)=>{v.unsubscribe(),c([m,v.getState(),v.getOriginalState()])}});a=()=>{d(),f()}})];r!=null&&o.push(new Promise(c=>setTimeout(c,r,null)));try{const c=await uF(e,Promise.race(o));return Tp(e),c}finally{a()}};return(i,r)=>lF(n(i,r))},dF=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:a}=t;if(e)r=el(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(So(21));return VO(a),{predicate:r,type:e,effect:a}},hF=q0(t=>{const{type:e,predicate:n,effect:i}=dF(t);return{id:KJ(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(So(22))}}},{withTypes:()=>hF}),i4=(t,e)=>{const{type:n,effect:i,predicate:r}=dF(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},XC=t=>{t.pending.forEach(e=>{Ap(e,qC)})},dee=(t,e)=>()=>{for(const n of e.keys())XC(n);t.clear()},r4=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},pF=q0(el(`${rw}/add`),{withTypes:()=>pF}),hee=el(`${rw}/removeAll`),mF=q0(el(`${rw}/remove`),{withTypes:()=>mF}),pee=(...t)=>{console.error(`${rw}/error`,...t)},rb=(t={})=>{const e=new Map,n=new Map,i=y=>{const _=n.get(y)??0;n.set(y,_+1)},r=y=>{const _=n.get(y)??1;_===1?n.delete(y):n.set(y,_-1)},{extra:a,onError:s=pee}=t;VO(s);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),_=>{y.unsubscribe(),_?.cancelActive&&XC(y)}),c=y=>{const _=i4(e,y)??hF(y);return o(_)};q0(c,{withTypes:()=>c});const f=y=>{const _=i4(e,y);return _&&(_.unsubscribe(),y.cancelActive&&XC(_)),!!_};q0(f,{withTypes:()=>f});const d=async(y,_,E,S)=>{const M=new AbortController,C=fee(c,M.signal),T=[];try{y.pending.add(M),i(y),await Promise.resolve(y.effect(_,q0({},E,{getOriginalState:S,condition:(L,P)=>C(L,P).then(Boolean),take:C,delay:fF(M.signal),pause:oM(M.signal),extra:a,signal:M.signal,fork:uee(M.signal,T),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((L,P,N)=>{L!==M&&(Ap(L,qC),N.delete(L))})},cancel:()=>{Ap(M,qC),y.pending.delete(M)},throwIfCancelled:()=>{Tp(M.signal)}})))}catch(L){L instanceof iw||r4(s,L,{raisedBy:"effect"})}finally{await Promise.all(T),Ap(M,lee),r(y),y.pending.delete(M)}},m=dee(e,n);return{middleware:y=>_=>E=>{if(!W8(E))return _(E);if(pF.match(E))return c(E.payload);if(hee.match(E)){m();return}if(mF.match(E))return f(E.payload);let S=y.getState();const M=()=>{if(S===n4)throw new Error(So(23));return S};let C;try{if(C=_(E),e.size>0){const T=y.getState(),L=Array.from(e.values());for(const P of L){let N=!1;try{N=P.predicate(E,T,S)}catch(z){N=!1,r4(s,z,{raisedBy:"predicate"})}N&&d(P,E,y,M)}}}finally{S=n4}return C},startListening:c,stopListening:f,clearListeners:m}};function So(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gF=Ws({name:"chartLayout",initialState:mee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gee,setLayout:vee,setChartSize:yee,setScale:xee}=gF.actions,bee=gF.reducer;function vF(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function L0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(i){_ee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _ee(t,e,n){return(e=See(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function See(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ds(t,e,n){return $r(t)||$r(e)?n:$c(e)?QE(t,e,n):typeof e=="function"?e(t):n}var Eee=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ft(t[a]))return L0(L0({},t),{},{[a]:t[a]+(i||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ft(t[s]))return L0(L0({},t),{},{[s]:t[s]+(r||0)})}return t},Hd=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",yF=(t,e,n,i)=>{if(i)return t.map(o=>o.coordinate);var r,a,s=t.map(o=>(o.coordinate===e&&(r=!0),o.coordinate===n&&(a=!0),o.coordinate));return r||s.push(e),a||s.push(n),s},xF=(t,e,n)=>{if(!t)return null;var{duplicateDomain:i,type:r,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:f,tickCount:d,ticks:m,niceTicks:v,axisType:y}=t;if(!s)return null;var _=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=r==="category"&&s.bandwidth?s.bandwidth()/_:0;if(E=y==="angleAxis"&&a&&a.length>=2?$o(a[0]-a[1])*2*E:E,m||v){var S=(m||v||[]).map((M,C)=>{var T=i?i.indexOf(M):M;return{coordinate:s(T)+E,value:M,offset:E,index:C}});return S.filter(M=>!Kc(M.coordinate))}return c&&f?f.map((M,C)=>({coordinate:s(M)+E,value:M,index:C,offset:E})):s.ticks&&d!=null?s.ticks(d).map((M,C)=>({coordinate:s(M)+E,value:M,offset:E,index:C})):s.domain().map((M,C)=>({coordinate:s(M)+E,value:i?i[M]:M,index:C,offset:E}))},s4=1e-4,wee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),r=Math.min(i[0],i[1])-s4,a=Math.max(i[0],i[1])+s4,s=t(e[0]),o=t(e[n-1]);(s<r||s>a||o<r||o>a)&&t.domain([e[0],e[n-1]])}},Aee=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,a=0,s=0;s<e;++s){var o=Kc(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=r,t[s][n][1]=r+o,r=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},Tee=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,a=0;a<e;++a){var s=Kc(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=r,t[a][n][1]=r+s,r=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Cee={sign:Aee,expand:sQ,none:Z0,silhouette:oQ,wiggle:lQ,positive:Tee},Ree=(t,e,n)=>{var i=Cee[n],r=aQ().keys(e).value((a,s)=>Number(ds(a,s,0))).order(IC).offset(i);return r(t)};function o4(t){var{axis:e,ticks:n,bandSize:i,entry:r,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$r(r[e.dataKey])){var o=T8(n,"value",r[e.dataKey]);if(o)return o.coordinate+i/2}return n[a]?n[a].coordinate+i/2:null}var c=ds(r,$r(s)?e.dataKey:s);return $r(c)?null:e.scale(c)}var Oee=t=>{var e=t.flat(2).filter(Ft);return[Math.min(...e),Math.max(...e)]},Dee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Nee=(t,e,n)=>{if(t!=null)return Dee(Object.keys(t).reduce((i,r)=>{var a=t[r],{stackedData:s}=a,o=s.reduce((c,f)=>{var d=vF(f,e,n),m=Oee(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],i[0]),Math.max(o[1],i[1])]},[1/0,-1/0]))},l4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lM=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var r=JE(e,d=>d.coordinate),a=1/0,s=1,o=r.length;s<o;s++){var c=r[s],f=r[s-1];a=Math.min((c.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function u4(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:a}=t;return L0(L0({},e),{},{dataKey:n,payload:i,value:r,name:a})}function bF(t,e){if(t)return String(t);if(typeof e=="string")return e}var Pee=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Lee=(t,e)=>e==="centric"?t.angle:t.radius,uf=t=>t.layout.width,ff=t=>t.layout.height,Uee=t=>t.layout.scale,_F=t=>t.layout.margin,aw=Be(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),sw=Be(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Iee="data-recharts-item-index",zee="data-recharts-item-data-key",ab=60;function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(i){Bee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Bee(t,e,n){return(e=jee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=Fee(t,"string");return typeof e=="symbol"?e:e+""}function Fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kee=t=>t.brush.height;function Vee(t){var e=sw(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:ab;return n+r}return n},0)}function Hee(t){var e=sw(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:ab;return n+r}return n},0)}function Gee(t){var e=aw(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function qee(t){var e=aw(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var va=Be([uf,ff,_F,kee,Vee,Hee,Gee,qee,G8,SJ],(t,e,n,i,r,a,s,o,c,f)=>{var d={left:(n.left||0)+r,right:(n.right||0)+a},m={top:(n.top||0)+s,bottom:(n.bottom||0)+o},v=p_(p_({},m),d),y=v.bottom;v.bottom+=i,v=Eee(v,c,f);var _=t-v.left-v.right,E=e-v.top-v.bottom;return p_(p_({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(E,0)})}),Xee=Be(va,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SF=Be(uf,ff,(t,e)=>({x:0,y:0,width:t,height:e})),Wee=U.createContext(null),Ys=()=>U.useContext(Wee)!=null,ow=t=>t.brush,lw=Be([ow,va,_F],(t,e,n)=>({height:t.height,x:Ft(t.x)?t.x:e.left,y:Ft(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ft(t.width)?t.width:e.width})),c2={},u2={},f2={},d4;function Yee(){return d4||(d4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},m=()=>{f&&d(),E()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},i)},_=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{_(),s=void 0,o=null},S=()=>{d()},M=function(...C){if(r?.aborted)return;s=this,o=C;const T=v==null;y(),c&&T&&d()};return M.schedule=y,M.cancel=E,M.flush=S,r?.addEventListener("abort",E,{once:!0}),M}t.debounce=e})(f2)),f2}var h4;function Kee(){return h4||(h4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yee();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,f=Array(2);s&&(f[0]="leading"),o&&(f[1]="trailing");let d,m=null;const v=e.debounce(function(...E){d=i.apply(this,E),m=null},r,{edges:f}),y=function(...E){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=i.apply(this,E),m=Date.now(),v.cancel(),v.schedule(),d):(v.apply(this,E),d)},_=()=>(v.flush(),d);return y.cancel=v.cancel,y.flush=_,y}t.debounce=n})(u2)),u2}var p4;function $ee(){return p4||(p4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kee();function n(i,r=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(i,r,{leading:s,maxWait:r,trailing:o})}t.throttle=n})(c2)),c2}var d2,m4;function Zee(){return m4||(m4=1,d2=$ee().throttle),d2}var Qee=Zee();const Jee=al(Qee);var cM=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]},MF=(t,e,n)=>{var{width:i="100%",height:r="100%",aspect:a,maxHeight:s}=n,o=$u(i)?t:Number(i),c=$u(r)?e:Number(r);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},ete={width:0,height:0,overflow:"visible"},tte={width:0,overflowX:"visible"},nte={height:0,overflowY:"visible"},ite={},rte=t=>{var{width:e,height:n}=t,i=$u(e),r=$u(n);return i&&r?ete:i?tte:r?nte:ite};function ate(t){var{width:e,height:n,aspect:i}=t,r=e,a=n;return r===void 0&&a===void 0?(r="100%",a="100%"):r===void 0?r=i&&i>0?void 0:"100%":a===void 0&&(a=i&&i>0?void 0:"100%"),{width:r,height:a}}function Zr(t){return Number.isFinite(t)}function Zc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},WC.apply(null,arguments)}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function v4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(i){ste(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EF=U.createContext({width:-1,height:-1});function cte(t){return Zc(t.width)&&Zc(t.height)}function wF(t){var{children:e,width:n,height:i}=t,r=U.useMemo(()=>({width:n,height:i}),[n,i]);return cte(r)?U.createElement(EF.Provider,{value:r},e):null}var HO=()=>U.useContext(EF),ute=U.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:r,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:f,debounce:d=0,id:m,className:v,onResize:y,style:_={}}=t,E=U.useRef(null),S=U.useRef();S.current=y,U.useImperativeHandle(e,()=>E.current);var[M,C]=U.useState({containerWidth:i.width,containerHeight:i.height}),T=U.useCallback((F,I)=>{C(j=>{var k=Math.round(F),Z=Math.round(I);return j.containerWidth===k&&j.containerHeight===Z?j:{containerWidth:k,containerHeight:Z}})},[]);U.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return _g;var F=Z=>{var ee,{width:re,height:ae}=Z[0].contentRect;T(re,ae),(ee=S.current)===null||ee===void 0||ee.call(S,re,ae)};d>0&&(F=Jee(F,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(F),{width:j,height:k}=E.current.getBoundingClientRect();return T(j,k),I.observe(E.current),()=>{I.disconnect()}},[T,d]);var{containerWidth:L,containerHeight:P}=M;cM(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:z}=MF(L,P,{width:r,height:a,aspect:n,maxHeight:c});return cM(N!=null&&N>0||z!=null&&z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,z,r,a,s,o,n),U.createElement("div",{id:m?"".concat(m):void 0,className:pi("recharts-responsive-container",v),style:v4(v4({},_),{},{width:r,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:E},U.createElement("div",{style:rte({width:r,height:a})},U.createElement(wF,{width:N,height:z},f)))}),fte=U.forwardRef((t,e)=>{var n=HO();if(Zc(n.width)&&Zc(n.height))return t.children;var{width:i,height:r}=ate({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=MF(void 0,void 0,{width:i,height:r,aspect:t.aspect,maxHeight:t.maxHeight});return Ft(a)&&Ft(s)?U.createElement(wF,{width:a,height:s},t.children):U.createElement(ute,WC({},t,{width:i,height:r,ref:e}))});function AF(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var cw=()=>{var t,e=Ys(),n=kt(Xee),i=kt(lw),r=(t=kt(ow))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},dte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TF=()=>{var t;return(t=kt(va))!==null&&t!==void 0?t:dte},CF=()=>kt(uf),RF=()=>kt(ff),Si=t=>t.layout.layoutType,uw=()=>kt(Si),hte=()=>{var t=uw();return t!==void 0},fw=t=>{var e=Qr(),n=Ys(),{width:i,height:r}=t,a=HO(),s=i,o=r;return a&&(s=a.width>0?a.width:i,o=a.height>0?a.height:r),U.useEffect(()=>{!n&&Zc(s)&&Zc(o)&&e(yee({width:s,height:o}))},[e,n,s,o]),null},pte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OF=Ws({name:"legend",initialState:pte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ur()},removeLegendPayload:{reducer(t,e){var n=qu(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ur()}}}),{setLegendSize:YTe,setLegendSettings:KTe,addLegendPayload:mte,removeLegendPayload:gte}=OF.actions,vte=OF.reducer;function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},YC.apply(null,arguments)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(i){yte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function yte(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _te(t){return Array.isArray(t)&&$c(t[0])&&$c(t[1])?t.join(" ~ "):t}var Ste=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:i={},labelStyle:r={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:f,label:d,labelFormatter:m,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var P={padding:0,margin:0},N=(o?JE(a,o):a).map((z,F)=>{if(z.type==="none")return null;var I=z.formatter||s||_te,{value:j,name:k}=z,Z=j,ee=k;if(I){var re=I(j,k,z,F,a);if(Array.isArray(re))[Z,ee]=re;else if(re!=null)Z=re;else return null}var ae=h2({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},i);return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ae},$c(ee)?U.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,$c(ee)?U.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Z),U.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:P},N)}return null},_=h2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=h2({margin:0},r),S=!$r(d),M=S?d:"",C=pi("recharts-default-tooltip",c),T=pi("recharts-tooltip-label",f);S&&m&&a!==void 0&&a!==null&&(M=m(d,a));var L=v?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",YC({className:C,style:_},L),U.createElement("p",{className:T,style:E},U.isValidElement(M)?M:"".concat(M)),y())},ny="recharts-tooltip-wrapper",Mte={visibility:"hidden"};function Ete(t){var{coordinate:e,translateX:n,translateY:i}=t;return pi(ny,{["".concat(ny,"-right")]:Ft(n)&&e&&Ft(e.x)&&n>=e.x,["".concat(ny,"-left")]:Ft(n)&&e&&Ft(e.x)&&n<e.x,["".concat(ny,"-bottom")]:Ft(i)&&e&&Ft(e.y)&&i>=e.y,["".concat(ny,"-top")]:Ft(i)&&e&&Ft(e.y)&&i<e.y})}function x4(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:f}=t;if(a&&Ft(a[i]))return a[i];var d=n[i]-o-(r>0?r:0),m=n[i]+r;if(e[i])return s[i]?d:m;var v=c[i];if(v==null)return 0;if(s[i]){var y=d,_=v;return y<_?Math.max(m,v):Math.max(d,v)}if(f==null)return 0;var E=m+o,S=v+f;return E>S?Math.max(d,v):Math.max(m,v)}function wte(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ate(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:i,position:r,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=t,f,d,m;return s.height>0&&s.width>0&&n?(d=x4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=x4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:r,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=wte({translateX:d,translateY:m,useTranslate3d:o})):f=Mte,{cssProperties:f,cssClasses:Ete({translateX:d,translateY:m,coordinate:n})}}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(i){KC(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function KC(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rte extends U.PureComponent{constructor(){super(...arguments),KC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),KC(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:f,position:d,reverseDirection:m,useTranslate3d:v,viewBox:y,wrapperStyle:_,lastBoundingBox:E,innerRef:S,hasPortalFromProps:M}=this.props,{cssClasses:C,cssProperties:T}=Ate({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:d,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:y}),L=M?{}:m_(m_({transition:c&&e?"transform ".concat(i,"ms ").concat(r):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=m_(m_({},L),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},_);return U.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:P,ref:S},a)}}var Ote=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sg={devToolsEnabled:!1,isSsr:Ote()},DF=()=>{var t;return(t=kt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$C.apply(null,arguments)}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function S4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(i){Dte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Dte(t,e,n){return(e=Nte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nte(t){var e=Pte(t,"string");return typeof e=="symbol"?e:e+""}function Pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M4={curveBasisClosed:YZ,curveBasisOpen:KZ,curveBasis:WZ,curveBumpX:PZ,curveBumpY:LZ,curveLinearClosed:$Z,curveLinear:$E,curveMonotoneX:ZZ,curveMonotoneY:QZ,curveNatural:JZ,curveStep:eQ,curveStepAfter:nQ,curveStepBefore:tQ},uM=t=>Zr(t.x)&&Zr(t.y),E4=t=>t.base!=null&&uM(t.base)&&uM(t),iy=t=>t.x,ry=t=>t.y,Lte=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(nb(t));return(n==="curveMonotone"||n==="curveBump")&&e?M4["".concat(n).concat(e==="vertical"?"Y":"X")]:M4[n]||$E},Ute=t=>{var{type:e="linear",points:n=[],baseLine:i,layout:r,connectNulls:a=!1}=t,s=Lte(e,r),o=a?n.filter(uM):n,c;if(Array.isArray(i)){var f=n.map((y,_)=>S4(S4({},y),{},{base:i[_]}));r==="vertical"?c=l_().y(ry).x1(iy).x0(y=>y.base.x):c=l_().x(iy).y1(ry).y0(y=>y.base.y);var d=c.defined(E4).curve(s),m=a?f.filter(E4):f;return d(m)}r==="vertical"&&Ft(i)?c=l_().y(ry).x1(iy).x0(i):Ft(i)?c=l_().x(iy).y1(ry).y0(i):c=p8().x(iy).y(ry);var v=c.defined(uM).curve(s);return v(o)},NF=t=>{var{className:e,points:n,path:i,pathRef:r}=t;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Ute(t):i;return U.createElement("path",$C({},Yc(t),UO(t),{className:pi("recharts-curve",e),d:a===null?void 0:a,ref:r}))},Ite=["x","y","top","left","width","height","className"];function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ZC.apply(null,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(i){Bte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Bte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e){if(t==null)return{};var n,i,r=Vte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vte(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Hte=(t,e,n,i,r,a)=>"M".concat(t,",").concat(r,"v").concat(i,"M").concat(a,",").concat(e,"h").concat(n),Gte=t=>{var{x:e=0,y:n=0,top:i=0,left:r=0,width:a=0,height:s=0,className:o}=t,c=kte(t,Ite),f=zte({x:e,y:n,top:i,left:r,width:a,height:s},c);return!Ft(e)||!Ft(n)||!Ft(a)||!Ft(s)||!Ft(i)||!Ft(r)?null:U.createElement("path",ZC({},ps(f),{className:pi("recharts-cross",o),d:Hte(e,n,a,s,i,r)}))};function qte(t,e,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-r:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-r,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function T4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(i){Xte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Xte(t,e,n){return(e=Wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),PF=(t,e,n)=>t.map(i=>"".concat(Kte(i)," ").concat(e,"ms ").concat(n)).join(","),$te=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),dx=(t,e)=>Object.keys(e).reduce((n,i)=>T4(T4({},n),{},{[i]:t(i,e[i])}),{});function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(i){Zte(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zte(t,e,n){return(e=Qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fM=(t,e,n)=>t+(e-t)*n,QC=t=>{var{from:e,to:n}=t;return e!==n},LF=(t,e,n)=>{var i=dx((r,a)=>{if(QC(a)){var[s,o]=t(a.from,a.to,a.velocity);return Lr(Lr({},a),{},{from:s,velocity:o})}return a},e);return n<1?dx((r,a)=>QC(a)?Lr(Lr({},a),{},{velocity:fM(a.velocity,i[r].velocity,n),from:fM(a.from,i[r].from,n)}):a,e):LF(t,i,n-1)};function ene(t,e,n,i,r,a){var s,o=i.reduce((v,y)=>Lr(Lr({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>dx((v,y)=>y.from,o),f=()=>!Object.values(o).filter(QC).length,d=null,m=v=>{s||(s=v);var y=v-s,_=y/n.dt;o=LF(n,o,_),r(Lr(Lr(Lr({},t),e),c())),s=v,f()||(d=a.setTimeout(m))};return()=>(d=a.setTimeout(m),()=>{var v;(v=d)===null||v===void 0||v()})}function tne(t,e,n,i,r,a,s){var o=null,c=r.reduce((m,v)=>Lr(Lr({},m),{},{[v]:[t[v],e[v]]}),{}),f,d=m=>{f||(f=m);var v=(m-f)/i,y=dx((E,S)=>fM(...S,n(v)),c);if(a(Lr(Lr(Lr({},t),e),y)),v<1)o=s.setTimeout(d);else{var _=dx((E,S)=>fM(...S,n(1)),c);a(Lr(Lr(Lr({},t),e),_))}};return()=>(o=s.setTimeout(d),()=>{var m;(m=o)===null||m===void 0||m()})}const nne=(t,e,n,i,r,a)=>{var s=$te(t,e);return n==null?()=>(r(Lr(Lr({},t),e)),()=>{}):n.isStepper===!0?ene(t,e,n,s,r,a):tne(t,e,n,i,s,r,a)};var dM=1e-4,UF=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],IF=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),R4=(t,e)=>n=>{var i=UF(t,e);return IF(i,n)},ine=(t,e)=>n=>{var i=UF(t,e),r=[...i.map((a,s)=>a*s).slice(1),0];return IF(r,n)},rne=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((r=a[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},ane=(t,e,n,i)=>{var r=R4(t,n),a=R4(e,i),s=ine(t,n),o=f=>f>1?1:f<0?0:f,c=f=>{for(var d=f>1?1:f,m=d,v=0;v<8;++v){var y=r(m)-d,_=s(m);if(Math.abs(y-d)<dM||_<dM)return a(m);m=o(m-y/_)}return a(m)};return c.isStepper=!1,c},O4=function(){return ane(...rne(...arguments))},sne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,a=(s,o,c)=>{var f=-(s-o)*n,d=c*i,m=c+(f-d)*r/1e3,v=c*r/1e3+s;return Math.abs(v-o)<dM&&Math.abs(m)<dM?[o,0]:[v,m]};return a.isStepper=!0,a.dt=r,a},one=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return O4(t);case"spring":return sne();default:if(t.split("(")[0]==="cubic-bezier")return O4(t)}return typeof t=="function"?t:null};function lne(t){var e,n=()=>null,i=!1,r=null,a=s=>{if(!i){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...f]=o;if(typeof c=="number"){r=t.setTimeout(a.bind(null,f),c);return}a(c),r=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{i=!0},start:s=>{i=!1,r&&(r(),r=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class cne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=s=>{s-i>=n?e(s):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function une(){return lne(new cne)}var fne=U.createContext(une);function dne(t,e){var n=U.useContext(fne);return U.useMemo(()=>e??n(t),[t,e,n])}var hne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},D4={t:0},p2={t:1};function GO(t){var e=Xs(t,hne),{isActive:n,canBegin:i,duration:r,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:f}=e,d=dne(e.animationId,e.animationManager),[m,v]=U.useState(n?D4:p2),y=U.useRef(null);return U.useEffect(()=>{n||v(p2)},[n]),U.useEffect(()=>{if(!n||!i)return _g;var _=nne(D4,p2,one(a),r,v,d.getTimeoutController()),E=()=>{y.current=_()};return d.start([c,s,E,r,o]),()=>{d.stop(),y.current&&y.current(),o()}},[n,i,r,a,s,c,o,d]),f(m.t)}function qO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=U.useRef(lx(e)),i=U.useRef(t);return i.current!==t&&(n.current=lx(e),i.current=t),n.current}var pne=["radius"],mne=["radius"];function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function P4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(i){gne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hM.apply(null,arguments)}function L4(t,e){if(t==null)return{};var n,i,r=xne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xne(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var U4=(t,e,n,i,r)=>{var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,o=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,f;if(a>0&&r instanceof Array){for(var d=[0,0,0,0],m=0,v=4;m<v;m++)d[m]=r[m]>a?a:r[m];f="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+o*d[0],",").concat(e)),f+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*d[1])),f+="L ".concat(t+n,",").concat(e+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-o*d[2],",").concat(e+i)),f+="L ".concat(t+o*d[3],",").concat(e+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+i-s*d[3])),f+="Z"}else if(a>0&&r===+r&&r>0){var y=Math.min(a,r);f="M ".concat(t,",").concat(e+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+o*y,",").concat(e,`
            L `).concat(t+n-o*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*y,`
            L `).concat(t+n,",").concat(e+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t+n-o*y,",").concat(e+i,`
            L `).concat(t+o*y,",").concat(e+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(t,",").concat(e+i-s*y," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},I4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zF=t=>{var e=Xs(t,I4),n=U.useRef(null),[i,r]=U.useState(-1);U.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&r(X)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:f,className:d}=e,{animationEasing:m,animationDuration:v,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:E}=e,S=U.useRef(o),M=U.useRef(c),C=U.useRef(a),T=U.useRef(s),L=U.useMemo(()=>({x:a,y:s,width:o,height:c,radius:f}),[a,s,o,c,f]),P=qO(L,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var N=pi("recharts-rectangle",d);if(!E){var z=ps(e),{radius:F}=z,I=L4(z,pne);return U.createElement("path",hM({},I,{radius:typeof f=="number"?f:void 0,className:N,d:U4(a,s,o,c,f)}))}var j=S.current,k=M.current,Z=C.current,ee=T.current,re="0px ".concat(i===-1?1:i,"px"),ae="".concat(i,"px 0px"),H=PF(["strokeDasharray"],v,typeof m=="string"?m:I4.animationEasing);return U.createElement(GO,{animationId:P,key:P,canBegin:i>0,duration:v,easing:m,isActive:E,begin:y},X=>{var K=zs(j,o,X),ne=zs(k,c,X),q=zs(Z,a,X),se=zs(ee,s,X);n.current&&(S.current=K,M.current=ne,C.current=q,T.current=se);var ge;_?X>0?ge={transition:H,strokeDasharray:ae}:ge={strokeDasharray:re}:ge={strokeDasharray:ae};var _e=ps(e),{radius:Ae}=_e,Qe=L4(_e,mne);return U.createElement("path",hM({},Qe,{radius:typeof f=="number"?f:void 0,className:N,d:U4(q,se,K,ne,f),ref:n,style:P4(P4({},ge),e.style)}))})};function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function B4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(i){bne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pM=Math.PI/180,Mne=t=>t*180/Math.PI,pa=(t,e,n,i)=>({x:t+Math.cos(-pM*i)*n,y:e+Math.sin(-pM*i)*n}),Ene=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},wne=(t,e)=>{var{x:n,y:i}=t,{x:r,y:a}=e;return Math.sqrt((n-r)**2+(i-a)**2)},Ane=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:a}=e,s=wne({x:n,y:i},{x:r,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-r)/s,c=Math.acos(o);return i>a&&(c=2*Math.PI-c),{radius:s,angle:Mne(c),angleInRadian:c}},Tne=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:e-a*360,endAngle:n-a*360}},Cne=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),a=Math.floor(i/360),s=Math.min(r,a);return t+s*360},Rne=(t,e)=>{var{chartX:n,chartY:i}=t,{radius:r,angle:a}=Ane({x:n,y:i},e),{innerRadius:s,outerRadius:o}=e;if(r<s||r>o||r===0)return null;var{startAngle:c,endAngle:f}=Tne(e),d=a,m;if(c<=f){for(;d>f;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=f}else{for(;d>c;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=c}return m?B4(B4({},e),{},{radius:r,angle:Cne(d,e)}):null};function BF(t){var{cx:e,cy:n,radius:i,startAngle:r,endAngle:a}=t,s=pa(e,n,i,r),o=pa(e,n,i,a);return{points:[s,o],cx:e,cy:n,radius:i,startAngle:r,endAngle:a}}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},JC.apply(null,arguments)}var One=(t,e)=>{var n=$o(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},g_=t=>{var{cx:e,cy:n,radius:i,angle:r,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,f=o*(s?1:-1)+i,d=Math.asin(o/f)/pM,m=c?r:r+a*d,v=pa(e,n,f,m),y=pa(e,n,i,m),_=c?r-a*d:r,E=pa(e,n,f*Math.cos(d*pM),_);return{center:v,circleTangency:y,lineTangency:E,theta:d}},jF=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:s}=t,o=One(a,s),c=a+o,f=pa(e,n,r,a),d=pa(e,n,r,c),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var v=pa(e,n,i,a),y=pa(e,n,i,c);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},Dne=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:f}=t,d=$o(f-c),{circleTangency:m,lineTangency:v,theta:y}=g_({cx:e,cy:n,radius:r,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:_,lineTangency:E,theta:S}=g_({cx:e,cy:n,radius:r,angle:f,sign:-d,cornerRadius:a,cornerIsExternal:o}),M=o?Math.abs(c-f):Math.abs(c-f)-y-S;if(M<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jF({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:c,endAngle:f});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var{circleTangency:T,lineTangency:L,theta:P}=g_({cx:e,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:z,theta:F}=g_({cx:e,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(c-f):Math.abs(c-f)-P-F;if(I<0&&a===0)return"".concat(C,"L").concat(e,",").concat(n,"Z");C+="L".concat(z.x,",").concat(z.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else C+="L".concat(e,",").concat(n,"Z");return C},Nne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FF=t=>{var e=Xs(t,Nne),{cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:f,endAngle:d,className:m}=e;if(a<r||f===d)return null;var v=pi("recharts-sector",m),y=a-r,_=Ld(s,y,0,!0),E;return _>0&&Math.abs(f-d)<360?E=Dne({cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(_,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:f,endAngle:d}):E=jF({cx:n,cy:i,innerRadius:r,outerRadius:a,startAngle:f,endAngle:d}),U.createElement("path",JC({},ps(e),{className:v,d:E}))};function Pne(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(O8(e)){if(t==="centric"){var{cx:i,cy:r,innerRadius:a,outerRadius:s,angle:o}=e,c=pa(i,r,a,o),f=pa(i,r,s,o);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return BF(e)}}var m2={},g2={},v2={},j4;function Lne(){return j4||(j4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V8();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(v2)),v2}var F4;function Une(){return F4||(F4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lne();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(g2)),g2}var k4;function Ine(){return k4||(k4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H8(),n=Une();function i(r,a,s){s&&typeof s!="number"&&e.isIterateeCall(r,a,s)&&(a=s=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),s=s===void 0?r<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-r)/(s||1)),0),c=new Array(o);for(let f=0;f<o;f++)c[f]=r,r+=s;return c}t.range=i})(m2)),m2}var y2,V4;function zne(){return V4||(V4=1,y2=Ine().range),y2}var Bne=zne();const kF=al(Bne);function Nd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XO(t){let e,n,i;t.length!==2?(e=Nd,n=(o,c)=>Nd(t(o),c),i=(o,c)=>t(o)-c):(e=t===Nd||t===jne?t:Fne,n=t,i=t);function r(o,c,f=0,d=o.length){if(f<d){if(e(c,c)!==0)return d;do{const m=f+d>>>1;n(o[m],c)<0?f=m+1:d=m}while(f<d)}return f}function a(o,c,f=0,d=o.length){if(f<d){if(e(c,c)!==0)return d;do{const m=f+d>>>1;n(o[m],c)<=0?f=m+1:d=m}while(f<d)}return f}function s(o,c,f=0,d=o.length){const m=r(o,c,f,d-1);return m>f&&i(o[m-1],c)>-i(o[m],c)?m-1:m}return{left:r,center:s,right:a}}function Fne(){return 0}function VF(t){return t===null?NaN:+t}function*kne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Vne=XO(Nd),sb=Vne.right;XO(VF).center;class H4 extends Map{constructor(e,n=qne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(G4(this,e))}has(e){return super.has(G4(this,e))}set(e,n){return super.set(Hne(this,e),n)}delete(e){return super.delete(Gne(this,e))}}function G4({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Hne({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Gne({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function qne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xne(t=Nd){if(t===Nd)return HF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function HF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Wne=Math.sqrt(50),Yne=Math.sqrt(10),Kne=Math.sqrt(2);function mM(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),s=a>=Wne?10:a>=Yne?5:a>=Kne?2:1;let o,c,f;return r<0?(f=Math.pow(10,-r)/s,o=Math.round(t*f),c=Math.round(e*f),o/f<t&&++o,c/f>e&&--c,f=-f):(f=Math.pow(10,r)*s,o=Math.round(t/f),c=Math.round(e/f),o*f<t&&++o,c*f>e&&--c),c<o&&.5<=n&&n<2?mM(t,e,n*2):[o,c,f]}function eR(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,s]=i?mM(e,t,n):mM(t,e,n);if(!(a>=r))return[];const o=a-r+1,c=new Array(o);if(i)if(s<0)for(let f=0;f<o;++f)c[f]=(a-f)/-s;else for(let f=0;f<o;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<o;++f)c[f]=(r+f)/-s;else for(let f=0;f<o;++f)c[f]=(r+f)*s;return c}function tR(t,e,n){return e=+e,t=+t,n=+n,mM(t,e,n)[2]}function nR(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?tR(e,t,n):tR(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function q4(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function X4(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function GF(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?HF:Xne(r);i>n;){if(i-n>600){const c=i-n+1,f=e-n+1,d=Math.log(c),m=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*m*(c-m)/c)*(f-c/2<0?-1:1),y=Math.max(n,Math.floor(e-f*m/c+v)),_=Math.min(i,Math.floor(e+(c-f)*m/c+v));GF(t,e,y,_,r)}const a=t[e];let s=n,o=i;for(ay(t,n,e),r(t[i],a)>0&&ay(t,n,i);s<o;){for(ay(t,s,o),++s,--o;r(t[s],a)<0;)++s;for(;r(t[o],a)>0;)--o}r(t[n],a)===0?ay(t,n,o):(++o,ay(t,o,i)),o<=e&&(n=o+1),e<=o&&(i=o-1)}return t}function ay(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function $ne(t,e,n){if(t=Float64Array.from(kne(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return X4(t);if(e>=1)return q4(t);var i,r=(i-1)*e,a=Math.floor(r),s=q4(GF(t,a).subarray(0,a+1)),o=X4(t.subarray(a+1));return s+(o-s)*(r-a)}}function Zne(t,e,n=VF){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(r-a)}}function Qne(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function sl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function df(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iR=Symbol("implicit");function WO(){var t=new H4,e=[],n=[],i=iR;function r(a){let s=t.get(a);if(s===void 0){if(i!==iR)return i;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new H4;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return WO(e,n).unknown(i)},sl.apply(r,arguments),r}function YO(){var t=WO().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,s,o=!1,c=0,f=0,d=.5;delete t.unknown;function m(){var v=e().length,y=r<i,_=y?r:i,E=y?i:r;a=(E-_)/Math.max(1,v-c+f*2),o&&(a=Math.floor(a)),_+=(E-_-a*(v-c))*d,s=a*(1-c),o&&(_=Math.round(_),s=Math.round(s));var S=Qne(v).map(function(M){return _+a*M});return n(y?S.reverse():S)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([i,r]=v,i=+i,r=+r,m()):[i,r]},t.rangeRound=function(v){return[i,r]=v,i=+i,r=+r,o=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(o=!!v,m()):o},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),m()):d},t.copy=function(){return YO(e(),[i,r]).round(o).paddingInner(c).paddingOuter(f).align(d)},sl.apply(m(),arguments)}function qF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qF(e())},t}function Jne(){return qF(YO.apply(null,arguments).paddingInner(1))}function KO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function XF(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ob(){}var hx=.7,gM=1/hx,X0="\\s*([+-]?\\d+)\\s*",px="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eie=/^#([0-9a-f]{3,8})$/,tie=new RegExp(`^rgb\\(${X0},${X0},${X0}\\)$`),nie=new RegExp(`^rgb\\(${Fc},${Fc},${Fc}\\)$`),iie=new RegExp(`^rgba\\(${X0},${X0},${X0},${px}\\)$`),rie=new RegExp(`^rgba\\(${Fc},${Fc},${Fc},${px}\\)$`),aie=new RegExp(`^hsl\\(${px},${Fc},${Fc}\\)$`),sie=new RegExp(`^hsla\\(${px},${Fc},${Fc},${px}\\)$`),W4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KO(ob,mx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Y4,formatHex:Y4,formatHex8:oie,formatHsl:lie,formatRgb:K4,toString:K4});function Y4(){return this.rgb().formatHex()}function oie(){return this.rgb().formatHex8()}function lie(){return WF(this).formatHsl()}function K4(){return this.rgb().formatRgb()}function mx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$4(e):n===3?new js(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?v_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?v_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tie.exec(t))?new js(e[1],e[2],e[3],1):(e=nie.exec(t))?new js(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iie.exec(t))?v_(e[1],e[2],e[3],e[4]):(e=rie.exec(t))?v_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aie.exec(t))?J4(e[1],e[2]/100,e[3]/100,1):(e=sie.exec(t))?J4(e[1],e[2]/100,e[3]/100,e[4]):W4.hasOwnProperty(t)?$4(W4[t]):t==="transparent"?new js(NaN,NaN,NaN,0):null}function $4(t){return new js(t>>16&255,t>>8&255,t&255,1)}function v_(t,e,n,i){return i<=0&&(t=e=n=NaN),new js(t,e,n,i)}function cie(t){return t instanceof ob||(t=mx(t)),t?(t=t.rgb(),new js(t.r,t.g,t.b,t.opacity)):new js}function rR(t,e,n,i){return arguments.length===1?cie(t):new js(t,e,n,i??1)}function js(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}KO(js,rR,XF(ob,{brighter(t){return t=t==null?gM:Math.pow(gM,t),new js(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hx:Math.pow(hx,t),new js(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new js(Cp(this.r),Cp(this.g),Cp(this.b),vM(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z4,formatHex:Z4,formatHex8:uie,formatRgb:Q4,toString:Q4}));function Z4(){return`#${vp(this.r)}${vp(this.g)}${vp(this.b)}`}function uie(){return`#${vp(this.r)}${vp(this.g)}${vp(this.b)}${vp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q4(){const t=vM(this.opacity);return`${t===1?"rgb(":"rgba("}${Cp(this.r)}, ${Cp(this.g)}, ${Cp(this.b)}${t===1?")":`, ${t})`}`}function vM(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vp(t){return t=Cp(t),(t<16?"0":"")+t.toString(16)}function J4(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gl(t,e,n,i)}function WF(t){if(t instanceof Gl)return new Gl(t.h,t.s,t.l,t.opacity);if(t instanceof ob||(t=mx(t)),!t)return new Gl;if(t instanceof Gl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),s=NaN,o=a-r,c=(a+r)/2;return o?(e===a?s=(n-i)/o+(n<i)*6:n===a?s=(i-e)/o+2:s=(e-n)/o+4,o/=c<.5?a+r:2-a-r,s*=60):o=c>0&&c<1?0:s,new Gl(s,o,c,t.opacity)}function fie(t,e,n,i){return arguments.length===1?WF(t):new Gl(t,e,n,i??1)}function Gl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}KO(Gl,fie,XF(ob,{brighter(t){return t=t==null?gM:Math.pow(gM,t),new Gl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hx:Math.pow(hx,t),new Gl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new js(x2(t>=240?t-240:t+120,r,i),x2(t,r,i),x2(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Gl(eI(this.h),y_(this.s),y_(this.l),vM(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vM(this.opacity);return`${t===1?"hsl(":"hsla("}${eI(this.h)}, ${y_(this.s)*100}%, ${y_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eI(t){return t=(t||0)%360,t<0?t+360:t}function y_(t){return Math.max(0,Math.min(1,t||0))}function x2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $O=t=>()=>t;function die(t,e){return function(n){return t+n*e}}function hie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function pie(t){return(t=+t)==1?YF:function(e,n){return n-e?hie(e,n,t):$O(isNaN(e)?n:e)}}function YF(t,e){var n=e-t;return n?die(t,n):$O(isNaN(t)?e:t)}const tI=(function t(e){var n=pie(e);function i(r,a){var s=n((r=rR(r)).r,(a=rR(a)).r),o=n(r.g,a.g),c=n(r.b,a.b),f=YF(r.opacity,a.opacity);return function(d){return r.r=s(d),r.g=o(d),r.b=c(d),r.opacity=f(d),r+""}}return i.gamma=t,i})(1);function mie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function gie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vie(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),s;for(s=0;s<i;++s)r[s]=Mg(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<i;++s)a[s]=r[s](o);return a}}function yie(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function yM(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xie(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=Mg(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var aR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b2=new RegExp(aR.source,"g");function bie(t){return function(){return t}}function _ie(t){return function(e){return t(e)+""}}function Sie(t,e){var n=aR.lastIndex=b2.lastIndex=0,i,r,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(i=aR.exec(t))&&(r=b2.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,c.push({i:s,x:yM(i,r)})),n=b2.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?_ie(c[0].x):bie(e):(e=c.length,function(f){for(var d=0,m;d<e;++d)o[(m=c[d]).i]=m.x(f);return o.join("")})}function Mg(t,e){var n=typeof e,i;return e==null||n==="boolean"?$O(e):(n==="number"?yM:n==="string"?(i=mx(e))?(e=i,tI):Sie:e instanceof mx?tI:e instanceof Date?yie:gie(e)?mie:Array.isArray(e)?vie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xie:yM)(t,e)}function ZO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mie(t,e){e===void 0&&(e=t,t=Mg);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(s){var o=Math.max(0,Math.min(i-1,Math.floor(s*=i)));return a[o](s-o)}}function Eie(t){return function(){return t}}function xM(t){return+t}var nI=[0,1];function cs(t){return t}function sR(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Eie(isNaN(e)?NaN:.5)}function wie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function Aie(t,e,n){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=sR(r,i),a=n(s,a)):(i=sR(i,r),a=n(a,s)),function(o){return a(i(o))}}function Tie(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=sR(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var c=sb(t,o,1,i)-1;return a[c](r[c](o))}}function lb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dw(){var t=nI,e=nI,n=Mg,i,r,a,s=cs,o,c,f;function d(){var v=Math.min(t.length,e.length);return s!==cs&&(s=wie(t[0],t[v-1])),o=v>2?Tie:Aie,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=o(t.map(i),e,n)))(i(s(v)))}return m.invert=function(v){return s(r((f||(f=o(e,t.map(i),yM)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,xM),d()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=ZO,d()},m.clamp=function(v){return arguments.length?(s=v?!0:cs,d()):s!==cs},m.interpolate=function(v){return arguments.length?(n=v,d()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,y){return i=v,r=y,d()}}function QO(){return dw()(cs,cs)}function Cie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bM(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Q0(t){return t=bM(Math.abs(t)),t?t[1]:NaN}function Rie(t,e){return function(n,i){for(var r=n.length,a=[],s=0,o=t[0],c=0;r>0&&o>0&&(c+o+1>i&&(o=Math.max(1,i-c)),a.push(n.substring(r-=o,r+o)),!((c+=o+1)>i));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Oie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Die=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gx(t){if(!(e=Die.exec(t)))throw new Error("invalid format: "+t);var e;return new JO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gx.prototype=JO.prototype;function JO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nie(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var KF;function Pie(t,e){var n=bM(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(KF=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+bM(t,Math.max(0,e+a-1))[0]}function iI(t,e){var n=bM(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const rI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Cie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iI(t*100,e),r:iI,s:Pie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aI(t){return t}var sI=Array.prototype.map,oI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lie(t){var e=t.grouping===void 0||t.thousands===void 0?aI:Rie(sI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aI:Oie(sI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=gx(m);var v=m.fill,y=m.align,_=m.sign,E=m.symbol,S=m.zero,M=m.width,C=m.comma,T=m.precision,L=m.trim,P=m.type;P==="n"?(C=!0,P="g"):rI[P]||(T===void 0&&(T=12),L=!0,P="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",z=E==="$"?i:/[%p]/.test(P)?s:"",F=rI[P],I=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function j(k){var Z=N,ee=z,re,ae,H;if(P==="c")ee=F(k)+ee,k="";else{k=+k;var X=k<0||1/k<0;if(k=isNaN(k)?c:F(Math.abs(k),T),L&&(k=Nie(k)),X&&+k==0&&_!=="+"&&(X=!1),Z=(X?_==="("?_:o:_==="-"||_==="("?"":_)+Z,ee=(P==="s"?oI[8+KF/3]:"")+ee+(X&&_==="("?")":""),I){for(re=-1,ae=k.length;++re<ae;)if(H=k.charCodeAt(re),48>H||H>57){ee=(H===46?r+k.slice(re+1):k.slice(re))+ee,k=k.slice(0,re);break}}}C&&!S&&(k=e(k,1/0));var K=Z.length+k.length+ee.length,ne=K<M?new Array(M-K+1).join(v):"";switch(C&&S&&(k=e(ne+k,ne.length?M-ee.length:1/0),ne=""),y){case"<":k=Z+k+ee+ne;break;case"=":k=Z+ne+k+ee;break;case"^":k=ne.slice(0,K=ne.length>>1)+Z+k+ee+ne.slice(K);break;default:k=ne+Z+k+ee;break}return a(k)}return j.toString=function(){return m+""},j}function d(m,v){var y=f((m=gx(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(Q0(v)/3)))*3,E=Math.pow(10,-_),S=oI[8+_/3];return function(M){return y(E*M)+S}}return{format:f,formatPrefix:d}}var x_,eD,$F;Uie({thousands:",",grouping:[3],currency:["$",""]});function Uie(t){return x_=Lie(t),eD=x_.format,$F=x_.formatPrefix,x_}function Iie(t){return Math.max(0,-Q0(Math.abs(t)))}function zie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Q0(e)/3)))*3-Q0(Math.abs(t)))}function Bie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Q0(e)-Q0(t))+1}function ZF(t,e,n,i){var r=nR(t,e,n),a;switch(i=gx(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=zie(r,s))&&(i.precision=a),$F(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=Bie(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Iie(r))&&(i.precision=a-(i.type==="%")*2);break}}return eD(i)}function Gd(t){var e=t.domain;return t.ticks=function(n){var i=e();return eR(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return ZF(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,s=i[r],o=i[a],c,f,d=10;for(o<s&&(f=s,s=o,o=f,f=r,r=a,a=f);d-- >0;){if(f=tR(s,o,n),f===c)return i[r]=s,i[a]=o,e(i);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;c=f}return t},t}function QF(){var t=QO();return t.copy=function(){return lb(t,QF())},sl.apply(t,arguments),Gd(t)}function JF(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,xM),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return JF(t).unknown(e)},t=arguments.length?Array.from(t,xM):[0,1],Gd(n)}function ek(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],s;return a<r&&(s=n,n=i,i=s,s=r,r=a,a=s),t[n]=e.floor(r),t[i]=e.ceil(a),t}function lI(t){return Math.log(t)}function cI(t){return Math.exp(t)}function jie(t){return-Math.log(-t)}function Fie(t){return-Math.exp(-t)}function kie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vie(t){return t===10?kie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uI(t){return(e,n)=>-t(-e,n)}function tD(t){const e=t(lI,cI),n=e.domain;let i=10,r,a;function s(){return r=Hie(i),a=Vie(i),n()[0]<0?(r=uI(r),a=uI(a),t(jie,Fie)):t(lI,cI),e}return e.base=function(o){return arguments.length?(i=+o,s()):i},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const c=n();let f=c[0],d=c[c.length-1];const m=d<f;m&&([f,d]=[d,f]);let v=r(f),y=r(d),_,E;const S=o==null?10:+o;let M=[];if(!(i%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(_=1;_<i;++_)if(E=v<0?_/a(-v):_*a(v),!(E<f)){if(E>d)break;M.push(E)}}else for(;v<=y;++v)for(_=i-1;_>=1;--_)if(E=v>0?_/a(-v):_*a(v),!(E<f)){if(E>d)break;M.push(E)}M.length*2<S&&(M=eR(f,d,S))}else M=eR(v,y,Math.min(y-v,S)).map(a);return m?M.reverse():M},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=gx(c)).precision==null&&(c.trim=!0),c=eD(c)),o===1/0)return c;const f=Math.max(1,i*o/e.ticks().length);return d=>{let m=d/a(Math.round(r(d)));return m*i<i-.5&&(m*=i),m<=f?c(d):""}},e.nice=()=>n(ek(n(),{floor:o=>a(Math.floor(r(o))),ceil:o=>a(Math.ceil(r(o)))})),e}function tk(){const t=tD(dw()).domain([1,10]);return t.copy=()=>lb(t,tk()).base(t.base()),sl.apply(t,arguments),t}function fI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nD(t){var e=1,n=t(fI(e),dI(e));return n.constant=function(i){return arguments.length?t(fI(e=+i),dI(e)):e},Gd(n)}function nk(){var t=nD(dw());return t.copy=function(){return lb(t,nk()).constant(t.constant())},sl.apply(t,arguments)}function hI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qie(t){return t<0?-t*t:t*t}function iD(t){var e=t(cs,cs),n=1;function i(){return n===1?t(cs,cs):n===.5?t(Gie,qie):t(hI(n),hI(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},Gd(e)}function rD(){var t=iD(dw());return t.copy=function(){return lb(t,rD()).exponent(t.exponent())},sl.apply(t,arguments),t}function Xie(){return rD.apply(null,arguments).exponent(.5)}function pI(t){return Math.sign(t)*t*t}function Wie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ik(){var t=QO(),e=[0,1],n=!1,i;function r(a){var s=Wie(t(a));return isNaN(s)?i:n?Math.round(s):s}return r.invert=function(a){return t.invert(pI(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,xM)).map(pI)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return ik(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},sl.apply(r,arguments),Gd(r)}function rk(){var t=[],e=[],n=[],i;function r(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Zne(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?i:e[sb(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Nd),r()},a.range=function(s){return arguments.length?(e=Array.from(s),r()):e.slice()},a.unknown=function(s){return arguments.length?(i=s,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return rk().domain(t).range(e).unknown(i)},sl.apply(a,arguments)}function ak(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function s(c){return c!=null&&c<=c?r[sb(i,c,0,n)]:a}function o(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(n=(r=Array.from(c)).length-1,o()):r.slice()},s.invertExtent=function(c){var f=r.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,i[0]]:f>=n?[i[n-1],e]:[i[f-1],i[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return i.slice()},s.copy=function(){return ak().domain([t,e]).range(r).unknown(a)},sl.apply(Gd(s),arguments)}function sk(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[sb(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return sk().domain(t).range(e).unknown(n)},sl.apply(r,arguments)}const _2=new Date,S2=new Date;function jr(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const s=r(a),o=r.ceil(a);return a-s<o-a?s:o},r.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),r.range=(a,s,o)=>{const c=[];if(a=r.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let f;do c.push(f=new Date(+a)),e(a,o),t(a);while(f<a&&a<s);return c},r.filter=a=>jr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(r.count=(a,s)=>(_2.setTime(+a),S2.setTime(+s),t(_2),t(S2),Math.floor(n(_2,S2))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?s=>i(s)%a===0:s=>r.count(0,s)%a===0):r)),r}const _M=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_M.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_M);_M.range;const Vu=1e3,Zo=Vu*60,Hu=Zo*60,Qu=Hu*24,aD=Qu*7,mI=Qu*30,M2=Qu*365,yp=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vu)},(t,e)=>(e-t)/Vu,t=>t.getUTCSeconds());yp.range;const sD=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vu)},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getMinutes());sD.range;const oD=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getUTCMinutes());oD.range;const lD=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vu-t.getMinutes()*Zo)},(t,e)=>{t.setTime(+t+e*Hu)},(t,e)=>(e-t)/Hu,t=>t.getHours());lD.range;const cD=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hu)},(t,e)=>(e-t)/Hu,t=>t.getUTCHours());cD.range;const cb=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zo)/Qu,t=>t.getDate()-1);cb.range;const hw=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qu,t=>t.getUTCDate()-1);hw.range;const ok=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qu,t=>Math.floor(t/Qu));ok.range;function Yp(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zo)/aD)}const pw=Yp(0),SM=Yp(1),Yie=Yp(2),Kie=Yp(3),J0=Yp(4),$ie=Yp(5),Zie=Yp(6);pw.range;SM.range;Yie.range;Kie.range;J0.range;$ie.range;Zie.range;function Kp(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aD)}const mw=Kp(0),MM=Kp(1),Qie=Kp(2),Jie=Kp(3),eg=Kp(4),ere=Kp(5),tre=Kp(6);mw.range;MM.range;Qie.range;Jie.range;eg.range;ere.range;tre.range;const uD=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uD.range;const fD=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fD.range;const Ju=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ju.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ju.range;const ef=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ef.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ef.range;function lk(t,e,n,i,r,a){const s=[[yp,1,Vu],[yp,5,5*Vu],[yp,15,15*Vu],[yp,30,30*Vu],[a,1,Zo],[a,5,5*Zo],[a,15,15*Zo],[a,30,30*Zo],[r,1,Hu],[r,3,3*Hu],[r,6,6*Hu],[r,12,12*Hu],[i,1,Qu],[i,2,2*Qu],[n,1,aD],[e,1,mI],[e,3,3*mI],[t,1,M2]];function o(f,d,m){const v=d<f;v&&([f,d]=[d,f]);const y=m&&typeof m.range=="function"?m:c(f,d,m),_=y?y.range(f,+d+1):[];return v?_.reverse():_}function c(f,d,m){const v=Math.abs(d-f)/m,y=XO(([,,S])=>S).right(s,v);if(y===s.length)return t.every(nR(f/M2,d/M2,m));if(y===0)return _M.every(Math.max(nR(f,d,m),1));const[_,E]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return _.every(E)}return[o,c]}const[nre,ire]=lk(ef,fD,mw,ok,cD,oD),[rre,are]=lk(Ju,uD,pw,cb,lD,sD);function E2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sre(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,f=oy(r),d=ly(r),m=oy(a),v=ly(a),y=oy(s),_=ly(s),E=oy(o),S=ly(o),M=oy(c),C=ly(c),T={a:X,A:K,b:ne,B:q,c:null,d:_I,e:_I,f:Rre,g:jre,G:kre,H:Are,I:Tre,j:Cre,L:ck,m:Ore,M:Dre,p:se,q:ge,Q:EI,s:wI,S:Nre,u:Pre,U:Lre,V:Ure,w:Ire,W:zre,x:null,X:null,y:Bre,Y:Fre,Z:Vre,"%":MI},L={a:_e,A:Ae,b:Qe,B:pe,c:null,d:SI,e:SI,f:Xre,g:nae,G:rae,H:Hre,I:Gre,j:qre,L:fk,m:Wre,M:Yre,p:Le,q:Ye,Q:EI,s:wI,S:Kre,u:$re,U:Zre,V:Qre,w:Jre,W:eae,x:null,X:null,y:tae,Y:iae,Z:aae,"%":MI},P={a:j,A:k,b:Z,B:ee,c:re,d:xI,e:xI,f:Sre,g:yI,G:vI,H:bI,I:bI,j:yre,L:_re,m:vre,M:xre,p:I,q:gre,Q:Ere,s:wre,S:bre,u:fre,U:dre,V:hre,w:ure,W:pre,x:ae,X:H,y:yI,Y:vI,Z:mre,"%":Mre};T.x=N(n,T),T.X=N(i,T),T.c=N(e,T),L.x=N(n,L),L.X=N(i,L),L.c=N(e,L);function N(xe,Ge){return function($e){var Ue=[],ut=-1,De=0,Q=xe.length,Fe,je,at;for($e instanceof Date||($e=new Date(+$e));++ut<Q;)xe.charCodeAt(ut)===37&&(Ue.push(xe.slice(De,ut)),(je=gI[Fe=xe.charAt(++ut)])!=null?Fe=xe.charAt(++ut):je=Fe==="e"?" ":"0",(at=Ge[Fe])&&(Fe=at($e,je)),Ue.push(Fe),De=ut+1);return Ue.push(xe.slice(De,ut)),Ue.join("")}}function z(xe,Ge){return function($e){var Ue=sy(1900,void 0,1),ut=F(Ue,xe,$e+="",0),De,Q;if(ut!=$e.length)return null;if("Q"in Ue)return new Date(Ue.Q);if("s"in Ue)return new Date(Ue.s*1e3+("L"in Ue?Ue.L:0));if(Ge&&!("Z"in Ue)&&(Ue.Z=0),"p"in Ue&&(Ue.H=Ue.H%12+Ue.p*12),Ue.m===void 0&&(Ue.m="q"in Ue?Ue.q:0),"V"in Ue){if(Ue.V<1||Ue.V>53)return null;"w"in Ue||(Ue.w=1),"Z"in Ue?(De=w2(sy(Ue.y,0,1)),Q=De.getUTCDay(),De=Q>4||Q===0?MM.ceil(De):MM(De),De=hw.offset(De,(Ue.V-1)*7),Ue.y=De.getUTCFullYear(),Ue.m=De.getUTCMonth(),Ue.d=De.getUTCDate()+(Ue.w+6)%7):(De=E2(sy(Ue.y,0,1)),Q=De.getDay(),De=Q>4||Q===0?SM.ceil(De):SM(De),De=cb.offset(De,(Ue.V-1)*7),Ue.y=De.getFullYear(),Ue.m=De.getMonth(),Ue.d=De.getDate()+(Ue.w+6)%7)}else("W"in Ue||"U"in Ue)&&("w"in Ue||(Ue.w="u"in Ue?Ue.u%7:"W"in Ue?1:0),Q="Z"in Ue?w2(sy(Ue.y,0,1)).getUTCDay():E2(sy(Ue.y,0,1)).getDay(),Ue.m=0,Ue.d="W"in Ue?(Ue.w+6)%7+Ue.W*7-(Q+5)%7:Ue.w+Ue.U*7-(Q+6)%7);return"Z"in Ue?(Ue.H+=Ue.Z/100|0,Ue.M+=Ue.Z%100,w2(Ue)):E2(Ue)}}function F(xe,Ge,$e,Ue){for(var ut=0,De=Ge.length,Q=$e.length,Fe,je;ut<De;){if(Ue>=Q)return-1;if(Fe=Ge.charCodeAt(ut++),Fe===37){if(Fe=Ge.charAt(ut++),je=P[Fe in gI?Ge.charAt(ut++):Fe],!je||(Ue=je(xe,$e,Ue))<0)return-1}else if(Fe!=$e.charCodeAt(Ue++))return-1}return Ue}function I(xe,Ge,$e){var Ue=f.exec(Ge.slice($e));return Ue?(xe.p=d.get(Ue[0].toLowerCase()),$e+Ue[0].length):-1}function j(xe,Ge,$e){var Ue=y.exec(Ge.slice($e));return Ue?(xe.w=_.get(Ue[0].toLowerCase()),$e+Ue[0].length):-1}function k(xe,Ge,$e){var Ue=m.exec(Ge.slice($e));return Ue?(xe.w=v.get(Ue[0].toLowerCase()),$e+Ue[0].length):-1}function Z(xe,Ge,$e){var Ue=M.exec(Ge.slice($e));return Ue?(xe.m=C.get(Ue[0].toLowerCase()),$e+Ue[0].length):-1}function ee(xe,Ge,$e){var Ue=E.exec(Ge.slice($e));return Ue?(xe.m=S.get(Ue[0].toLowerCase()),$e+Ue[0].length):-1}function re(xe,Ge,$e){return F(xe,e,Ge,$e)}function ae(xe,Ge,$e){return F(xe,n,Ge,$e)}function H(xe,Ge,$e){return F(xe,i,Ge,$e)}function X(xe){return s[xe.getDay()]}function K(xe){return a[xe.getDay()]}function ne(xe){return c[xe.getMonth()]}function q(xe){return o[xe.getMonth()]}function se(xe){return r[+(xe.getHours()>=12)]}function ge(xe){return 1+~~(xe.getMonth()/3)}function _e(xe){return s[xe.getUTCDay()]}function Ae(xe){return a[xe.getUTCDay()]}function Qe(xe){return c[xe.getUTCMonth()]}function pe(xe){return o[xe.getUTCMonth()]}function Le(xe){return r[+(xe.getUTCHours()>=12)]}function Ye(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Ge=N(xe+="",T);return Ge.toString=function(){return xe},Ge},parse:function(xe){var Ge=z(xe+="",!1);return Ge.toString=function(){return xe},Ge},utcFormat:function(xe){var Ge=N(xe+="",L);return Ge.toString=function(){return xe},Ge},utcParse:function(xe){var Ge=z(xe+="",!0);return Ge.toString=function(){return xe},Ge}}}var gI={"-":"",_:" ",0:"0"},Jr=/^\s*\d+/,ore=/^%/,lre=/[\\^$*+?|[\]().{}]/g;function Hn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function cre(t){return t.replace(lre,"\\$&")}function oy(t){return new RegExp("^(?:"+t.map(cre).join("|")+")","i")}function ly(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ure(t,e,n){var i=Jr.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function fre(t,e,n){var i=Jr.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function dre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function hre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function pre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function vI(t,e,n){var i=Jr.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function yI(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function mre(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function gre(t,e,n){var i=Jr.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function vre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function xI(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function yre(t,e,n){var i=Jr.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function bI(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function xre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function bre(t,e,n){var i=Jr.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function _re(t,e,n){var i=Jr.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Sre(t,e,n){var i=Jr.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Mre(t,e,n){var i=ore.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Ere(t,e,n){var i=Jr.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function wre(t,e,n){var i=Jr.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function _I(t,e){return Hn(t.getDate(),e,2)}function Are(t,e){return Hn(t.getHours(),e,2)}function Tre(t,e){return Hn(t.getHours()%12||12,e,2)}function Cre(t,e){return Hn(1+cb.count(Ju(t),t),e,3)}function ck(t,e){return Hn(t.getMilliseconds(),e,3)}function Rre(t,e){return ck(t,e)+"000"}function Ore(t,e){return Hn(t.getMonth()+1,e,2)}function Dre(t,e){return Hn(t.getMinutes(),e,2)}function Nre(t,e){return Hn(t.getSeconds(),e,2)}function Pre(t){var e=t.getDay();return e===0?7:e}function Lre(t,e){return Hn(pw.count(Ju(t)-1,t),e,2)}function uk(t){var e=t.getDay();return e>=4||e===0?J0(t):J0.ceil(t)}function Ure(t,e){return t=uk(t),Hn(J0.count(Ju(t),t)+(Ju(t).getDay()===4),e,2)}function Ire(t){return t.getDay()}function zre(t,e){return Hn(SM.count(Ju(t)-1,t),e,2)}function Bre(t,e){return Hn(t.getFullYear()%100,e,2)}function jre(t,e){return t=uk(t),Hn(t.getFullYear()%100,e,2)}function Fre(t,e){return Hn(t.getFullYear()%1e4,e,4)}function kre(t,e){var n=t.getDay();return t=n>=4||n===0?J0(t):J0.ceil(t),Hn(t.getFullYear()%1e4,e,4)}function Vre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Hn(e/60|0,"0",2)+Hn(e%60,"0",2)}function SI(t,e){return Hn(t.getUTCDate(),e,2)}function Hre(t,e){return Hn(t.getUTCHours(),e,2)}function Gre(t,e){return Hn(t.getUTCHours()%12||12,e,2)}function qre(t,e){return Hn(1+hw.count(ef(t),t),e,3)}function fk(t,e){return Hn(t.getUTCMilliseconds(),e,3)}function Xre(t,e){return fk(t,e)+"000"}function Wre(t,e){return Hn(t.getUTCMonth()+1,e,2)}function Yre(t,e){return Hn(t.getUTCMinutes(),e,2)}function Kre(t,e){return Hn(t.getUTCSeconds(),e,2)}function $re(t){var e=t.getUTCDay();return e===0?7:e}function Zre(t,e){return Hn(mw.count(ef(t)-1,t),e,2)}function dk(t){var e=t.getUTCDay();return e>=4||e===0?eg(t):eg.ceil(t)}function Qre(t,e){return t=dk(t),Hn(eg.count(ef(t),t)+(ef(t).getUTCDay()===4),e,2)}function Jre(t){return t.getUTCDay()}function eae(t,e){return Hn(MM.count(ef(t)-1,t),e,2)}function tae(t,e){return Hn(t.getUTCFullYear()%100,e,2)}function nae(t,e){return t=dk(t),Hn(t.getUTCFullYear()%100,e,2)}function iae(t,e){return Hn(t.getUTCFullYear()%1e4,e,4)}function rae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?eg(t):eg.ceil(t),Hn(t.getUTCFullYear()%1e4,e,4)}function aae(){return"+0000"}function MI(){return"%"}function EI(t){return+t}function wI(t){return Math.floor(+t/1e3)}var n0,hk,pk;sae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sae(t){return n0=sre(t),hk=n0.format,n0.parse,pk=n0.utcFormat,n0.utcParse,n0}function oae(t){return new Date(t)}function lae(t){return t instanceof Date?+t:+new Date(+t)}function dD(t,e,n,i,r,a,s,o,c,f){var d=QO(),m=d.invert,v=d.domain,y=f(".%L"),_=f(":%S"),E=f("%I:%M"),S=f("%I %p"),M=f("%a %d"),C=f("%b %d"),T=f("%B"),L=f("%Y");function P(N){return(c(N)<N?y:o(N)<N?_:s(N)<N?E:a(N)<N?S:i(N)<N?r(N)<N?M:C:n(N)<N?T:L)(N)}return d.invert=function(N){return new Date(m(N))},d.domain=function(N){return arguments.length?v(Array.from(N,lae)):v().map(oae)},d.ticks=function(N){var z=v();return t(z[0],z[z.length-1],N??10)},d.tickFormat=function(N,z){return z==null?P:f(z)},d.nice=function(N){var z=v();return(!N||typeof N.range!="function")&&(N=e(z[0],z[z.length-1],N??10)),N?v(ek(z,N)):d},d.copy=function(){return lb(d,dD(t,e,n,i,r,a,s,o,c,f))},d}function cae(){return sl.apply(dD(rre,are,Ju,uD,pw,cb,lD,sD,yp,hk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uae(){return sl.apply(dD(nre,ire,ef,fD,mw,hw,cD,oD,yp,pk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var t=0,e=1,n,i,r,a,s=cs,o=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(r===0?.5:(m=(a(m)-n)*r,o?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),f):[t,e]},f.clamp=function(m){return arguments.length?(o=!!m,f):o},f.interpolator=function(m){return arguments.length?(s=m,f):s};function d(m){return function(v){var y,_;return arguments.length?([y,_]=v,s=m(y,_),f):[s(0),s(1)]}}return f.range=d(Mg),f.rangeRound=d(ZO),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),i=m(e),r=n===i?0:1/(i-n),f}}function qd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mk(){var t=Gd(gw()(cs));return t.copy=function(){return qd(t,mk())},df.apply(t,arguments)}function gk(){var t=tD(gw()).domain([1,10]);return t.copy=function(){return qd(t,gk()).base(t.base())},df.apply(t,arguments)}function vk(){var t=nD(gw());return t.copy=function(){return qd(t,vk()).constant(t.constant())},df.apply(t,arguments)}function hD(){var t=iD(gw());return t.copy=function(){return qd(t,hD()).exponent(t.exponent())},df.apply(t,arguments)}function fae(){return hD.apply(null,arguments).exponent(.5)}function yk(){var t=[],e=cs;function n(i){if(i!=null&&!isNaN(i=+i))return e((sb(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(Nd),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>$ne(t,a/i))},n.copy=function(){return yk(e).domain(t)},df.apply(n,arguments)}function vw(){var t=0,e=.5,n=1,i=1,r,a,s,o,c,f=cs,d,m=!1,v;function y(E){return isNaN(E=+E)?v:(E=.5+((E=+d(E))-a)*(i*E<i*a?o:c),f(m?Math.max(0,Math.min(1,E)):E))}y.domain=function(E){return arguments.length?([t,e,n]=E,r=d(t=+t),a=d(e=+e),s=d(n=+n),o=r===a?0:.5/(a-r),c=a===s?0:.5/(s-a),i=a<r?-1:1,y):[t,e,n]},y.clamp=function(E){return arguments.length?(m=!!E,y):m},y.interpolator=function(E){return arguments.length?(f=E,y):f};function _(E){return function(S){var M,C,T;return arguments.length?([M,C,T]=S,f=Mie(E,[M,C,T]),y):[f(0),f(.5),f(1)]}}return y.range=_(Mg),y.rangeRound=_(ZO),y.unknown=function(E){return arguments.length?(v=E,y):v},function(E){return d=E,r=E(t),a=E(e),s=E(n),o=r===a?0:.5/(a-r),c=a===s?0:.5/(s-a),i=a<r?-1:1,y}}function xk(){var t=Gd(vw()(cs));return t.copy=function(){return qd(t,xk())},df.apply(t,arguments)}function bk(){var t=tD(vw()).domain([.1,1,10]);return t.copy=function(){return qd(t,bk()).base(t.base())},df.apply(t,arguments)}function _k(){var t=nD(vw());return t.copy=function(){return qd(t,_k()).constant(t.constant())},df.apply(t,arguments)}function pD(){var t=iD(vw());return t.copy=function(){return qd(t,pD()).exponent(t.exponent())},df.apply(t,arguments)}function dae(){return pD.apply(null,arguments).exponent(.5)}const Cy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:YO,scaleDiverging:xk,scaleDivergingLog:bk,scaleDivergingPow:pD,scaleDivergingSqrt:dae,scaleDivergingSymlog:_k,scaleIdentity:JF,scaleImplicit:iR,scaleLinear:QF,scaleLog:tk,scaleOrdinal:WO,scalePoint:Jne,scalePow:rD,scaleQuantile:rk,scaleQuantize:ak,scaleRadial:ik,scaleSequential:mk,scaleSequentialLog:gk,scaleSequentialPow:hD,scaleSequentialQuantile:yk,scaleSequentialSqrt:fae,scaleSequentialSymlog:vk,scaleSqrt:Xie,scaleSymlog:nk,scaleThreshold:sk,scaleTime:cae,scaleUtc:uae,tickFormat:ZF},Symbol.toStringTag,{value:"Module"}));var Xd=t=>t.chartData,hae=Be([Xd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mD=(t,e,n,i)=>i?hae(t):Xd(t);function jp(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Zr(e)&&Zr(n))return!0}return!1}function AI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Sk(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,a;if(Zr(n))r=n;else if(typeof n=="function")return;if(Zr(i))a=i;else if(typeof i=="function")return;var s=[r,a];if(jp(s))return s}}function pae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(jp(i))return AI(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,a]=t,s,o;if(r==="auto")e!=null&&(s=Math.min(...e));else if(Ft(r))s=r;else if(typeof r=="function")try{e!=null&&(s=r(e?.[0]))}catch{}else if(typeof r=="string"&&l4.test(r)){var c=l4.exec(r);if(c==null||e==null)s=void 0;else{var f=+c[1];s=e[0]-f}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ft(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&c4.test(a)){var d=c4.exec(a);if(d==null||e==null)o=void 0;else{var m=+d[1];o=e[1]+m}}else o=e?.[1];var v=[s,o];if(jp(v))return e==null?v:AI(v,e,n)}}}var Eg=1e9,mae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vD,Ri=!0,tl="[DecimalError] ",Rp=tl+"Invalid argument: ",gD=tl+"Exponent out of range: ",wg=Math.floor,op=Math.pow,gae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bo,Kr=1e7,bi=7,Mk=9007199254740991,EM=wg(Mk/bi),Tt={};Tt.absoluteValue=Tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Tt.comparedTo=Tt.cmp=function(t){var e,n,i,r,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(i=a.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Tt.decimalPlaces=Tt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*bi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Tt.dividedBy=Tt.div=function(t){return Xu(this,new this.constructor(t))};Tt.dividedToIntegerBy=Tt.idiv=function(t){var e=this,n=e.constructor;return hi(Xu(e,new n(t),0,1),n.precision)};Tt.equals=Tt.eq=function(t){return!this.cmp(t)};Tt.exponent=function(){return Er(this)};Tt.greaterThan=Tt.gt=function(t){return this.cmp(t)>0};Tt.greaterThanOrEqualTo=Tt.gte=function(t){return this.cmp(t)>=0};Tt.isInteger=Tt.isint=function(){return this.e>this.d.length-2};Tt.isNegative=Tt.isneg=function(){return this.s<0};Tt.isPositive=Tt.ispos=function(){return this.s>0};Tt.isZero=function(){return this.s===0};Tt.lessThan=Tt.lt=function(t){return this.cmp(t)<0};Tt.lessThanOrEqualTo=Tt.lte=function(t){return this.cmp(t)<1};Tt.logarithm=Tt.log=function(t){var e,n=this,i=n.constructor,r=i.precision,a=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(bo))throw Error(tl+"NaN");if(n.s<1)throw Error(tl+(n.s?"NaN":"-Infinity"));return n.eq(bo)?new i(0):(Ri=!1,e=Xu(vx(n,a),vx(t,a),a),Ri=!0,hi(e,r))};Tt.minus=Tt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ak(e,t):Ek(e,(t.s=-t.s,t))};Tt.modulo=Tt.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(tl+"NaN");return n.s?(Ri=!1,e=Xu(n,t,0,1).times(t),Ri=!0,n.minus(e)):hi(new i(n),r)};Tt.naturalExponential=Tt.exp=function(){return wk(this)};Tt.naturalLogarithm=Tt.ln=function(){return vx(this)};Tt.negated=Tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Tt.plus=Tt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ek(e,t):Ak(e,(t.s=-t.s,t))};Tt.precision=Tt.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rp+t);if(e=Er(r)+1,i=r.d.length-1,n=i*bi+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};Tt.squareRoot=Tt.sqrt=function(){var t,e,n,i,r,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(tl+"NaN")}for(t=Er(o),Ri=!1,r=Math.sqrt(+o),r==0||r==1/0?(e=zc(o.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=wg((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new c(e)):i=new c(r.toString()),n=c.precision,r=s=n+3;;)if(a=i,i=a.plus(Xu(o,a,s+2)).times(.5),zc(a.d).slice(0,s)===(e=zc(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),r==s&&e=="4999"){if(hi(a,n+1,0),a.times(a).eq(o)){i=a;break}}else if(e!="9999")break;s+=4}return Ri=!0,hi(i,n)};Tt.times=Tt.mul=function(t){var e,n,i,r,a,s,o,c,f,d=this,m=d.constructor,v=d.d,y=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,n=d.e+t.e,c=v.length,f=y.length,c<f&&(a=v,v=y,y=a,s=c,c=f,f=s),a=[],s=c+f,i=s;i--;)a.push(0);for(i=f;--i>=0;){for(e=0,r=c+i;r>i;)o=a[r]+y[i]*v[r-i-1]+e,a[r--]=o%Kr|0,e=o/Kr|0;a[r]=(a[r]+e)%Kr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ri?hi(t,m.precision):t};Tt.toDecimalPlaces=Tt.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Qc(t,0,Eg),e===void 0?e=i.rounding:Qc(e,0,8),hi(n,t+Er(n)+1,e))};Tt.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=Fp(i,!0):(Qc(t,0,Eg),e===void 0?e=r.rounding:Qc(e,0,8),i=hi(new r(i),t+1,e),n=Fp(i,!0,t+1)),n};Tt.toFixed=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?Fp(r):(Qc(t,0,Eg),e===void 0?e=a.rounding:Qc(e,0,8),i=hi(new a(r),t+Er(r)+1,e),n=Fp(i.abs(),!1,t+Er(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};Tt.toInteger=Tt.toint=function(){var t=this,e=t.constructor;return hi(new e(t),Er(t)+1,e.rounding)};Tt.toNumber=function(){return+this};Tt.toPower=Tt.pow=function(t){var e,n,i,r,a,s,o=this,c=o.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(bo);if(o=new c(o),!o.s){if(t.s<1)throw Error(tl+"Infinity");return o}if(o.eq(bo))return o;if(i=c.precision,t.eq(bo))return hi(o,i);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=d<0?-d:d)<=Mk){for(r=new c(bo),e=Math.ceil(i/bi+4),Ri=!1;n%2&&(r=r.times(o),CI(r.d,e)),n=wg(n/2),n!==0;)o=o.times(o),CI(o.d,e);return Ri=!0,t.s<0?new c(bo).div(r):hi(r,i)}}else if(a<0)throw Error(tl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ri=!1,r=t.times(vx(o,i+f)),Ri=!0,r=wk(r),r.s=a,r};Tt.toPrecision=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?(n=Er(r),i=Fp(r,n<=a.toExpNeg||n>=a.toExpPos)):(Qc(t,1,Eg),e===void 0?e=a.rounding:Qc(e,0,8),r=hi(new a(r),t,e),n=Er(r),i=Fp(r,t<=n||n<=a.toExpNeg,t)),i};Tt.toSignificantDigits=Tt.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Qc(t,1,Eg),e===void 0?e=i.rounding:Qc(e,0,8)),hi(new i(n),t,e)};Tt.toString=Tt.valueOf=Tt.val=Tt.toJSON=Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Er(t),n=t.constructor;return Fp(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ek(t,e){var n,i,r,a,s,o,c,f,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ri?hi(e,m):e;if(c=t.d,f=e.d,s=t.e,r=e.e,c=c.slice(),a=s-r,a){for(a<0?(i=c,a=-a,o=f.length):(i=f,r=s,o=c.length),s=Math.ceil(m/bi),o=s>o?s+1:o+1,a>o&&(a=o,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(o=c.length,a=f.length,o-a<0&&(a=o,i=f,f=c,c=i),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Kr|0,c[a]%=Kr;for(n&&(c.unshift(n),++r),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=r,Ri?hi(e,m):e}function Qc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rp+t)}function zc(t){var e,n,i,r=t.length-1,a="",s=t[0];if(r>0){for(a+=s,e=1;e<r;e++)i=t[e]+"",n=bi-i.length,n&&(a+=Sd(n)),a+=i;s=t[e],i=s+"",n=bi-i.length,n&&(a+=Sd(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Xu=(function(){function t(i,r){var a,s=0,o=i.length;for(i=i.slice();o--;)a=i[o]*r+s,i[o]=a%Kr|0,s=a/Kr|0;return s&&i.unshift(s),i}function e(i,r,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(i[o]!=r[o]){c=i[o]>r[o]?1:-1;break}return c}function n(i,r,a){for(var s=0;a--;)i[a]-=s,s=i[a]<r[a]?1:0,i[a]=s*Kr+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,s){var o,c,f,d,m,v,y,_,E,S,M,C,T,L,P,N,z,F,I=i.constructor,j=i.s==r.s?1:-1,k=i.d,Z=r.d;if(!i.s)return new I(i);if(!r.s)throw Error(tl+"Division by zero");for(c=i.e-r.e,z=Z.length,P=k.length,y=new I(j),_=y.d=[],f=0;Z[f]==(k[f]||0);)++f;if(Z[f]>(k[f]||0)&&--c,a==null?C=a=I.precision:s?C=a+(Er(i)-Er(r))+1:C=a,C<0)return new I(0);if(C=C/bi+2|0,f=0,z==1)for(d=0,Z=Z[0],C++;(f<P||d)&&C--;f++)T=d*Kr+(k[f]||0),_[f]=T/Z|0,d=T%Z|0;else{for(d=Kr/(Z[0]+1)|0,d>1&&(Z=t(Z,d),k=t(k,d),z=Z.length,P=k.length),L=z,E=k.slice(0,z),S=E.length;S<z;)E[S++]=0;F=Z.slice(),F.unshift(0),N=Z[0],Z[1]>=Kr/2&&++N;do d=0,o=e(Z,E,z,S),o<0?(M=E[0],z!=S&&(M=M*Kr+(E[1]||0)),d=M/N|0,d>1?(d>=Kr&&(d=Kr-1),m=t(Z,d),v=m.length,S=E.length,o=e(m,E,v,S),o==1&&(d--,n(m,z<v?F:Z,v))):(d==0&&(o=d=1),m=Z.slice()),v=m.length,v<S&&m.unshift(0),n(E,m,S),o==-1&&(S=E.length,o=e(Z,E,z,S),o<1&&(d++,n(E,z<S?F:Z,S))),S=E.length):o===0&&(d++,E=[0]),_[f++]=d,o&&E[0]?E[S++]=k[L]||0:(E=[k[L]],S=1);while((L++<P||E[0]!==void 0)&&C--)}return _[0]||_.shift(),y.e=c,hi(y,s?a+Er(y)+1:a)}})();function wk(t,e){var n,i,r,a,s,o,c=0,f=0,d=t.constructor,m=d.precision;if(Er(t)>16)throw Error(gD+Er(t));if(!t.s)return new d(bo);for(Ri=!1,o=m,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(i=Math.log(op(2,f))/Math.LN10*2+5|0,o+=i,n=r=a=new d(bo),d.precision=o;;){if(r=hi(r.times(t),o),n=n.times(++c),s=a.plus(Xu(r,n,o)),zc(s.d).slice(0,o)===zc(a.d).slice(0,o)){for(;f--;)a=hi(a.times(a),o);return d.precision=m,e==null?(Ri=!0,hi(a,m)):a}a=s}}function Er(t){for(var e=t.e*bi,n=t.d[0];n>=10;n/=10)e++;return e}function A2(t,e,n){if(e>t.LN10.sd())throw Ri=!0,n&&(t.precision=n),Error(tl+"LN10 precision limit exceeded");return hi(new t(t.LN10),e)}function Sd(t){for(var e="";t--;)e+="0";return e}function vx(t,e){var n,i,r,a,s,o,c,f,d,m=1,v=10,y=t,_=y.d,E=y.constructor,S=E.precision;if(y.s<1)throw Error(tl+(y.s?"NaN":"-Infinity"));if(y.eq(bo))return new E(0);if(e==null?(Ri=!1,f=S):f=e,y.eq(10))return e==null&&(Ri=!0),A2(E,f);if(f+=v,E.precision=f,n=zc(_),i=n.charAt(0),a=Er(y),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)y=y.times(t),n=zc(y.d),i=n.charAt(0),m++;a=Er(y),i>1?(y=new E("0."+n),a++):y=new E(i+"."+n.slice(1))}else return c=A2(E,f+2,S).times(a+""),y=vx(new E(i+"."+n.slice(1)),f-v).plus(c),E.precision=S,e==null?(Ri=!0,hi(y,S)):y;for(o=s=y=Xu(y.minus(bo),y.plus(bo),f),d=hi(y.times(y),f),r=3;;){if(s=hi(s.times(d),f),c=o.plus(Xu(s,new E(r),f)),zc(c.d).slice(0,f)===zc(o.d).slice(0,f))return o=o.times(2),a!==0&&(o=o.plus(A2(E,f+2,S).times(a+""))),o=Xu(o,new E(m),f),E.precision=S,e==null?(Ri=!0,hi(o,S)):o;o=c,r+=2}}function TI(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=wg(n/bi),t.d=[],i=(n+1)%bi,n<0&&(i+=bi),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=bi;i<r;)t.d.push(+e.slice(i,i+=bi));e=e.slice(i),i=bi-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),Ri&&(t.e>EM||t.e<-EM))throw Error(gD+n)}else t.s=0,t.e=0,t.d=[0];return t}function hi(t,e,n){var i,r,a,s,o,c,f,d,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(i=e-s,i<0)i+=bi,r=e,f=m[d=0];else{if(d=Math.ceil((i+1)/bi),a=m.length,d>=a)return t;for(f=a=m[d],s=1;a>=10;a/=10)s++;i%=bi,r=i-bi+s}if(n!==void 0&&(a=op(10,s-r-1),o=f/a%10|0,c=e<0||m[d+1]!==void 0||f%a,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(i>0?r>0?f/op(10,s-r):0:m[d-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Er(t),m.length=1,e=e-a-1,m[0]=op(10,(bi-e%bi)%bi),t.e=wg(-e/bi)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(i==0?(m.length=d,a=1,d--):(m.length=d+1,a=op(10,bi-i),m[d]=r>0?(f/op(10,s-r)%op(10,r)|0)*a:0),c)for(;;)if(d==0){(m[0]+=a)==Kr&&(m[0]=1,++t.e);break}else{if(m[d]+=a,m[d]!=Kr)break;m[d--]=0,a=1}for(i=m.length;m[--i]===0;)m.pop();if(Ri&&(t.e>EM||t.e<-EM))throw Error(gD+Er(t));return t}function Ak(t,e){var n,i,r,a,s,o,c,f,d,m,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ri?hi(e,y):e;if(c=t.d,m=e.d,i=e.e,f=t.e,c=c.slice(),s=f-i,s){for(d=s<0,d?(n=c,s=-s,o=m.length):(n=m,i=f,o=c.length),r=Math.max(Math.ceil(y/bi),o)+2,s>r&&(s=r,n.length=1),n.reverse(),r=s;r--;)n.push(0);n.reverse()}else{for(r=c.length,o=m.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(c[r]!=m[r]){d=c[r]<m[r];break}s=0}for(d&&(n=c,c=m,m=n,e.s=-e.s),o=c.length,r=m.length-o;r>0;--r)c[o++]=0;for(r=m.length;r>s;){if(c[--r]<m[r]){for(a=r;a&&c[--a]===0;)c[a]=Kr-1;--c[a],c[r]+=Kr}c[r]-=m[r]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(e.d=c,e.e=i,Ri?hi(e,y):e):new v(0)}function Fp(t,e,n){var i,r=Er(t),a=zc(t.d),s=a.length;return e?(n&&(i=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Sd(i):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+Sd(-r-1)+a,n&&(i=n-s)>0&&(a+=Sd(i))):r>=s?(a+=Sd(r+1-s),n&&(i=n-r-1)>0&&(a=a+"."+Sd(i))):((i=r+1)<s&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-s)>0&&(r+1===s&&(a+="."),a+=Sd(i))),t.s<0?"-"+a:a}function CI(t,e){if(t.length>e)return t.length=e,!0}function Tk(t){var e,n,i;function r(a){var s=this;if(!(s instanceof r))return new r(a);if(s.constructor=r,a instanceof r){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Rp+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return TI(s,a.toString())}else if(typeof a!="string")throw Error(Rp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,gae.test(a))TI(s,a);else throw Error(Rp+a)}if(r.prototype=Tt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=Tk,r.config=r.set=vae,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function vae(t){if(!t||typeof t!="object")throw Error(tl+"Object expected");var e,n,i,r=["precision",1,Eg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(wg(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(Rp+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Rp+n+": "+i);return this}var vD=Tk(mae);bo=new vD(1);const ei=vD;var yae=t=>t,Ck={},Rk=t=>t===Ck,RI=t=>function e(){return arguments.length===0||arguments.length===1&&Rk(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Ok=(t,e)=>t===1?e:RI(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i.filter(s=>s!==Ck).length;return a>=t?e(...i):Ok(t-a,RI(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var f=i.map(d=>Rk(d)?o.shift():d);return e(...f,...o)}))}),yw=t=>Ok(t.length,t),oR=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},xae=yw((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),bae=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return yae;var r=n.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},lR=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Dk=t=>{var e=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e&&r.every((s,o)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[o])})||(e=r,n=t(...r)),n}};function Nk(t){var e;return t===0?e=1:e=Math.floor(new ei(t).abs().log(10).toNumber())+1,e}function Pk(t,e,n){for(var i=new ei(t),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}yw((t,e,n)=>{var i=+t,r=+e;return i+n*(r-i)});yw((t,e,n)=>{var i=e-+t;return i=i||1/0,(n-t)/i});yw((t,e,n)=>{var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});var Lk=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},Uk=(t,e,n)=>{if(t.lte(0))return new ei(0);var i=Nk(t.toNumber()),r=new ei(10).pow(i),a=t.div(r),s=i!==1?.05:.1,o=new ei(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=o.mul(r);return e?new ei(c.toNumber()):new ei(Math.ceil(c.toNumber()))},_ae=(t,e,n)=>{var i=new ei(1),r=new ei(t);if(!r.isint()&&n){var a=Math.abs(t);a<1?(i=new ei(10).pow(Nk(t)-1),r=new ei(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new ei(Math.floor(t)))}else t===0?r=new ei(Math.floor((e-1)/2)):n||(r=new ei(Math.floor(t)));var s=Math.floor((e-1)/2),o=bae(xae(c=>r.add(new ei(c-s).mul(i)).toNumber()),oR);return o(0,e)},Ik=function(e,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new ei(0),tickMin:new ei(0),tickMax:new ei(0)};var s=Uk(new ei(n).sub(e).div(i-1),r,a),o;e<=0&&n>=0?o=new ei(0):(o=new ei(e).add(n).div(2),o=o.sub(new ei(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),f=Math.ceil(new ei(n).sub(o).div(s).toNumber()),d=c+f+1;return d>i?Ik(e,n,i,r,a+1):(d<i&&(f=n>0?f+(i-d):f,c=n>0?c:c+(i-d)),{step:s,tickMin:o.sub(new ei(c).mul(s)),tickMax:o.add(new ei(f).mul(s))})};function Sae(t){var[e,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,o]=Lk([e,n]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...oR(0,i-1).map(()=>1/0)]:[...oR(0,i-1).map(()=>-1/0),o];return e>n?lR(c):c}if(s===o)return _ae(s,i,r);var{step:f,tickMin:d,tickMax:m}=Ik(s,o,a,r,0),v=Pk(d,m.add(new ei(.1).mul(f)),f);return e>n?lR(v):v}function Mae(t,e){var[n,i]=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=Lk([n,i]);if(a===-1/0||s===1/0)return[n,i];if(a===s)return[a];var o=Math.max(e,2),c=Uk(new ei(s).sub(a).div(o-1),r,0),f=[...Pk(new ei(a),new ei(s),c),s];return r===!1&&(f=f.map(d=>Math.round(d))),n>i?lR(f):f}var Eae=Dk(Sae),wae=Dk(Mae),Aae=t=>t.rootProps.barCategoryGap,xw=t=>t.rootProps.stackOffset,yD=t=>t.options.chartName,xD=t=>t.rootProps.syncId,zk=t=>t.rootProps.syncMethod,bD=t=>t.options.eventEmitter,us={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Bu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Tae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Bu.angleAxisId,includeHidden:!1,name:void 0,reversed:Bu.reversed,scale:Bu.scale,tick:Bu.tick,tickCount:void 0,ticks:void 0,type:Bu.type,unit:void 0},Cae={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:xo.type,unit:void 0},Rae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bu.scale,tick:Bu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Oae={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:"category",unit:void 0},_D=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Rae:Tae,SD=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Oae:Cae,_w=t=>t.polarOptions,MD=Be([uf,ff,va],Ene),Bk=Be([_w,MD],(t,e)=>{if(t!=null)return Ld(t.innerRadius,e,0)}),jk=Be([_w,MD],(t,e)=>{if(t!=null)return Ld(t.outerRadius,e,e*.8)}),Dae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Fk=Be([_w],Dae);Be([_D,Fk],bw);var kk=Be([MD,Bk,jk],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Be([SD,kk],bw);var Vk=Be([Si,_w,Bk,jk,uf,ff],(t,e,n,i,r,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:s,cy:o,startAngle:c,endAngle:f}=e;return{cx:Ld(s,r,r/2),cy:Ld(o,a,a/2),innerRadius:n,outerRadius:i,startAngle:c,endAngle:f,clockWise:!1}}}),Fr=(t,e)=>e,Sw=(t,e,n)=>n;function Hk(t){return t?.id}function Gk(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:a}=n,s=new Map;return t.forEach(o=>{var c,f=(c=o.data)!==null&&c!==void 0?c:i;if(!(f==null||f.length===0)){var d=Hk(o);f.forEach((m,v)=>{var y=a==null||r?v:String(ds(m,a,null)),_=ds(m,o.dataKey,0),E;s.has(y)?E=s.get(y):E={},Object.assign(E,{[d]:_}),s.set(y,E)})}}),Array.from(s.values())}function ED(t){return t.stackId!=null&&t.dataKey!=null}var Mw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ew(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Nae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var kr=t=>{var e=Si(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ag=t=>t.tooltip.settings.axisId;function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function wM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(i){Pae(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Uae(t,"string");return typeof e=="symbol"?e:e+""}function Uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cR=[0,"auto"],go={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},qk=(t,e)=>t.cartesianAxis.xAxis[e],hf=(t,e)=>{var n=qk(t,e);return n??go},vo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ab},Xk=(t,e)=>t.cartesianAxis.yAxis[e],pf=(t,e)=>{var n=Xk(t,e);return n??vo},Iae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wD=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Iae},ms=(t,e,n)=>{switch(e){case"xAxis":return hf(t,n);case"yAxis":return pf(t,n);case"zAxis":return wD(t,n);case"angleAxis":return _D(t,n);case"radiusAxis":return SD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zae=(t,e,n)=>{switch(e){case"xAxis":return hf(t,n);case"yAxis":return pf(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ub=(t,e,n)=>{switch(e){case"xAxis":return hf(t,n);case"yAxis":return pf(t,n);case"angleAxis":return _D(t,n);case"radiusAxis":return SD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Wk=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Yk(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Kk=t=>t.graphicalItems.cartesianItems,Bae=Be([Fr,Sw],Yk),$k=(t,e,n)=>t.filter(n).filter(i=>e?.includeHidden===!0?!0:!i.hide),fb=Be([Kk,ms,Bae],$k,{memoizeOptions:{resultEqualityCheck:Ew}}),Zk=Be([fb],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ED)),Qk=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),jae=Be([fb],Qk),Jk=t=>t.map(e=>e.data).filter(Boolean).flat(1),Fae=Be([fb],Jk,{memoizeOptions:{resultEqualityCheck:Ew}}),eV=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},AD=Be([Fae,mD],eV),tV=(t,e,n)=>e?.dataKey!=null?t.map(i=>({value:ds(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:ds(r,i)}))):t.map(i=>({value:i})),ww=Be([AD,ms,fb],tV);function nV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function DS(t){if($c(t)||t instanceof Date){var e=Number(t);if(Zr(e))return e}}function DI(t){if(Array.isArray(t)){var e=[DS(t[0]),DS(t[1])];return jp(e)?e:void 0}var n=DS(t);if(n!=null)return[n,n]}function tf(t){return t.map(DS).filter(pQ)}function kae(t,e,n){return!n||typeof e!="number"||Kc(e)?[]:n.length?tf(n.flatMap(i=>{var r=ds(t,i.dataKey),a,s;if(Array.isArray(r)?[a,s]=r:a=s=r,!(!Zr(a)||!Zr(s)))return[e-a,e+s]})):[]}var Vr=t=>{var e=kr(t),n=Ag(t);return ub(t,e,n)},iV=Be([Vr],t=>t?.dataKey),Vae=Be([Zk,mD,Vr],Gk),rV=(t,e,n)=>{var i={},r=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),i);return Object.fromEntries(Object.entries(r).map(a=>{var[s,o]=a,c=o.map(Hk);return[s,{stackedData:Ree(t,c,n),graphicalItems:o}]}))},Hae=Be([Vae,Zk,xw],rV),aV=(t,e,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(i==null&&n!=="zAxis"){var s=Nee(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Gae=Be([ms],t=>t.allowDataOverflow),TD=t=>{var e;if(t==null||!("domain"in t))return cR;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=tf(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:cR},sV=Be([ms],TD),oV=Be([sV,Gae],Sk),qae=Be([Hae,Xd,Fr,oV],aV,{memoizeOptions:{resultEqualityCheck:Mw}}),CD=t=>t.errorBars,Xae=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>nV(n,i)),AM=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},lV=(t,e,n,i,r)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(c=>{var f,d,m=(f=i[c.id])===null||f===void 0?void 0:f.filter(M=>nV(r,M)),v=ds(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),y=kae(o,v,m);if(y.length>=2){var _=Math.min(...y),E=Math.max(...y);(a==null||_<a)&&(a=_),(s==null||E>s)&&(s=E)}var S=DI(v);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var c=DI(ds(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Zr(a)&&Zr(s))return[a,s]},Wae=Be([AD,ms,jae,CD,Fr],lV,{memoizeOptions:{resultEqualityCheck:Mw}});function Yae(t){var{value:e}=t;if($c(e)||e instanceof Date)return e}var Kae=(t,e,n)=>{var i=t.map(Yae).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&A8(i))?kF(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},cV=t=>t.referenceElements.dots,Tg=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),$ae=Be([cV,Fr,Sw],Tg),uV=t=>t.referenceElements.areas,Zae=Be([uV,Fr,Sw],Tg),fV=t=>t.referenceElements.lines,Qae=Be([fV,Fr,Sw],Tg),dV=(t,e)=>{var n=tf(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jae=Be($ae,Fr,dV),hV=(t,e)=>{var n=tf(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ese=Be([Zae,Fr],hV);function tse(t){var e;if(t.x!=null)return tf([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.x);return n==null||n.length===0?[]:tf(n)}function nse(t){var e;if(t.y!=null)return tf([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(i=>i.y);return n==null||n.length===0?[]:tf(n)}var pV=(t,e)=>{var n=t.flatMap(i=>e==="xAxis"?tse(i):nse(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ise=Be([Qae,Fr],pV),rse=Be(Jae,ise,ese,(t,e,n)=>AM(t,n,e)),mV=(t,e,n,i,r,a,s,o)=>{if(n!=null)return n;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",f=c?AM(i,a,r):AM(a,r);return pae(e,f,t.allowDataOverflow)},ase=Be([ms,sV,oV,qae,Wae,rse,Si,Fr],mV,{memoizeOptions:{resultEqualityCheck:Mw}}),sse=[0,1],gV=(t,e,n,i,r,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,f=Hd(e,a);if(f&&o==null){var d;return kF(0,(d=n?.length)!==null&&d!==void 0?d:0)}return c==="category"?Kae(i,t,f):r==="expand"?sse:s}},RD=Be([ms,Si,AD,ww,xw,Fr,ase],gV),vV=(t,e,n,i,r)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(nb(a));return o in Cy?o:"point"}}},db=Be([ms,Si,Wk,yD,Fr],vV);function ose(t){if(t!=null){if(t in Cy)return Cy[t]();var e="scale".concat(nb(t));if(e in Cy)return Cy[e]()}}function OD(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var r=ose(e);if(r!=null){var a=r.domain(n).range(i);return wee(a),a}}}var yV=(t,e,n)=>{var i=TD(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&jp(t))return Eae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&jp(t))return wae(t,e.tickCount,e.allowDecimals)}},DD=Be([RD,ub,db],yV),xV=(t,e,n,i)=>{if(i!=="angleAxis"&&t?.type==="number"&&jp(e)&&Array.isArray(n)&&n.length>0){var r=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(r,a),Math.max(s,o)]}return e},lse=Be([ms,RD,DD,Fr],xV),cse=Be(ww,ms,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(tf(t.map(o=>o.value))).sort((o,c)=>o-c);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var a=0;a<i.length-1;a++){var s=i[a+1]-i[a];n=Math.min(n,s)}return n/r}}),bV=Be(cse,Si,Aae,va,(t,e,n,i)=>i,(t,e,n,i,r)=>{if(!Zr(t))return 0;var a=e==="vertical"?i.height:i.width;if(r==="gap")return t*a/2;if(r==="no-gap"){var s=Ld(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),use=(t,e)=>{var n=hf(t,e);return n==null||typeof n.padding!="string"?0:bV(t,"xAxis",e,n.padding)},fse=(t,e)=>{var n=pf(t,e);return n==null||typeof n.padding!="string"?0:bV(t,"yAxis",e,n.padding)},dse=Be(hf,use,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),hse=Be(pf,fse,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),pse=Be([va,dse,lw,ow,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),mse=Be([va,Si,hse,lw,ow,(t,e,n)=>n],(t,e,n,i,r,a)=>{var{padding:s}=r;return a?[i.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),hb=(t,e,n,i)=>{var r;switch(e){case"xAxis":return pse(t,n,i);case"yAxis":return mse(t,n,i);case"zAxis":return(r=wD(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return Fk(t);case"radiusAxis":return kk(t,n);default:return}},_V=Be([ms,hb],bw),Cg=Be([ms,db,lse,_V],OD);Be([fb,CD,Fr],Xae);function SV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Aw=(t,e)=>e,Tw=(t,e,n)=>n,gse=Be(aw,Aw,Tw,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(SV)),vse=Be(sw,Aw,Tw,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(SV)),MV=(t,e)=>({width:t.width,height:e.height}),yse=(t,e)=>{var n=typeof e.width=="number"?e.width:ab;return{width:n,height:t.height}},xse=Be(va,hf,MV),bse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},_se=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Sse=Be(ff,va,gse,Aw,Tw,(t,e,n,i,r)=>{var a={},s;return n.forEach(o=>{var c=MV(e,o);s==null&&(s=bse(e,i,t));var f=i==="top"&&!r||i==="bottom"&&r;a[o.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),a}),Mse=Be(uf,va,vse,Aw,Tw,(t,e,n,i,r)=>{var a={},s;return n.forEach(o=>{var c=yse(e,o);s==null&&(s=_se(e,i,t));var f=i==="left"&&!r||i==="right"&&r;a[o.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),a}),Ese=(t,e)=>{var n=hf(t,e);if(n!=null)return Sse(t,n.orientation,n.mirror)},wse=Be([va,hf,Ese,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n?.[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}}),Ase=(t,e)=>{var n=pf(t,e);if(n!=null)return Mse(t,n.orientation,n.mirror)},Tse=Be([va,pf,Ase,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n?.[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}}),Cse=Be(va,pf,(t,e)=>{var n=typeof e.width=="number"?e.width:ab;return{width:n,height:t.height}}),EV=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:s}=n,o=Hd(t,i),c=e.map(f=>f.value);if(s&&o&&a==="category"&&r&&A8(c))return c}},ND=Be([Si,ww,ms,Fr],EV),wV=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,s=Hd(t,i);if(s&&(r==="number"||a!=="auto"))return e.map(o=>o.value)}},PD=Be([Si,ww,ub,Fr],wV),NI=Be([Si,zae,db,Cg,ND,PD,hb,DD,Fr],(t,e,n,i,r,a,s,o,c)=>{if(e!=null){var f=Hd(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:r,isCategorical:f,niceTicks:o,range:s,realScaleType:n,scale:i}}}),Rse=(t,e,n,i,r,a,s,o,c)=>{if(!(e==null||i==null)){var f=Hd(t,c),{type:d,ticks:m,tickCount:v}=e,y=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,_=d==="category"&&i.bandwidth?i.bandwidth()/y:0;_=c==="angleAxis"&&a!=null&&a.length>=2?$o(a[0]-a[1])*2*_:_;var E=m||r;if(E){var S=E.map((M,C)=>{var T=s?s.indexOf(M):M;return{index:C,coordinate:i(T)+_,value:M,offset:_}});return S.filter(M=>Zr(M.coordinate))}return f&&o?o.map((M,C)=>({coordinate:i(M)+_,value:M,index:C,offset:_})).filter(M=>Zr(M.coordinate)):i.ticks?i.ticks(v).map(M=>({coordinate:i(M)+_,value:M,offset:_})):i.domain().map((M,C)=>({coordinate:i(M)+_,value:s?s[M]:M,index:C,offset:_}))}},AV=Be([Si,ub,db,Cg,DD,hb,ND,PD,Fr],Rse),Ose=(t,e,n,i,r,a,s)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var o=Hd(t,s),{tickCount:c}=e,f=0;return f=s==="angleAxis"&&i?.length>=2?$o(i[0]-i[1])*2*f:f,o&&a?a.map((d,m)=>({coordinate:n(d)+f,value:d,index:m,offset:f})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+f,value:d,offset:f})):n.domain().map((d,m)=>({coordinate:n(d)+f,value:r?r[d]:d,index:m,offset:f}))}},TV=Be([Si,ub,Cg,hb,ND,PD,Fr],Ose),CV=Be(ms,Cg,(t,e)=>{if(!(t==null||e==null))return wM(wM({},t),{},{scale:e})}),Dse=Be([ms,db,RD,_V],OD);Be((t,e,n)=>wD(t,n),Dse,(t,e)=>{if(!(t==null||e==null))return wM(wM({},t),{},{scale:e})});var Nse=Be([Si,aw,sw],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RV=t=>t.options.defaultTooltipEventType,OV=t=>t.options.validateTooltipEventTypes;function DV(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function LD(t,e){var n=RV(t),i=OV(t);return DV(e,n,i)}function Pse(t){return kt(e=>LD(e,t))}var NV=(t,e)=>{var n,i=Number(e);if(!(Kc(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},Lse=t=>t.tooltip.settings,wd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Use={itemInteraction:{click:wd,hover:wd},axisInteraction:{click:wd,hover:wd},keyboardInteraction:wd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PV=Ws({name:"tooltip",initialState:Use,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ur()},removeTooltipEntrySettings:{reducer(t,e){var n=qu(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ur()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Ise,removeTooltipEntrySettings:zse,setTooltipSettingsState:Bse,setActiveMouseOverItemIndex:jse,mouseLeaveItem:$Te,mouseLeaveChart:LV,setActiveClickItemIndex:ZTe,setMouseOverAxisIndex:UV,setMouseClickAxisIndex:Fse,setSyncInteraction:uR,setKeyboardInteraction:fR}=PV.actions,kse=PV.reducer;function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(i){Vse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Vse(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Xse(t){return t.index!=null}var IV=(t,e,n,i)=>{if(e==null)return wd;var r=qse(t,e,n);if(r==null)return wd;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Xse(r)){if(a)return b_(b_({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return b_(b_({},wd),{},{coordinate:r.coordinate})},UD=(t,e)=>{var n=t?.index;if(n==null)return null;var i=Number(n);if(!Zr(i))return n;var r=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(r,Math.min(i,a)))},zV=(t,e,n,i,r,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],f=c==null?void 0:o(c.positions,a);if(f!=null)return f;var d=r?.[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:d.coordinate}}}},BV=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;return n==="hover"?r=t.itemInteraction.hover.dataKey:r=t.itemInteraction.click.dataKey,r==null&&i!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===r})},pb=t=>t.options.tooltipPayloadSearcher,Rg=t=>t.tooltip;function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(i){Wse(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Wse(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $se(t,e){return t??e}var jV=(t,e,n,i,r,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:f,dataEndIndex:d}=n,m=[];return t.reduce((v,y)=>{var _,{dataDefinedOnItem:E,settings:S}=y,M=$se(E,o),C=Array.isArray(M)?vF(M,f,d):M,T=(_=S?.dataKey)!==null&&_!==void 0?_:i,L=S?.nameKey,P;if(i&&Array.isArray(C)&&!Array.isArray(C[0])&&s==="axis"?P=T8(C,i,r):P=a(C,e,c,L),Array.isArray(P))P.forEach(z=>{var F=UI(UI({},S),{},{name:z.name,unit:z.unit,color:void 0,fill:void 0});v.push(u4({tooltipEntrySettings:F,dataKey:z.dataKey,payload:z.payload,value:ds(z.payload,z.dataKey),name:z.name}))});else{var N;v.push(u4({tooltipEntrySettings:S,dataKey:T,payload:P,value:ds(P,T),name:(N=ds(P,L))!==null&&N!==void 0?N:S?.name}))}return v},m)}},ID=Be([Vr,Si,Wk,yD,kr],vV),Zse=Be([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Qse=Be([kr,Ag],Yk),mb=Be([Zse,Vr,Qse],$k,{memoizeOptions:{resultEqualityCheck:Ew}}),Jse=Be([mb],t=>t.filter(ED)),eoe=Be([mb],Jk,{memoizeOptions:{resultEqualityCheck:Ew}}),Og=Be([eoe,Xd],eV),toe=Be([Jse,Xd,Vr],Gk),zD=Be([Og,Vr,mb],tV),FV=Be([Vr],TD),noe=Be([Vr],t=>t.allowDataOverflow),kV=Be([FV,noe],Sk),ioe=Be([mb],t=>t.filter(ED)),roe=Be([toe,ioe,xw],rV),aoe=Be([roe,Xd,kr,kV],aV),soe=Be([mb],Qk),ooe=Be([Og,Vr,soe,CD,kr],lV,{memoizeOptions:{resultEqualityCheck:Mw}}),loe=Be([cV,kr,Ag],Tg),coe=Be([loe,kr],dV),uoe=Be([uV,kr,Ag],Tg),foe=Be([uoe,kr],hV),doe=Be([fV,kr,Ag],Tg),hoe=Be([doe,kr],pV),poe=Be([coe,hoe,foe],AM),moe=Be([Vr,FV,kV,aoe,ooe,poe,Si,kr],mV),VV=Be([Vr,Si,Og,zD,xw,kr,moe],gV),goe=Be([VV,Vr,ID],yV),voe=Be([Vr,VV,goe,kr],xV),HV=t=>{var e=kr(t),n=Ag(t),i=!1;return hb(t,e,n,i)},GV=Be([Vr,HV],bw),qV=Be([Vr,ID,voe,GV],OD),yoe=Be([Si,zD,Vr,kr],EV),xoe=Be([Si,zD,Vr,kr],wV),boe=(t,e,n,i,r,a,s,o)=>{if(e){var{type:c}=e,f=Hd(t,o);if(i){var d=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,m=c==="category"&&i.bandwidth?i.bandwidth()/d:0;return m=o==="angleAxis"&&r!=null&&r?.length>=2?$o(r[0]-r[1])*2*m:m,f&&s?s.map((v,y)=>({coordinate:i(v)+m,value:v,index:y,offset:m})):i.domain().map((v,y)=>({coordinate:i(v)+m,value:a?a[v]:v,index:y,offset:m}))}}},mf=Be([Si,Vr,ID,qV,HV,yoe,xoe,kr],boe),BD=Be([RV,OV,Lse],(t,e,n)=>DV(n.shared,t,e)),XV=t=>t.tooltip.settings.trigger,jD=t=>t.tooltip.settings.defaultIndex,Cw=Be([Rg,BD,XV,jD],IV),yx=Be([Cw,Og],UD),WV=Be([mf,yx],NV),_oe=Be([Cw],t=>{if(t)return t.dataKey}),YV=Be([Rg,BD,XV,jD],BV),Soe=Be([uf,ff,Si,va,mf,jD,YV,pb],zV),Moe=Be([Cw,Soe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Eoe=Be([Cw],t=>t.active),woe=Be([YV,yx,Xd,iV,WV,pb,BD],jV),Aoe=Be([woe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(i){Toe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Toe(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Roe(t,"string");return typeof e=="symbol"?e:e+""}function Roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ooe=()=>kt(Vr),Doe=()=>{var t=Ooe(),e=kt(mf),n=kt(qV);return lM(!t||!n?void 0:zI(zI({},t),{},{scale:n}),e)};function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(i){Noe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Noe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uoe=(t,e,n,i)=>{var r=e.find(a=>a&&a.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.chartY};if(t==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},Ioe=(t,e,n,i)=>{var r=e.find(f=>f&&f.index===n);if(r){if(t==="centric"){var a=r.coordinate,{radius:s}=i;return i0(i0(i0({},i),pa(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var o=r.coordinate,{angle:c}=i;return i0(i0(i0({},i),pa(i.cx,i.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function zoe(t,e){var{chartX:n,chartY:i}=t;return n>=e.left&&n<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var KV=(t,e,n,i,r)=>{var a,s=-1,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<o;c++){var f=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,m=c>=o-1?n[0].coordinate:n[c+1].coordinate,v=void 0;if($o(d-f)!==$o(m-d)){var y=[];if($o(m-d)===$o(r[1]-r[0])){v=m;var _=d+r[1]-r[0];y[0]=Math.min(_,(_+f)/2),y[1]=Math.max(_,(_+f)/2)}else{v=f;var E=m+r[1]-r[0];y[0]=Math.min(d,(E+d)/2),y[1]=Math.max(d,(E+d)/2)}var S=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>S[0]&&t<=S[1]||t>=y[0]&&t<=y[1]){({index:s}=n[c]);break}}else{var M=Math.min(f,m),C=Math.max(f,m);if(t>(M+d)/2&&t<=(C+d)/2){({index:s}=n[c]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&t>(e[T].coordinate+e[T-1].coordinate)/2&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&t>(e[T].coordinate+e[T-1].coordinate)/2){({index:s}=e[T]);break}}return s},Boe=()=>kt(yD),FD=(t,e)=>e,$V=(t,e,n)=>n,kD=(t,e,n,i)=>i,joe=Be(mf,t=>JE(t,e=>e.coordinate)),VD=Be([Rg,FD,$V,kD],IV),ZV=Be([VD,Og],UD),Foe=(t,e,n)=>{if(e!=null){var i=Rg(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},QV=Be([Rg,FD,$V,kD],BV),TM=Be([uf,ff,Si,va,mf,kD,QV,pb],zV),koe=Be([VD,TM],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),JV=Be([mf,ZV],NV),Voe=Be([QV,ZV,Xd,iV,JV,pb,FD],jV),Hoe=Be([VD],t=>({isActive:t.active,activeIndex:t.index})),Goe=(t,e,n,i,r,a,s)=>{if(!(!t||!n||!i||!r)&&zoe(t,s)){var o=Pee(t,e),c=KV(o,a,r,n,i),f=Uoe(e,r,c,t);return{activeIndex:String(c),activeCoordinate:f}}},qoe=(t,e,n,i,r,a,s)=>{if(!(!t||!i||!r||!a||!n)){var o=Rne(t,n);if(o){var c=Lee(o,e),f=KV(c,s,a,i,r),d=Ioe(e,a,f,o);return{activeIndex:String(f),activeCoordinate:d}}}},Xoe=(t,e,n,i,r,a,s,o)=>{if(!(!t||!e||!i||!r||!a))return e==="horizontal"||e==="vertical"?Goe(t,e,i,r,a,s,o):qoe(t,e,n,i,r,a,s)},Woe=Be(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var i=t[e];if(i!=null)return n?i.panoramaElementId:i.elementId}}),Yoe=Be(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(i=>parseInt(i,10)).concat(Object.values(us)),n=Array.from(new Set(e));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:Nae}});function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(i){Koe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Koe(t,e,n){return(e=$oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=Zoe(t,"string");return typeof e=="symbol"?e:e+""}function Zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qoe={},Joe={zIndexMap:Object.values(us).reduce((t,e)=>FI(FI({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Qoe)},ele=new Set(Object.values(us));function tle(t){return ele.has(t)}var eH=Ws({name:"zIndex",initialState:Joe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ur()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!tle(n)&&delete t.zIndexMap[n])},prepare:Ur()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:i,isPanorama:r}=e.payload;t.zIndexMap[n]?r?t.zIndexMap[n].panoramaElementId=i:t.zIndexMap[n].elementId=i:t.zIndexMap[n]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:Ur()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Ur()}}}),{registerZIndexPortal:nle,unregisterZIndexPortal:ile,registerZIndexPortalId:rle,unregisterZIndexPortalId:ale}=eH.actions,sle=eH.reducer;function gf(t){var{zIndex:e,children:n}=t,i=hte(),r=i&&e!==void 0&&e!==0,a=Ys(),s=Qr();U.useLayoutEffect(()=>r?(s(nle({zIndex:e})),()=>{s(ile({zIndex:e}))}):_g,[s,e,r]);var o=kt(f=>Woe(f,e,a));if(!r)return n;if(!o)return null;var c=document.getElementById(o);return c?T6.createPortal(n,c):null}function dR(){return dR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dR.apply(null,arguments)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function __(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(i){ole(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ole(t,e,n){return(e=lle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=cle(t,"string");return typeof e=="symbol"?e:e+""}function cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ule(t){var{cursor:e,cursorComp:n,cursorProps:i}=t;return U.isValidElement(e)?U.cloneElement(e,i):U.createElement(n,i)}function fle(t){var e,{coordinate:n,payload:i,index:r,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:f,chartName:d}=t,m=n,v=i,y=r;if(!c||!m||d!=="ScatterChart"&&f!=="axis")return null;var _,E,S;if(d==="ScatterChart")_=m,E=Gte,S=us.cursorLine;else if(d==="BarChart")_=qte(o,m,a,s),E=zF,S=us.cursorRectangle;else if(o==="radial"&&O8(m)){var{cx:M,cy:C,radius:T,startAngle:L,endAngle:P}=BF(m);_={cx:M,cy:C,startAngle:L,endAngle:P,innerRadius:T,outerRadius:T},E=FF,S=us.cursorLine}else _={points:Pne(o,m,a)},E=NF,S=us.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,z=__(__(__(__({stroke:"#ccc",pointerEvents:"none"},a),_),YE(c)),{},{payload:v,payloadIndex:y,className:pi("recharts-tooltip-cursor",N)});return U.createElement(gf,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},U.createElement(ule,{cursor:c,cursorComp:E,cursorProps:z}))}function dle(t){var e=Doe(),n=TF(),i=uw(),r=Boe();return e==null||n==null||i==null||r==null?null:U.createElement(fle,dR({},t,{offset:n,layout:i,tooltipAxisBandSize:e,chartName:r}))}var tH=U.createContext(null),hle=()=>U.useContext(tH),T2={exports:{}},VI;function ple(){return VI||(VI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,m,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new r(d,m||c,v),_=n?n+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new i:delete c._events[f]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],d,m;if(this._eventsCount===0)return f;for(m in d=this._events)e.call(d,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},o.prototype.listeners=function(f){var d=n?n+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,_=new Array(y);v<y;v++)_[v]=m[v].fn;return _},o.prototype.listenerCount=function(f){var d=n?n+f:f,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(f,d,m,v,y,_){var E=n?n+f:f;if(!this._events[E])return!1;var S=this._events[E],M=arguments.length,C,T;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,m),!0;case 4:return S.fn.call(S.context,d,m,v),!0;case 5:return S.fn.call(S.context,d,m,v,y),!0;case 6:return S.fn.call(S.context,d,m,v,y,_),!0}for(T=1,C=new Array(M-1);T<M;T++)C[T-1]=arguments[T];S.fn.apply(S.context,C)}else{var L=S.length,P;for(T=0;T<L;T++)switch(S[T].once&&this.removeListener(f,S[T].fn,void 0,!0),M){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,d);break;case 3:S[T].fn.call(S[T].context,d,m);break;case 4:S[T].fn.call(S[T].context,d,m,v);break;default:if(!C)for(P=1,C=new Array(M-1);P<M;P++)C[P-1]=arguments[P];S[T].fn.apply(S[T].context,C)}}return!0},o.prototype.on=function(f,d,m){return a(this,f,d,m,!1)},o.prototype.once=function(f,d,m){return a(this,f,d,m,!0)},o.prototype.removeListener=function(f,d,m,v){var y=n?n+f:f;if(!this._events[y])return this;if(!d)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!v||_.once)&&(!m||_.context===m)&&s(this,y);else{for(var E=0,S=[],M=_.length;E<M;E++)(_[E].fn!==d||v&&!_[E].once||m&&_[E].context!==m)&&S.push(_[E]);S.length?this._events[y]=S.length===1?S[0]:S:s(this,y)}return this},o.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&s(this,d)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(T2)),T2.exports}var mle=ple();const gle=al(mle);var xx=new gle,hR="recharts.syncEvent.tooltip",HI="recharts.syncEvent.brush";function vle(t,e){if(e){var n=Number.parseInt(e,10);if(!Kc(n))return t?.[n]}}var yle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nH=Ws({name:"options",initialState:yle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xle=nH.reducer,{createEventEmitter:ble}=nH.actions;function _le(t){return t.tooltip.syncInteraction}var Sle={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iH=Ws({name:"chartData",initialState:Sle,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:GI,setDataStartEndIndexes:Mle,setComputedData:QTe}=iH.actions,Ele=iH.reducer,wle=["x","y"];function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function r0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(i){Ale(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ale(t,e,n){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t,e){if(t==null)return{};var n,i,r=Ole(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ole(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Dle(){var t=kt(xD),e=kt(bD),n=Qr(),i=kt(zk),r=kt(mf),a=uw(),s=cw(),o=kt(c=>c.rootProps.className);U.useEffect(()=>{if(t==null)return _g;var c=(f,d,m)=>{if(e!==m&&t===f){if(i==="index"){var v;if(s&&d!==null&&d!==void 0&&(v=d.payload)!==null&&v!==void 0&&v.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:_,y:E}=y,S=Rle(y,wle),{x:M,y:C,width:T,height:L}=d.payload.sourceViewBox,P=r0(r0({},S),{},{x:s.x+(T?(_-M)/T:0)*s.width,y:s.y+(L?(E-C)/L:0)*s.height});n(r0(r0({},d),{},{payload:r0(r0({},d.payload),{},{coordinate:P})}))}else n(d);return}if(r!=null){var N;if(typeof i=="function"){var z={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},F=i(r,z);N=r[F]}else i==="value"&&(N=r.find(H=>String(H.value)===d.payload.label));var{coordinate:I}=d.payload;if(N==null||d.payload.active===!1||I==null||s==null){n(uR({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:j,y:k}=I,Z=Math.min(j,s.x+s.width),ee=Math.min(k,s.y+s.height),re={x:a==="horizontal"?N.coordinate:Z,y:a==="horizontal"?ee:N.coordinate},ae=uR({active:d.payload.active,coordinate:re,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(ae)}}};return xx.on(hR,c),()=>{xx.off(hR,c)}},[o,n,e,t,i,r,a,s])}function Nle(){var t=kt(xD),e=kt(bD),n=Qr();U.useEffect(()=>{if(t==null)return _g;var i=(r,a,s)=>{e!==s&&t===r&&n(Mle(a))};return xx.on(HI,i),()=>{xx.off(HI,i)}},[n,e,t])}function Ple(){var t=Qr();U.useEffect(()=>{t(ble())},[t]),Dle(),Nle()}function Lle(t,e,n,i,r,a){var s=kt(y=>Foe(y,t,e)),o=kt(bD),c=kt(xD),f=kt(zk),d=kt(_le),m=d?.active,v=cw();U.useEffect(()=>{if(!m&&c!=null&&o!=null){var y=uR({active:a,coordinate:n,dataKey:s,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:v});xx.emit(hR,c,y,o)}},[m,n,s,r,i,o,c,f,a,v])}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function WI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(i){Ule(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ule(t,e,n){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ble(t){return t.dataKey}function jle(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(Ste,e)}var YI=[],Fle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Sg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kle(t){var e,n,i=Xs(t,Fle),{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:f,isAnimationActive:d,offset:m,payloadUniqBy:v,position:y,reverseDirection:_,useTranslate3d:E,wrapperStyle:S,cursor:M,shared:C,trigger:T,defaultIndex:L,portal:P,axisId:N}=i,z=Qr(),F=typeof L=="number"?String(L):L;U.useEffect(()=>{z(Bse({shared:C,trigger:T,axisId:N,active:r,defaultIndex:F}))},[z,C,T,N,r,F]);var I=cw(),j=DF(),k=Pse(C),{activeIndex:Z,isActive:ee}=(e=kt(Le=>Hoe(Le,k,T,F)))!==null&&e!==void 0?e:{},re=kt(Le=>Voe(Le,k,T,F)),ae=kt(Le=>JV(Le,k,T,F)),H=kt(Le=>koe(Le,k,T,F)),X=re,K=hle(),ne=(n=r??ee)!==null&&n!==void 0?n:!1,[q,se]=EJ([X,ne]),ge=k==="axis"?ae:void 0;Lle(k,T,H,ge,Z,ne);var _e=P??K;if(_e==null||I==null||k==null)return null;var Ae=X??YI;ne||(Ae=YI),f&&Ae.length&&(Ae=$Q(Ae.filter(Le=>Le.value!=null&&(Le.hide!==!0||i.includeHidden)),v,Ble));var Qe=Ae.length>0,pe=U.createElement(Rte,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ne,coordinate:H,hasPayload:Qe,offset:m,position:y,reverseDirection:_,useTranslate3d:E,viewBox:I,wrapperStyle:S,lastBoundingBox:q,innerRef:se,hasPortalFromProps:!!P},jle(c,WI(WI({},i),{},{payload:Ae,label:ge,active:ne,activeIndex:Z,coordinate:H,accessibilityLayer:j})));return U.createElement(U.Fragment,null,T6.createPortal(pe,_e),ne&&U.createElement(dle,{cursor:M,tooltipEventType:k,coordinate:H,payload:Ae,index:Z}))}function Vle(t,e,n){return(e=Hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=Gle(t,"string");return typeof e=="symbol"?e:e+""}function Gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qle{constructor(e){Vle(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Xle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(i){Wle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Wle(t,e,n){return(e=Yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yle(t){var e=Kle(t,"string");return typeof e=="symbol"?e:e+""}function Kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le={cacheSize:2e3,enableCache:!0},rH=Xle({},$le),$I=new qle(rH.cacheSize),Zle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZI="recharts_measurement_span";function Qle(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o)}var QI=(t,e)=>{try{var n=document.getElementById(ZI);n||(n=document.createElement("span"),n.setAttribute("id",ZI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Zle,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},zy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sg.isSsr)return{width:0,height:0};if(!rH.enableCache)return QI(e,n);var i=Qle(e,n),r=$I.get(i);if(r)return r;var a=QI(e,n);return $I.set(i,a),a},JI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ez=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ece=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tce=Object.keys(aH),U0="NaN";function nce(t,e){return t*aH[e]}class Ls{static parse(e){var n,[,i,r]=(n=ece.exec(e))!==null&&n!==void 0?n:[];return new Ls(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Kc(e)&&(this.unit=""),n!==""&&!Jle.test(n)&&(this.num=NaN,this.unit=""),tce.includes(n)&&(this.num=nce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ls(NaN,""):new Ls(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ls(NaN,""):new Ls(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ls(NaN,""):new Ls(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ls(NaN,""):new Ls(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kc(this.num)}}function sH(t){if(t.includes(U0))return U0;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,a]=(n=JI.exec(e))!==null&&n!==void 0?n:[],s=Ls.parse(i??""),o=Ls.parse(a??""),c=r==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return U0;e=e.replace(JI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,d,m,v]=(f=ez.exec(e))!==null&&f!==void 0?f:[],y=Ls.parse(d??""),_=Ls.parse(v??""),E=m==="+"?y.add(_):y.subtract(_);if(E.isNaN())return U0;e=e.replace(ez,E.toString())}return e}var tz=/\(([^()]*)\)/;function ice(t){for(var e=t,n;(n=tz.exec(e))!=null;){var[,i]=n;e=e.replace(tz,sH(i))}return e}function rce(t){var e=t.replace(/\s+/g,"");return e=ice(e),e=sH(e),e}function ace(t){try{return rce(t)}catch{return U0}}function C2(t){var e=ace(t.slice(5,-1));return e===U0?"":e}var sce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oce=["dx","dy","angle","className","breakAll"];function pR(){return pR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pR.apply(null,arguments)}function nz(t,e){if(t==null)return{};var n,i,r=lce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var oH=/[ \f\n\r\t\v\u2028\u2029]+/,lH=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];$r(e)||(n?r=e.toString().split(""):r=e.toString().split(oH));var a=r.map(o=>({word:o,width:zy(o,i).width})),s=n?0:zy("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function cce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cH=(t,e,n,i)=>t.reduce((r,a)=>{var{word:s,width:o}=a,c=r[r.length-1];if(c&&o!=null&&(e==null||i||c.width+o+n<Number(e)))c.words.push(s),c.width+=o+n;else{var f={words:[s],width:o};r.push(f)}return r},[]),uH=t=>t.reduce((e,n)=>e.width>n.width?e:n),uce="",iz=(t,e,n,i,r,a,s,o)=>{var c=t.slice(0,e),f=lH({breakAll:n,style:i,children:c+uce});if(!f)return[!1,[]];var d=cH(f.wordsWithComputedWidth,a,s,o),m=d.length>r||uH(d).width>Number(a);return[m,d]},fce=(t,e,n,i,r)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,f=Ft(a),d=String(s),m=cH(e,i,n,r);if(!f||r)return m;var v=m.length>a||uH(m).width>Number(i);if(!v)return m;for(var y=0,_=d.length-1,E=0,S;y<=_&&E<=d.length-1;){var M=Math.floor((y+_)/2),C=M-1,[T,L]=iz(d,C,c,o,a,i,n,r),[P]=iz(d,M,c,o,a,i,n,r);if(!T&&!P&&(y=M+1),T&&P&&(_=M-1),!T&&P){S=L;break}E++}return S||m},rz=t=>{var e=$r(t)?[]:t.toString().split(oH);return[{words:e,width:void 0}]},dce=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:s}=t;if((e||n)&&!Sg.isSsr){var o,c,f=lH({breakAll:a,children:i,style:r});if(f){var{wordsWithComputedWidth:d,spaceWidth:m}=f;o=d,c=m}else return rz(i);return fce({breakAll:a,children:i,maxLines:s,style:r},o,c,e,!!n)}return rz(i)},fH="#808080",hce={breakAll:!1,capHeight:"0.71em",fill:fH,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},HD=U.forwardRef((t,e)=>{var n=Xs(t,hce),{x:i,y:r,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:f,verticalAnchor:d}=n,m=nz(n,sce),v=U.useMemo(()=>dce({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:y,dy:_,angle:E,className:S,breakAll:M}=m,C=nz(m,oce);if(!$c(i)||!$c(r)||v.length===0)return null;var T=Number(i)+(Ft(y)?y:0),L=Number(r)+(Ft(_)?_:0);if(!Zr(T)||!Zr(L))return null;var P;switch(d){case"start":P=C2("calc(".concat(s,")"));break;case"middle":P=C2("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=C2("calc(".concat(v.length-1," * -").concat(a,")"));break}var N=[];if(c){var z=v[0].width,{width:F}=m;N.push("scale(".concat(Ft(F)&&Ft(z)?F/z:1,")"))}return E&&N.push("rotate(".concat(E,", ").concat(T,", ").concat(L,")")),N.length&&(C.transform=N.join(" ")),U.createElement("text",pR({},ps(C),{ref:e,x:T,y:L,className:pi("recharts-text",S),textAnchor:f,fill:o.includes("url")?fH:o}),v.map((I,j)=>{var k=I.words.join(M?"":" ");return U.createElement("tspan",{x:T,dy:j===0?P:a,key:"".concat(k,"-").concat(j)},k)}))});HD.displayName="Text";var pce=["labelRef"];function mce(t,e){if(t==null)return{};var n,i,r=gce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?az(Object(n),!0).forEach(function(i){vce(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ju.apply(null,arguments)}var dH=U.createContext(null),bce=t=>{var{x:e,y:n,upperWidth:i,lowerWidth:r,width:a,height:s,children:o}=t,c=U.useMemo(()=>({x:e,y:n,upperWidth:i,lowerWidth:r,width:a,height:s}),[e,n,i,r,a,s]);return U.createElement(dH.Provider,{value:c},o)},hH=()=>{var t=U.useContext(dH),e=cw();return t||AF(e)},_ce=U.createContext(null),Sce=()=>{var t=U.useContext(_ce),e=kt(Vk);return t||e},Mce=t=>{var{value:e,formatter:n}=t,i=$r(t.children)?e:t.children;return typeof n=="function"?n(i):i},GD=t=>t!=null&&typeof t=="function",Ece=(t,e)=>{var n=$o(e-t),i=Math.min(Math.abs(e-t),360);return n*i},wce=(t,e,n,i,r)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:f,outerRadius:d,startAngle:m,endAngle:v,clockWise:y}=r,_=(f+d)/2,E=Ece(m,v),S=E>=0?1:-1,M,C;switch(e){case"insideStart":M=m+S*a,C=y;break;case"insideEnd":M=v-S*a,C=!y;break;case"end":M=v+S*a,C=y;break;default:throw new Error("Unsupported position ".concat(e))}C=E<=0?C:!C;var T=pa(o,c,_,M),L=pa(o,c,_,M+(C?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(C?0:1,`,
    `).concat(L.x,",").concat(L.y),N=$r(t.id)?lx("recharts-radial-line-"):t.id;return U.createElement("text",ju({},i,{dominantBaseline:"central",className:pi("recharts-radial-bar-label",s)}),U.createElement("defs",null,U.createElement("path",{id:N,d:P})),U.createElement("textPath",{xlinkHref:"#".concat(N)},n))},Ace=(t,e,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,f=(o+c)/2;if(n==="outside"){var{x:d,y:m}=pa(i,r,s+e,f);return{x:d,y:m,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:y,y:_}=pa(i,r,v,f);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},mR=t=>"cx"in t&&Ft(t.cx),Tce=(t,e)=>{var{parentViewBox:n,offset:i,position:r}=t,a;n!=null&&!mR(n)&&(a=n);var{x:s,y:o,upperWidth:c,lowerWidth:f,height:d}=e,m=s,v=s+(c-f)/2,y=(m+v)/2,_=(c+f)/2,E=m+c/2,S=d>=0?1:-1,M=S*i,C=S>0?"end":"start",T=S>0?"start":"end",L=c>=0?1:-1,P=L*i,N=L>0?"end":"start",z=L>0?"start":"end";if(r==="top"){var F={x:m+c/2,y:o-M,textAnchor:"middle",verticalAnchor:C};return ur(ur({},F),a?{height:Math.max(o-a.y,0),width:c}:{})}if(r==="bottom"){var I={x:v+f/2,y:o+d+M,textAnchor:"middle",verticalAnchor:T};return ur(ur({},I),a?{height:Math.max(a.y+a.height-(o+d),0),width:f}:{})}if(r==="left"){var j={x:y-P,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return ur(ur({},j),a?{width:Math.max(j.x-a.x,0),height:d}:{})}if(r==="right"){var k={x:y+_+P,y:o+d/2,textAnchor:z,verticalAnchor:"middle"};return ur(ur({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:d}:{})}var Z=a?{width:_,height:d}:{};return r==="insideLeft"?ur({x:y+P,y:o+d/2,textAnchor:z,verticalAnchor:"middle"},Z):r==="insideRight"?ur({x:y+_-P,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},Z):r==="insideTop"?ur({x:m+c/2,y:o+M,textAnchor:"middle",verticalAnchor:T},Z):r==="insideBottom"?ur({x:v+f/2,y:o+d-M,textAnchor:"middle",verticalAnchor:C},Z):r==="insideTopLeft"?ur({x:m+P,y:o+M,textAnchor:z,verticalAnchor:T},Z):r==="insideTopRight"?ur({x:m+c-P,y:o+M,textAnchor:N,verticalAnchor:T},Z):r==="insideBottomLeft"?ur({x:v+P,y:o+d-M,textAnchor:z,verticalAnchor:C},Z):r==="insideBottomRight"?ur({x:v+f-P,y:o+d-M,textAnchor:N,verticalAnchor:C},Z):r&&typeof r=="object"&&(Ft(r.x)||$u(r.x))&&(Ft(r.y)||$u(r.y))?ur({x:s+Ld(r.x,_),y:o+Ld(r.y,d),textAnchor:"end",verticalAnchor:"end"},Z):ur({x:E,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},Z)},Cce={offset:5,zIndex:us.label};function Md(t){var e=Xs(t,Cce),{viewBox:n,position:i,value:r,children:a,content:s,className:o="",textBreakAll:c,labelRef:f}=e,d=Sce(),m=hH(),v=i==="center"?m:d??m,y,_,E;if(n==null?y=v:mR(n)?y=n:y=AF(n),!y||$r(r)&&$r(a)&&!U.isValidElement(s)&&typeof s!="function")return null;var S=ur(ur({},e),{},{viewBox:y});if(U.isValidElement(s)){var{labelRef:M}=S,C=mce(S,pce);return U.cloneElement(s,C)}if(typeof s=="function"){if(_=U.createElement(s,S),U.isValidElement(_))return _}else _=Mce(e);var T=ps(e);if(mR(y)){if(i==="insideStart"||i==="insideEnd"||i==="end")return wce(e,i,_,T,y);E=Ace(y,e.offset,e.position)}else E=Tce(e,y);return U.createElement(gf,{zIndex:e.zIndex},U.createElement(HD,ju({ref:f,className:pi("recharts-label",o)},T,E,{textAnchor:cce(T.textAnchor)?T.textAnchor:E.textAnchor,breakAll:c}),_))}Md.displayName="Label";var Rce=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?U.createElement(Md,ju({key:"label-implicit"},i)):$c(t)?U.createElement(Md,ju({key:"label-implicit",value:t},i)):U.isValidElement(t)?t.type===Md?U.cloneElement(t,ur({key:"label-implicit"},i)):U.createElement(Md,ju({key:"label-implicit",content:t},i)):GD(t)?U.createElement(Md,ju({key:"label-implicit",content:t},i)):t&&typeof t=="object"?U.createElement(Md,ju({},t,{key:"label-implicit"},i)):null};function Oce(t){var{label:e,labelRef:n}=t,i=hH();return Rce(e,i,n)||null}var R2={},O2={},sz;function Dce(){return sz||(sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(O2)),O2}var D2={},oz;function Nce(){return oz||(oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(D2)),D2}var lz;function Pce(){return lz||(lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dce(),n=Nce(),i=IO();function r(a){if(i.isArrayLike(a))return e.last(n.toArray(a))}t.last=r})(R2)),R2}var N2,cz;function Lce(){return cz||(cz=1,N2=Pce().last),N2}var Uce=Lce();const Ice=al(Uce);var zce=["valueAccessor"],Bce=["dataKey","clockWise","id","textBreakAll","zIndex"];function CM(){return CM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},CM.apply(null,arguments)}function uz(t,e){if(t==null)return{};var n,i,r=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Fce=t=>Array.isArray(t.value)?Ice(t.value):t.value,pH=U.createContext(void 0),kce=pH.Provider,mH=U.createContext(void 0);mH.Provider;function Vce(){return U.useContext(pH)}function Hce(){return U.useContext(mH)}function NS(t){var{valueAccessor:e=Fce}=t,n=uz(t,zce),{dataKey:i,clockWise:r,id:a,textBreakAll:s,zIndex:o}=n,c=uz(n,Bce),f=Vce(),d=Hce(),m=f||d;return!m||!m.length?null:U.createElement(gf,{zIndex:o??us.label},U.createElement(Pd,{className:"recharts-label-list"},m.map((v,y)=>{var _,E=$r(i)?e(v,y):ds(v&&v.payload,i),S=$r(a)?{}:{id:"".concat(a,"-").concat(y)};return U.createElement(Md,CM({key:"label-".concat(y)},ps(v),c,S,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:s,viewBox:v.viewBox,index:y,zIndex:0}))})))}NS.displayName="LabelList";function Gce(t){var{label:e}=t;return e?e===!0?U.createElement(NS,{key:"labelList-implicit"}):U.isValidElement(e)||GD(e)?U.createElement(NS,{key:"labelList-implicit",content:e}):typeof e=="object"?U.createElement(NS,CM({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function gR(){return gR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gR.apply(null,arguments)}var gH=t=>{var{cx:e,cy:n,r:i,className:r}=t,a=pi("recharts-dot",r);return Ft(e)&&Ft(n)&&Ft(i)?U.createElement("circle",gR({},Yc(t),UO(t),{className:a,cx:e,cy:n,r:i})):null},qce={radiusAxis:{},angleAxis:{}},vH=Ws({name:"polarAxis",initialState:qce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:JTe,removeRadiusAxis:e2e,addAngleAxis:t2e,removeAngleAxis:n2e}=vH.actions,Xce=vH.reducer,yH=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,P2={},fz;function Wce(){return fz||(fz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const r=n[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${r}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(P2)),P2}var L2,dz;function Yce(){return dz||(dz=1,L2=Wce().isPlainObject),L2}var Kce=Yce();const $ce=al(Kce);function hz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(n),!0).forEach(function(i){Zce(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Zce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Jce(t,"string");return typeof e=="symbol"?e:e+""}function Jce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RM(){return RM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},RM.apply(null,arguments)}var mz=(t,e,n,i,r)=>{var a=n-i,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-a/2,",").concat(e+r),s+="L ".concat(t+n-a/2-i,",").concat(e+r),s+="L ".concat(t,",").concat(e," Z"),s},eue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tue=t=>{var e=Xs(t,eue),{x:n,y:i,upperWidth:r,lowerWidth:a,height:s,className:o}=e,{animationEasing:c,animationDuration:f,animationBegin:d,isUpdateAnimationActive:m}=e,v=U.useRef(null),[y,_]=U.useState(-1),E=U.useRef(r),S=U.useRef(a),M=U.useRef(s),C=U.useRef(n),T=U.useRef(i),L=qO(t,"trapezoid-");if(U.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var re=v.current.getTotalLength();re&&_(re)}catch{}},[]),n!==+n||i!==+i||r!==+r||a!==+a||s!==+s||r===0&&a===0||s===0)return null;var P=pi("recharts-trapezoid",o);if(!m)return U.createElement("g",null,U.createElement("path",RM({},ps(e),{className:P,d:mz(n,i,r,a,s)})));var N=E.current,z=S.current,F=M.current,I=C.current,j=T.current,k="0px ".concat(y===-1?1:y,"px"),Z="".concat(y,"px 0px"),ee=PF(["strokeDasharray"],f,c);return U.createElement(GO,{animationId:L,key:L,canBegin:y>0,duration:f,easing:c,isActive:m,begin:d},re=>{var ae=zs(N,r,re),H=zs(z,a,re),X=zs(F,s,re),K=zs(I,n,re),ne=zs(j,i,re);v.current&&(E.current=ae,S.current=H,M.current=X,C.current=K,T.current=ne);var q=re>0?{transition:ee,strokeDasharray:Z}:{strokeDasharray:k};return U.createElement("path",RM({},ps(e),{className:P,d:mz(K,ne,ae,H,X),ref:v,style:pz(pz({},q),e.style)}))})},nue=["option","shapeType","propTransformer","activeClassName","isActive"];function iue(t,e){if(t==null)return{};var n,i,r=rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function OM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(i){aue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lue(t,e){return OM(OM({},e),t)}function cue(t,e){return t==="symbols"}function vz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return U.createElement(zF,n);case"trapezoid":return U.createElement(tue,n);case"sector":return U.createElement(FF,n);case"symbols":if(cue(e))return U.createElement(R8,n);break;case"curve":return U.createElement(NF,n);default:return null}}function uue(t){return U.isValidElement(t)?t.props:t}function fue(t){var{option:e,shapeType:n,propTransformer:i=lue,activeClassName:r="recharts-active-shape",isActive:a}=t,s=iue(t,nue),o;if(U.isValidElement(e))o=U.cloneElement(e,OM(OM({},s),uue(e)));else if(typeof e=="function")o=e(s);else if($ce(e)&&typeof e!="boolean"){var c=i(e,s);o=U.createElement(vz,{shapeType:n,elementProps:c})}else{var f=s;o=U.createElement(vz,{shapeType:n,elementProps:f})}return a?U.createElement(Pd,{className:r},o):o}function due(t){var{fn:e,args:n}=t,i=Qr(),r=Ys();return U.useLayoutEffect(()=>{if(!r){var a=e(n);return i(Ise(a)),()=>{i(zse(a))}}},[e,n,i,r]),null}function hue(t){var{legendPayload:e}=t,n=Qr(),i=Ys();return U.useLayoutEffect(()=>i?_g:(n(mte(e)),()=>{n(gte(e))}),[n,i,e]),null}var U2,pue=()=>{var[t]=U.useState(()=>lx("uid-"));return t},mue=(U2=ZX.useId)!==null&&U2!==void 0?U2:pue;function xH(t,e){var n=mue();return e||(t?"".concat(t,"-").concat(n):n)}var gue=U.createContext(void 0),vue=t=>{var{id:e,type:n,children:i}=t,r=xH("recharts-".concat(n),e);return U.createElement(gue.Provider,{value:r},i(r))},yue={cartesianItems:[],polarItems:[]},bH=Ws({name:"graphicalItems",initialState:yue,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ur()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:i}=e.payload,r=qu(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},prepare:Ur()},removeCartesianGraphicalItem:{reducer(t,e){var n=qu(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ur()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ur()},removePolarGraphicalItem:{reducer(t,e){var n=qu(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ur()}}}),{addCartesianGraphicalItem:xue,replaceCartesianGraphicalItem:bue,removeCartesianGraphicalItem:_ue,addPolarGraphicalItem:i2e,removePolarGraphicalItem:r2e}=bH.actions,Sue=bH.reducer;function Mue(t){var e=Qr(),n=U.useRef(null);return U.useLayoutEffect(()=>{n.current===null?e(xue(t)):n.current!==t&&e(bue({prev:n.current,next:t})),n.current=t},[e,t]),U.useLayoutEffect(()=>()=>{n.current&&(e(_ue(n.current)),n.current=null)},[e]),null}var Eue=["points"];function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(i){wue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function wue(t,e,n){return(e=Aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DM(){return DM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},DM.apply(null,arguments)}function Cue(t,e){if(t==null)return{};var n,i,r=Rue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Oue(t){var{option:e,dotProps:n,className:i}=t;if(U.isValidElement(e))return U.cloneElement(e,n);if(typeof e=="function")return e(n);var r=pi(i,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=Cue(a,Eue);return U.createElement(gH,DM({},o,{className:r}))}function Due(t,e){return t==null?!1:e?!0:t.length===1}function Nue(t){var{points:e,dot:n,className:i,dotClassName:r,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:f=us.scatter}=t;if(!Due(e,n))return null;var d=yH(n),m=SZ(n),v=e.map((_,E)=>{var S,M,C=I2(I2(I2({r:3},s),m),{},{index:E,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(M=_.y)!==null&&M!==void 0?M:void 0,dataKey:a,value:_.value,payload:_.payload,points:e});return U.createElement(Oue,{key:"dot-".concat(E),option:n,dotProps:C,className:r})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),U.createElement(gf,{zIndex:f},U.createElement(Pd,DM({className:i},y),v))}function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(i){Pue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pue(t,e,n){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iue={xAxis:{},yAxis:{},zAxis:{}},_H=Ws({name:"cartesianAxis",initialState:Iue,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ur()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ur()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ur()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ur()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ur()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ur()},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload,r=t.yAxis[n];if(r){var a=r.widthHistory||[];if(a.length===3&&a[0]===a[2]&&i===a[1]&&i!==r.width&&Math.abs(i-a[0])<=1)return;var s=[...a,i].slice(-3);t.yAxis[n]=bz(bz({},t.yAxis[n]),{},{width:i,widthHistory:s})}}}}),{addXAxis:zue,removeXAxis:Bue,addYAxis:jue,removeYAxis:Fue,addZAxis:a2e,removeZAxis:s2e,updateYAxisWidth:kue}=_H.actions,Vue=_H.reducer,Hue=Be([va],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Gue=Be([Hue,uf,ff],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),qD=()=>kt(Gue),que=()=>kt(Aoe);function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(i){Xue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Xue(t,e,n){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kue=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:r,dataKey:a}=t;if(r===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},o=z2(z2(z2({},s),YE(r)),UO(r)),c;return U.isValidElement(r)?c=U.cloneElement(r,o):typeof r=="function"?c=r(o):c=U.createElement(gH,o),U.createElement(Pd,{className:"recharts-active-dot"},c)};function $ue(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:r,zIndex:a=us.activeDot}=t,s=kt(yx),o=que();if(e==null||o==null)return null;var c=e.find(f=>o.includes(f.payload));return $r(c)?null:U.createElement(gf,{zIndex:a},U.createElement(Kue,{point:c,childIndex:Number(s),mainColor:n,dataKey:r,activeDot:i}))}var Zue={},SH=Ws({name:"errorBars",initialState:Zue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:o2e,replaceErrorBar:l2e,removeErrorBar:c2e}=SH.actions,Que=SH.reducer,Jue=["children"];function efe(t,e){if(t==null)return{};var n,i,r=tfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tfe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var nfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ife=U.createContext(nfe);function rfe(t){var{children:e}=t,n=efe(t,Jue);return U.createElement(ife.Provider,{value:n},e)}function MH(t,e){var n,i,r=kt(f=>hf(f,t)),a=kt(f=>pf(f,e)),s=(n=r?.allowDataOverflow)!==null&&n!==void 0?n:go.allowDataOverflow,o=(i=a?.allowDataOverflow)!==null&&i!==void 0?i:vo.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function afe(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,r=qD(),{needClipX:a,needClipY:s,needClip:o}=MH(e,n);if(!o||!r)return null;var{x:c,y:f,width:d,height:m}=r;return U.createElement("clipPath",{id:"clipPath-".concat(i)},U.createElement("rect",{x:a?c:c-d/2,y:s?f:f-m/2,width:a?d:d*2,height:s?m:m*2}))}var sfe=t=>{var{chartData:e}=t,n=Qr(),i=Ys();return U.useEffect(()=>i?()=>{}:(n(GI(e)),()=>{n(GI(void 0))}),[e,n,i]),null},Sz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EH=Ws({name:"brush",initialState:Sz,reducers:{setBrushSettings(t,e){return e.payload==null?Sz:e.payload}}}),{setBrushSettings:u2e}=EH.actions,ofe=EH.reducer;function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XD{static create(e){return new XD(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),i=n[0],r=n[n.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}lfe(XD,"EPS",1e-4);function ffe(t){return(t%180+180)%180}var dfe=function(e){var{width:n,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ffe(r),s=a*Math.PI/180,o=Math.atan(i/n),c=s>o&&s<Math.PI-o?i/Math.sin(s):n/Math.cos(s);return Math.abs(c)},hfe={dots:[],areas:[],lines:[]},wH=Ws({name:"referenceElements",initialState:hfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=qu(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=qu(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=qu(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:f2e,removeDot:d2e,addArea:h2e,removeArea:p2e,addLine:m2e,removeLine:g2e}=wH.actions,pfe=wH.reducer,mfe=U.createContext(void 0),gfe=t=>{var{children:e}=t,[n]=U.useState("".concat(lx("recharts"),"-clip")),i=qD();if(i==null)return null;var{x:r,y:a,width:s,height:o}=i;return U.createElement(mfe.Provider,{value:n},U.createElement("defs",null,U.createElement("clipPath",{id:n},U.createElement("rect",{x:r,y:a,height:o,width:s}))),e)};function tg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(t,i))return!1;return!0}function AH(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function vfe(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return dfe(i,n)}function yfe(t,e,n){var i=n==="width",{x:r,y:a,width:s,height:o}=t;return e===1?{start:i?r:a,end:i?r+s:a+o}:{start:i?r+s:a+o,end:i?r:a}}function NM(t,e,n,i,r){if(t*e<t*i||t*e>t*r)return!1;var a=n();return t*(e-t*a/2-i)>=0&&t*(e+t*a/2-r)<=0}function xfe(t,e){return AH(t,e+1)}function bfe(t,e,n,i,r){for(var a=(i||[]).slice(),{start:s,end:o}=e,c=0,f=1,d=s,m=function(){var _=i?.[c];if(_===void 0)return{v:AH(i,f)};var E=c,S,M=()=>(S===void 0&&(S=n(_,E)),S),C=_.coordinate,T=c===0||NM(t,C,M,d,o);T||(c=0,d=s,f+=1),T&&(d=C+t*(M()/2+r),c+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(i){_fe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _fe(t,e,n){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Efe(t,e,n,i,r){for(var a=(i||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,f=function(v){var y=a[v],_,E=()=>(_===void 0&&(_=n(y,v)),_);if(v===s-1){var S=t*(y.coordinate+t*E()/2-c);a[v]=y=Da(Da({},y),{},{tickCoord:S>0?y.coordinate-S*t:y.coordinate})}else a[v]=y=Da(Da({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var M=NM(t,y.tickCoord,E,o,c);M&&(c=y.tickCoord-t*(E()/2+r),a[v]=Da(Da({},y),{},{isShow:!0}))}},d=s-1;d>=0;d--)f(d);return a}function wfe(t,e,n,i,r,a){var s=(i||[]).slice(),o=s.length,{start:c,end:f}=e;if(a){var d=i[o-1],m=n(d,o-1),v=t*(d.coordinate+t*m/2-f);if(s[o-1]=d=Da(Da({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate}),d.tickCoord!=null){var y=NM(t,d.tickCoord,()=>m,c,f);y&&(f=d.tickCoord-t*(m/2+r),s[o-1]=Da(Da({},d),{},{isShow:!0}))}}for(var _=a?o-1:o,E=function(C){var T=s[C],L,P=()=>(L===void 0&&(L=n(T,C)),L);if(C===0){var N=t*(T.coordinate-t*P()/2-c);s[C]=T=Da(Da({},T),{},{tickCoord:N<0?T.coordinate-N*t:T.coordinate})}else s[C]=T=Da(Da({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var z=NM(t,T.tickCoord,P,c,f);z&&(c=T.tickCoord+t*(P()/2+r),s[C]=Da(Da({},T),{},{isShow:!0}))}},S=0;S<_;S++)E(S);return s}function WD(t,e,n){var{tick:i,ticks:r,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:f,unit:d,angle:m}=t;if(!r||!r.length||!i)return[];if(Ft(c)||Sg.isSsr){var v;return(v=xfe(r,Ft(c)?c:0))!==null&&v!==void 0?v:[]}var y=[],_=o==="top"||o==="bottom"?"width":"height",E=d&&_==="width"?zy(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(T,L)=>{var P=typeof f=="function"?f(T.value,L):T.value;return _==="width"?vfe(zy(P,{fontSize:e,letterSpacing:n}),E,m):zy(P,{fontSize:e,letterSpacing:n})[_]},M=r.length>=2?$o(r[1].coordinate-r[0].coordinate):1,C=yfe(a,M,_);return c==="equidistantPreserveStart"?bfe(M,C,S,r,s):(c==="preserveStart"||c==="preserveStartEnd"?y=wfe(M,C,S,r,s,c==="preserveStartEnd"):y=Efe(M,C,S,r,s),y.filter(T=>T.isShow))}var Afe=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>s&&(s=m.width)}});var o=n?n.getBoundingClientRect().width:0,c=r+a,f=s+c+o+(n?i:0);return Math.round(f)}return 0},Tfe=["axisLine","width","height","className","hide","ticks","axisType"],Cfe=["viewBox"],Rfe=["viewBox"];function vR(t,e){if(t==null)return{};var n,i,r=Ofe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ofe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kp.apply(null,arguments)}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(i){Dfe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Dfe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YD={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:us.axis};function Lfe(t){var{x:e,y:n,width:i,height:r,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var f=Mr(Mr(Mr({},c),Yc(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);f=Mr(Mr({},f),{},{x1:e,y1:n+d*r,x2:e+i,y2:n+d*r})}else{var m=+(a==="left"&&!s||a==="right"&&s);f=Mr(Mr({},f),{},{x1:e+m*i,y1:n,x2:e+m*i,y2:n+r})}return U.createElement("line",kp({},f,{className:pi("recharts-cartesian-axis-line",QE(o,"className"))}))}function Ufe(t,e,n,i,r,a,s,o,c){var f,d,m,v,y,_,E=o?-1:1,S=t.tickSize||s,M=Ft(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=d=t.coordinate,v=n+ +!o*r,m=v-E*S,_=m-E*c,y=M;break;case"left":m=v=t.coordinate,d=e+ +!o*i,f=d-E*S,y=f-E*c,_=M;break;case"right":m=v=t.coordinate,d=e+ +o*i,f=d+E*S,y=f+E*c,_=M;break;default:f=d=t.coordinate,v=n+ +o*r,m=v+E*S,_=m+E*c,y=M;break}return{line:{x1:f,y1:m,x2:d,y2:v},tick:{x:y,y:_}}}function Ife(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function zfe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Bfe(t){var{option:e,tickProps:n,value:i}=t,r,a=pi(n.className,"recharts-cartesian-axis-tick-value");if(U.isValidElement(e))r=U.cloneElement(e,Mr(Mr({},n),{},{className:a}));else if(typeof e=="function")r=e(Mr(Mr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=pi(s,e?.className)),r=U.createElement(HD,kp({},n,{className:s}),i)}return r}var jfe=U.forwardRef((t,e)=>{var{ticks:n=[],tick:i,tickLine:r,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:f,orientation:d,mirror:m,x:v,y,width:_,height:E,tickSize:S,tickMargin:M,fontSize:C,letterSpacing:T,getTicksConfig:L,events:P,axisType:N}=t,z=WD(Mr(Mr({},L),{},{ticks:n}),C,T),F=Ife(d,m),I=zfe(d,m),j=Yc(L),k=YE(i),Z={};typeof r=="object"&&(Z=r);var ee=Mr(Mr({},j),{},{fill:"none"},Z),re=z.map(X=>Mr({entry:X},Ufe(X,v,y,_,E,d,S,m,M))),ae=re.map(X=>{var{entry:K,line:ne}=X;return U.createElement(Pd,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},r&&U.createElement("line",kp({},ee,ne,{className:pi("recharts-cartesian-axis-tick-line",QE(r,"className"))})))}),H=re.map((X,K)=>{var{entry:ne,tick:q}=X,se=Mr(Mr(Mr(Mr({textAnchor:F,verticalAnchor:I},j),{},{stroke:"none",fill:a},k),q),{},{index:K,payload:ne,visibleTicksCount:z.length,tickFormatter:s,padding:c},f);return U.createElement(Pd,kp({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},AQ(P,ne,K)),i&&U.createElement(Bfe,{option:i,tickProps:se,value:"".concat(typeof s=="function"?s(ne.value,K):ne.value).concat(o||"")}))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},H.length>0&&U.createElement(gf,{zIndex:us.label},U.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:e},H)),ae.length>0&&U.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ae))}),Ffe=U.forwardRef((t,e)=>{var{axisLine:n,width:i,height:r,className:a,hide:s,ticks:o,axisType:c}=t,f=vR(t,Tfe),[d,m]=U.useState(""),[v,y]=U.useState(""),_=U.useRef(null);U.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return Afe({ticks:_.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=U.useCallback(S=>{if(S){var M=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=M;var C=M[0];if(C){var T=window.getComputedStyle(C),L=T.fontSize,P=T.letterSpacing;(L!==d||P!==v)&&(m(L),y(P))}}},[d,v]);return s||i!=null&&i<=0||r!=null&&r<=0?null:U.createElement(gf,{zIndex:t.zIndex},U.createElement(Pd,{className:pi("recharts-cartesian-axis",a)},U.createElement(Lfe,{x:t.x,y:t.y,width:i,height:r,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Yc(t)}),U.createElement(jfe,{ref:E,axisType:c,events:f,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),U.createElement(bce,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},U.createElement(Oce,{label:t.label,labelRef:t.labelRef}),t.children)))}),kfe=U.memo(Ffe,(t,e)=>{var{viewBox:n}=t,i=vR(t,Cfe),{viewBox:r}=e,a=vR(e,Rfe);return tg(n,r)&&tg(i,a)}),KD=U.forwardRef((t,e)=>{var n=Xs(t,YD);return U.createElement(kfe,kp({},n,{ref:e}))});KD.displayName="CartesianAxis";var Vfe=["x1","y1","x2","y2","key"],Hfe=["offset"],Gfe=["xAxisId","yAxisId"],qfe=["xAxisId","yAxisId"];function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(i){Xfe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Xfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xp.apply(null,arguments)}function PM(t,e){if(t==null)return{};var n,i,r=Kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kfe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var $fe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:r,width:a,height:s,ry:o}=t;return U.createElement("rect",{x:i,y:r,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TH(t){var{option:e,lineItemProps:n}=t,i;if(U.isValidElement(e))i=U.cloneElement(e,n);else if(typeof e=="function")i=e(n);else{var r,{x1:a,y1:s,x2:o,y2:c,key:f}=n,d=PM(n,Vfe),m=(r=Yc(d))!==null&&r!==void 0?r:{},{offset:v}=m,y=PM(m,Hfe);i=U.createElement("line",xp({},y,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:f}))}return i}function Zfe(t){var{x:e,width:n,horizontal:i=!0,horizontalPoints:r}=t;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:s}=t,o=PM(t,Gfe),c=r.map((f,d)=>{var m=Pa(Pa({},o),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(d),index:d});return U.createElement(TH,{key:"line-".concat(d),option:i,lineItemProps:m})});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Qfe(t){var{y:e,height:n,vertical:i=!0,verticalPoints:r}=t;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:s}=t,o=PM(t,qfe),c=r.map((f,d)=>{var m=Pa(Pa({},o),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(d),index:d});return U.createElement(TH,{option:i,lineItemProps:m,key:"line-".concat(d)})});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Jfe(t){var{horizontalFill:e,fillOpacity:n,x:i,y:r,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var f=o.map(m=>Math.round(m+r-r)).sort((m,v)=>m-v);r!==f[0]&&f.unshift(0);var d=f.map((m,v)=>{var y=!f[v+1],_=y?r+s-m:f[v+1]-m;if(_<=0)return null;var E=v%e.length;return U.createElement("rect",{key:"react-".concat(v),y:m,x:i,height:_,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ede(t){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:r,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var f=c.map(m=>Math.round(m+r-r)).sort((m,v)=>m-v);r!==f[0]&&f.unshift(0);var d=f.map((m,v)=>{var y=!f[v+1],_=y?r+s-m:f[v+1]-m;if(_<=0)return null;var E=v%n.length;return U.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:_,height:o,stroke:"none",fill:n[E],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var tde=(t,e)=>{var{xAxis:n,width:i,height:r,offset:a}=t;return yF(WD(Pa(Pa(Pa({},YD),n),{},{ticks:xF(n),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,e)},nde=(t,e)=>{var{yAxis:n,width:i,height:r,offset:a}=t;return yF(WD(Pa(Pa(Pa({},YD),n),{},{ticks:xF(n),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,e)},ide={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:us.grid};function CH(t){var e=CF(),n=RF(),i=TF(),r=Pa(Pa({},Xs(t,ide)),{},{x:Ft(t.x)?t.x:i.left,y:Ft(t.y)?t.y:i.top,width:Ft(t.width)?t.width:i.width,height:Ft(t.height)?t.height:i.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:f,height:d,syncWithTicks:m,horizontalValues:v,verticalValues:y}=r,_=Ys(),E=kt(I=>NI(I,"xAxis",a,_)),S=kt(I=>NI(I,"yAxis",s,_));if(!Zc(f)||!Zc(d)||!Ft(o)||!Ft(c))return null;var M=r.verticalCoordinatesGenerator||tde,C=r.horizontalCoordinatesGenerator||nde,{horizontalPoints:T,verticalPoints:L}=r;if((!T||!T.length)&&typeof C=="function"){var P=v&&v.length,N=C({yAxis:S?Pa(Pa({},S),{},{ticks:P?v:S.ticks}):void 0,width:e??f,height:n??d,offset:i},P?!0:m);cM(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(T=N)}if((!L||!L.length)&&typeof M=="function"){var z=y&&y.length,F=M({xAxis:E?Pa(Pa({},E),{},{ticks:z?y:E.ticks}):void 0,width:e??f,height:n??d,offset:i},z?!0:m);cM(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}return U.createElement(gf,{zIndex:r.zIndex},U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement($fe,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),U.createElement(Jfe,xp({},r,{horizontalPoints:T})),U.createElement(ede,xp({},r,{verticalPoints:L})),U.createElement(Zfe,xp({},r,{offset:i,horizontalPoints:T,xAxis:E,yAxis:S})),U.createElement(Qfe,xp({},r,{offset:i,verticalPoints:L,xAxis:E,yAxis:S}))))}CH.displayName="CartesianGrid";var RH=(t,e,n,i)=>CV(t,"xAxis",e,i),OH=(t,e,n,i)=>TV(t,"xAxis",e,i),DH=(t,e,n,i)=>CV(t,"yAxis",n,i),NH=(t,e,n,i)=>TV(t,"yAxis",n,i),rde=Be([Si,RH,DH,OH,NH],(t,e,n,i,r)=>Hd(t,"xAxis")?lM(e,i,!1):lM(n,r,!1)),ade=(t,e,n,i,r)=>r;function sde(t){return t.type==="line"}var ode=Be([Kk,ade],(t,e)=>t.filter(sde).find(n=>n.id===e)),lde=Be([Si,RH,DH,OH,NH,ode,rde,mD],(t,e,n,i,r,a,s,o)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=o;if(!(a==null||e==null||n==null||i==null||r==null||i.length===0||r.length===0||s==null)){var{dataKey:m,data:v}=a,y;if(v!=null&&v.length>0?y=v:y=c?.slice(f,d+1),y!=null)return Rde({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataKey:m,bandSize:s,displayedData:y})}});function cde(t){var e=YE(t),n=3,i=2;if(e!=null){var{r,strokeWidth:a}=e,s=Number(r),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=i),{r:s,strokeWidth:o}}return{r:n,strokeWidth:i}}var ude=["id"],fde=["type","layout","connectNulls","needClip","shape"],dde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},bx.apply(null,arguments)}function Az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(n),!0).forEach(function(i){hde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function hde(t,e,n){return(e=pde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $D(t,e){if(t==null)return{};var n,i,r=gde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var vde=t=>{var{dataKey:e,name:n,stroke:i,legendType:r,hide:a}=t;return[{inactive:a,dataKey:e,type:r,color:i,value:bF(n,e),payload:t}]};function yde(t){var{dataKey:e,data:n,stroke:i,strokeWidth:r,fill:a,name:s,hide:o,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:bF(s,e),hide:o,type:t.tooltipType,color:t.stroke,unit:c}}}var PH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xde(t,e){for(var n=t.length%2!==0?[...t,0]:t,i=[],r=0;r<e;++r)i=[...i,...n];return i}var bde=(t,e,n)=>{var i=n.reduce((m,v)=>m+v);if(!i)return PH(e,t);for(var r=Math.floor(t/i),a=t%i,s=e-t,o=[],c=0,f=0;c<n.length;f+=n[c],++c)if(f+n[c]>a){o=[...n.slice(0,c),a-f];break}var d=o.length%2===0?[0,s]:[s];return[...xde(n,r),...o,...d].map(m=>"".concat(m,"px")).join(", ")};function _de(t){var{clipPathId:e,points:n,props:i}=t,{dot:r,dataKey:a,needClip:s}=i,{id:o}=i,c=$D(i,ude),f=Yc(c);return U.createElement(Nue,{points:n,dot:r,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function Sde(t){var{showLabels:e,children:n,points:i}=t,r=U.useMemo(()=>i?.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Uc(Uc({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[i]);return U.createElement(kce,{value:e?r:void 0},n)}function Tz(t){var{clipPathId:e,pathRef:n,points:i,strokeDasharray:r,props:a}=t,{type:s,layout:o,connectNulls:c,needClip:f,shape:d}=a,m=$D(a,fde),v=Uc(Uc({},ps(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:i,type:s,layout:o,connectNulls:c,strokeDasharray:r??a.strokeDasharray});return U.createElement(U.Fragment,null,i?.length>1&&U.createElement(fue,bx({shapeType:"curve",option:d},v,{pathRef:n})),U.createElement(_de,{points:i,clipPathId:e,props:a}))}function Mde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Ede(t){var{clipPathId:e,props:n,pathRef:i,previousPointsRef:r,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:f,animationDuration:d,animationEasing:m,animateNewValues:v,width:y,height:_,onAnimationEnd:E,onAnimationStart:S}=n,M=r.current,C=qO(n,"recharts-line-"),[T,L]=U.useState(!1),P=!T,N=U.useCallback(()=>{typeof E=="function"&&E(),L(!1)},[E]),z=U.useCallback(()=>{typeof S=="function"&&S(),L(!0)},[S]),F=Mde(i.current),I=a.current;return U.createElement(Sde,{points:s,showLabels:P},n.children,U.createElement(GO,{animationId:C,begin:f,duration:d,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:z,key:C},j=>{var k=zs(I,F+I,j),Z=Math.min(k,F),ee;if(c)if(o){var re="".concat(o).split(/[,\s]+/gim).map(X=>parseFloat(X));ee=bde(Z,F,re)}else ee=PH(F,Z);else ee=o==null?void 0:String(o);if(M){var ae=M.length/s.length,H=j===1?s:s.map((X,K)=>{var ne=Math.floor(K*ae);if(M[ne]){var q=M[ne];return Uc(Uc({},X),{},{x:zs(q.x,X.x,j),y:zs(q.y,X.y,j)})}return v?Uc(Uc({},X),{},{x:zs(y*2,X.x,j),y:zs(_/2,X.y,j)}):Uc(Uc({},X),{},{x:X.x,y:X.y})});return r.current=H,U.createElement(Tz,{props:n,points:H,clipPathId:e,pathRef:i,strokeDasharray:ee})}return j>0&&F>0&&(r.current=s,a.current=Z),U.createElement(Tz,{props:n,points:s,clipPathId:e,pathRef:i,strokeDasharray:ee})}),U.createElement(Gce,{label:n.label}))}function wde(t){var{clipPathId:e,props:n}=t,i=U.useRef(null),r=U.useRef(0),a=U.useRef(null);return U.createElement(Ede,{props:n,clipPathId:e,previousPointsRef:i,longestAnimatedLengthRef:r,pathRef:a})}var Ade=(t,e)=>{var n,i;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(i=t.y)!==null&&i!==void 0?i:void 0,value:t.value,errorVal:ds(t.payload,e)}};class Tde extends U.Component{render(){var{hide:e,dot:n,points:i,className:r,xAxisId:a,yAxisId:s,top:o,left:c,width:f,height:d,id:m,needClip:v,zIndex:y}=this.props;if(e)return null;var _=pi("recharts-line",r),E=m,{r:S,strokeWidth:M}=cde(n),C=yH(n),T=S*2+M;return U.createElement(gf,{zIndex:y},U.createElement(Pd,{className:_},v&&U.createElement("defs",null,U.createElement(afe,{clipPathId:E,xAxisId:a,yAxisId:s}),!C&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:c-T/2,y:o-T/2,width:f+T,height:d+T}))),U.createElement(rfe,{xAxisId:a,yAxisId:s,data:i,dataPointFormatter:Ade,errorBarOffset:0},U.createElement(wde,{props:this.props,clipPathId:E}))),U.createElement($ue,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var LH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Sg.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:us.line};function Cde(t){var e=Xs(t,LH),{activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:f,isAnimationActive:d,label:m,legendType:v,xAxisId:y,yAxisId:_,id:E}=e,S=$D(e,dde),{needClip:M}=MH(y,_),C=qD(),T=uw(),L=Ys(),P=kt(j=>lde(j,y,_,L,E));if(T!=="horizontal"&&T!=="vertical"||P==null||C==null)return null;var{height:N,width:z,x:F,y:I}=C;return U.createElement(Tde,bx({},S,{id:E,connectNulls:o,dot:c,activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:f,label:m,legendType:v,xAxisId:y,yAxisId:_,points:P,layout:T,height:N,width:z,left:F,top:I,needClip:M}))}function Rde(t){var{layout:e,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=t;return c.map((f,d)=>{var m=ds(f,s);if(e==="horizontal"){var v=o4({axis:n,ticks:r,bandSize:o,entry:f,index:d}),y=$r(m)?null:i.scale(m);return{x:v,y,value:m,payload:f}}var _=$r(m)?null:n.scale(m),E=o4({axis:i,ticks:a,bandSize:o,entry:f,index:d});return _==null||E==null?null:{x:_,y:E,value:m,payload:f}}).filter(Boolean)}function Ode(t){var e=Xs(t,LH),n=Ys();return U.createElement(vue,{id:e.id,type:"line"},i=>U.createElement(U.Fragment,null,U.createElement(hue,{legendPayload:vde(e)}),U.createElement(due,{fn:yde,args:e}),U.createElement(Mue,{type:"line",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),U.createElement(Cde,bx({},e,{id:i}))))}var UH=U.memo(Ode);UH.displayName="Line";var Dde=["dangerouslySetInnerHTML","ticks"],Nde=["id"],Pde=["domain"],Lde=["domain"];function yR(){return yR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yR.apply(null,arguments)}function LM(t,e){if(t==null)return{};var n,i,r=Ude(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ude(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ide(t){var e=Qr();return U.useLayoutEffect(()=>(e(zue(t)),()=>{e(Bue(t))}),[t,e]),null}var zde=t=>{var{xAxisId:e,className:n}=t,i=kt(SF),r=Ys(),a="xAxis",s=kt(S=>Cg(S,a,e,r)),o=kt(S=>AV(S,a,e,r)),c=kt(S=>xse(S,e)),f=kt(S=>wse(S,e)),d=kt(S=>qk(S,e));if(c==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=t,y=LM(t,Dde),{id:_}=d,E=LM(d,Nde);return U.createElement(KD,yR({},y,E,{scale:s,x:f.x,y:f.y,width:c.width,height:c.height,className:pi("recharts-".concat(a," ").concat(a),n),viewBox:i,ticks:o,axisType:a}))},Bde={allowDataOverflow:go.allowDataOverflow,allowDecimals:go.allowDecimals,allowDuplicatedCategory:go.allowDuplicatedCategory,height:go.height,hide:!1,mirror:go.mirror,orientation:go.orientation,padding:go.padding,reversed:go.reversed,scale:go.scale,tickCount:go.tickCount,type:go.type,xAxisId:0},jde=t=>{var e,n,i,r,a,s=Xs(t,Bde);return U.createElement(U.Fragment,null,U.createElement(Ide,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(i=s.angle)!==null&&i!==void 0?i:0,minTickGap:(r=s.minTickGap)!==null&&r!==void 0?r:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),U.createElement(zde,s))},Fde=(t,e)=>{var{domain:n}=t,i=LM(t,Pde),{domain:r}=e,a=LM(e,Lde);return tg(i,a)?Array.isArray(n)&&n.length===2&&Array.isArray(r)&&r.length===2?n[0]===r[0]&&n[1]===r[1]:tg({domain:n},{domain:r}):!1},IH=U.memo(jde,Fde);IH.displayName="XAxis";var kde=["dangerouslySetInnerHTML","ticks"],Vde=["id"],Hde=["domain"],Gde=["domain"];function xR(){return xR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xR.apply(null,arguments)}function UM(t,e){if(t==null)return{};var n,i,r=qde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Xde(t){var e=Qr();return U.useLayoutEffect(()=>(e(jue(t)),()=>{e(Fue(t))}),[t,e]),null}var Wde=t=>{var{yAxisId:e,className:n,width:i,label:r}=t,a=U.useRef(null),s=U.useRef(null),o=kt(SF),c=Ys(),f=Qr(),d="yAxis",m=kt(P=>Cg(P,d,e,c)),v=kt(P=>Cse(P,e)),y=kt(P=>Tse(P,e)),_=kt(P=>AV(P,d,e,c)),E=kt(P=>Xk(P,e));if(U.useLayoutEffect(()=>{if(!(i!=="auto"||!v||GD(r)||U.isValidElement(r)||E==null)){var P=a.current;if(P){var N=P.getCalculatedWidth();Math.round(v.width)!==Math.round(N)&&f(kue({id:e,width:N}))}}},[_,v,f,r,e,i,E]),v==null||y==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:M}=t,C=UM(t,kde),{id:T}=E,L=UM(E,Vde);return U.createElement(KD,xR({},C,L,{ref:a,labelRef:s,scale:m,x:y.x,y:y.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:v.width,height:v.height,className:pi("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:_,axisType:d}))},Yde={allowDataOverflow:vo.allowDataOverflow,allowDecimals:vo.allowDecimals,allowDuplicatedCategory:vo.allowDuplicatedCategory,hide:!1,mirror:vo.mirror,orientation:vo.orientation,padding:vo.padding,reversed:vo.reversed,scale:vo.scale,tickCount:vo.tickCount,type:vo.type,width:vo.width,yAxisId:0},Kde=t=>{var e,n,i,r,a,s=Xs(t,Yde);return U.createElement(U.Fragment,null,U.createElement(Xde,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(i=s.angle)!==null&&i!==void 0?i:0,minTickGap:(r=s.minTickGap)!==null&&r!==void 0?r:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),U.createElement(Wde,s))},$de=(t,e)=>{var{domain:n}=t,i=UM(t,Hde),{domain:r}=e,a=UM(e,Gde);return tg(i,a)?Array.isArray(n)&&n.length===2&&Array.isArray(r)&&r.length===2?n[0]===r[0]&&n[1]===r[1]:tg({domain:n},{domain:r}):!1},zH=U.memo(Kde,$de);zH.displayName="YAxis";var B2={exports:{}},j2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cz;function Zde(){if(Cz)return j2;Cz=1;var t=kd();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return j2.useSyncExternalStoreWithSelector=function(c,f,d,m,v){var y=r(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=s(function(){function S(P){if(!M){if(M=!0,C=P,P=m(P),v!==void 0&&_.hasValue){var N=_.value;if(v(N,P))return T=N}return T=P}if(N=T,n(C,P))return N;var z=m(P);return v!==void 0&&v(N,z)?(C=P,N):(C=P,T=z)}var M=!1,C,T,L=d===void 0?null:d;return[function(){return S(f())},L===null?void 0:function(){return S(L())}]},[f,d,m,v]);var E=i(c,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=E},[E]),o(E),E},j2}var Rz;function Qde(){return Rz||(Rz=1,B2.exports=Zde()),B2.exports}Qde();function Jde(t){t()}function ehe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Jde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var Oz={notify(){},get:()=>[]};function the(t,e){let n,i=Oz,r=0,a=!1;function s(E){d();const S=i.subscribe(E);let M=!1;return()=>{M||(M=!0,S(),m())}}function o(){i.notify()}function c(){_.onStateChange&&_.onStateChange()}function f(){return a}function d(){r++,n||(n=t.subscribe(c),i=ehe())}function m(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=Oz)}function v(){a||(a=!0,d())}function y(){a&&(a=!1,m())}const _={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>i};return _}var nhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ihe=nhe(),rhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ahe=rhe(),she=()=>ihe||ahe?U.useLayoutEffect:U.useEffect,ohe=she(),lhe=Symbol.for("react-redux-context"),che=typeof globalThis<"u"?globalThis:{};function uhe(){if(!U.createContext)return{};const t=che[lhe]??=new Map;let e=t.get(U.createContext);return e||(e=U.createContext(null),t.set(U.createContext,e)),e}var fhe=uhe();function dhe(t){const{children:e,context:n,serverState:i,store:r}=t,a=U.useMemo(()=>{const c=the(r);return{store:r,subscription:c,getServerState:i?()=>i:void 0}},[r,i]),s=U.useMemo(()=>r.getState(),[r]);ohe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=n||fhe;return U.createElement(o.Provider,{value:a},e)}var hhe=dhe,phe=(t,e)=>e,ZD=Be([phe,Si,Vk,kr,GV,mf,joe,va],Xoe),QD=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},BH=el("mouseClick"),jH=rb();jH.startListening({actionCreator:BH,effect:(t,e)=>{var n=t.payload,i=ZD(e.getState(),QD(n));i?.activeIndex!=null&&e.dispatch(Fse({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var bR=el("mouseMove"),FH=rb();FH.startListening({actionCreator:bR,effect:(t,e)=>{var n=t.payload,i=e.getState(),r=LD(i,i.tooltip.settings.shared),a=ZD(i,QD(n));r==="axis"&&(a?.activeIndex!=null?e.dispatch(UV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(LV()))}});var Dz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},kH=Ws({name:"rootProps",initialState:Dz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Dz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),mhe=kH.reducer,{updateOptions:ghe}=kH.actions,VH=Ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:v2e}=VH.actions,vhe=VH.reducer,HH=el("keyDown"),GH=el("focus"),JD=rb();JD.startListening({actionCreator:HH,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(UD(r,Og(n))),o=mf(n);if(a==="Enter"){var c=TM(n,"axis","hover",String(r.index));e.dispatch(fR({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}));return}var f=Nse(n),d=f==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,v=s+m*d;if(!(o==null||v>=o.length||v<0)){var y=TM(n,"axis","hover",String(v));e.dispatch(fR({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});JD.startListening({actionCreator:GH,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",s=TM(n,"axis","hover",String(a));e.dispatch(fR({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Yo=el("externalEvent"),qH=rb();qH.startListening({actionCreator:Yo,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),i={activeCoordinate:Moe(n),activeDataKey:_oe(n),activeIndex:yx(n),activeLabel:WV(n),activeTooltipIndex:yx(n),isTooltipActive:Eoe(n)};t.payload.handler(i,t.payload.reactEvent)}}});var yhe=Be([Rg],t=>t.tooltipItemPayloads),xhe=Be([yhe,pb,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,i)=>{var r=t.find(o=>o.settings.dataKey===i);if(r!=null){var{positions:a}=r;if(a!=null){var s=e(a,n);return s}}}),XH=el("touchMove"),WH=rb();WH.startListening({actionCreator:XH,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var i=e.getState(),r=LD(i,i.tooltip.settings.shared);if(r==="axis"){var a=ZD(i,QD({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(UV({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(r==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(Iee),d=(s=c.getAttribute(zee))!==null&&s!==void 0?s:void 0,m=xhe(e.getState(),f,d);e.dispatch(jse({activeDataKey:d,activeIndex:f,activeCoordinate:m}))}}}});var bhe=X8({brush:ofe,cartesianAxis:Vue,chartData:Ele,errorBars:Que,graphicalItems:Sue,layout:bee,legend:vte,options:xle,polarAxis:Xce,polarOptions:vhe,referenceElements:pfe,rootProps:mhe,tooltip:kse,zIndex:sle}),_he=function(e){return qJ({reducer:bhe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([jH.middleware,FH.middleware,JD.middleware,qH.middleware,WH.middleware]),enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(rF({type:"raf"}))},devTools:Sg.devToolsEnabled})};function She(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=Ys(),a=U.useRef(null);if(r)return n;a.current==null&&(a.current=_he(e));var s=zO;return U.createElement(hhe,{context:s,store:a.current},n)}function Mhe(t){var{layout:e,margin:n}=t,i=Qr(),r=Ys();return U.useEffect(()=>{r||(i(vee(e)),i(gee(n)))},[i,r,e,n]),null}function Ehe(t){var e=Qr();return U.useEffect(()=>{e(ghe(t))},[e,t]),null}function Nz(t){var{zIndex:e,isPanorama:n}=t,i=n?"recharts-zindex-panorama-":"recharts-zindex-",r=xH("".concat(i).concat(e)),a=Qr();return U.useLayoutEffect(()=>(a(rle({zIndex:e,elementId:r,isPanorama:n})),()=>{a(ale({zIndex:e,isPanorama:n}))}),[a,e,r,n]),U.createElement("g",{id:r})}function Pz(t){var{children:e,isPanorama:n}=t,i=kt(Yoe);if(!i||i.length===0)return e;var r=i.filter(s=>s<0),a=i.filter(s=>s>0);return U.createElement(U.Fragment,null,r.map(s=>U.createElement(Nz,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>U.createElement(Nz,{key:s,zIndex:s,isPanorama:n})))}var whe=["children"];function Ahe(t,e){if(t==null)return{};var n,i,r=The(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function The(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function IM(){return IM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},IM.apply(null,arguments)}var Che={width:"100%",height:"100%",display:"block"},Rhe=U.forwardRef((t,e)=>{var n=CF(),i=RF(),r=DF();if(!Zc(n)||!Zc(i))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,f,d;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=r?0:void 0,typeof s.role=="string"?d=s.role:d=r?"application":void 0),U.createElement(l8,IM({},s,{title:o,desc:c,role:d,tabIndex:f,width:n,height:i,style:Che,ref:e}),a)}),Ohe=t=>{var{children:e}=t,n=kt(lw);if(!n)return null;var{width:i,height:r,y:a,x:s}=n;return U.createElement(l8,{width:i,height:r,x:s,y:a},e)},Lz=U.forwardRef((t,e)=>{var{children:n}=t,i=Ahe(t,whe),r=Ys();return r?U.createElement(Ohe,null,U.createElement(Pz,{isPanorama:!0},n)):U.createElement(Rhe,IM({ref:e},i),U.createElement(Pz,{isPanorama:!1},n))});function Dhe(){var t=Qr(),[e,n]=U.useState(null),i=kt(Uee);return U.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),a=r.width/e.offsetWidth;Zr(a)&&a!==i&&t(xee(a))}},[e,t,i]),n}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Nhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(i){Phe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Phe(t,e,n){return(e=Lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=Uhe(t,"string");return typeof e=="symbol"?e:e+""}function Uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vp.apply(null,arguments)}var Ihe=()=>(Ple(),null);function zM(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var zhe=U.forwardRef((t,e)=>{var n,i,r=U.useRef(null),[a,s]=U.useState({containerWidth:zM((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:zM((i=t.style)===null||i===void 0?void 0:i.height)}),o=U.useCallback((f,d)=>{s(m=>{var v=Math.round(f),y=Math.round(d);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),c=U.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=f.getBoundingClientRect();o(d,m);var v=_=>{var{width:E,height:S}=_[0].contentRect;o(E,S)},y=new ResizeObserver(v);y.observe(f),r.current=y}},[e,o]);return U.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[o]),U.createElement(U.Fragment,null,U.createElement(fw,{width:a.containerWidth,height:a.containerHeight}),U.createElement("div",Vp({ref:c},t)))}),Bhe=U.forwardRef((t,e)=>{var{width:n,height:i}=t,[r,a]=U.useState({containerWidth:zM(n),containerHeight:zM(i)}),s=U.useCallback((c,f)=>{a(d=>{var m=Math.round(c),v=Math.round(f);return d.containerWidth===m&&d.containerHeight===v?d:{containerWidth:m,containerHeight:v}})},[]),o=U.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:f,height:d}=c.getBoundingClientRect();s(f,d)}},[e,s]);return U.createElement(U.Fragment,null,U.createElement(fw,{width:r.containerWidth,height:r.containerHeight}),U.createElement("div",Vp({ref:o},t)))}),jhe=U.forwardRef((t,e)=>{var{width:n,height:i}=t;return U.createElement(U.Fragment,null,U.createElement(fw,{width:n,height:i}),U.createElement("div",Vp({ref:e},t)))}),Fhe=U.forwardRef((t,e)=>{var{width:n,height:i}=t;return $u(n)||$u(i)?U.createElement(Bhe,Vp({},t,{ref:e})):U.createElement(jhe,Vp({},t,{ref:e}))});function khe(t){return t===!0?zhe:Fhe}var Vhe=U.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:f,onMouseLeave:d,onMouseMove:m,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:E,style:S,width:M,responsive:C,dispatchTouchEvents:T=!0}=t,L=U.useRef(null),P=Qr(),[N,z]=U.useState(null),[F,I]=U.useState(null),j=Dhe(),k=HO(),Z=k?.width>0?k.width:M,ee=k?.height>0?k.height:r,re=U.useCallback(xe=>{j(xe),typeof e=="function"&&e(xe),z(xe),I(xe),xe!=null&&(L.current=xe)},[j,e,z,I]),ae=U.useCallback(xe=>{P(BH(xe)),P(Yo({handler:a,reactEvent:xe}))},[P,a]),H=U.useCallback(xe=>{P(bR(xe)),P(Yo({handler:f,reactEvent:xe}))},[P,f]),X=U.useCallback(xe=>{P(LV()),P(Yo({handler:d,reactEvent:xe}))},[P,d]),K=U.useCallback(xe=>{P(bR(xe)),P(Yo({handler:m,reactEvent:xe}))},[P,m]),ne=U.useCallback(()=>{P(GH())},[P]),q=U.useCallback(xe=>{P(HH(xe.key))},[P]),se=U.useCallback(xe=>{P(Yo({handler:s,reactEvent:xe}))},[P,s]),ge=U.useCallback(xe=>{P(Yo({handler:o,reactEvent:xe}))},[P,o]),_e=U.useCallback(xe=>{P(Yo({handler:c,reactEvent:xe}))},[P,c]),Ae=U.useCallback(xe=>{P(Yo({handler:v,reactEvent:xe}))},[P,v]),Qe=U.useCallback(xe=>{P(Yo({handler:E,reactEvent:xe}))},[P,E]),pe=U.useCallback(xe=>{T&&P(XH(xe)),P(Yo({handler:_,reactEvent:xe}))},[P,T,_]),Le=U.useCallback(xe=>{P(Yo({handler:y,reactEvent:xe}))},[P,y]),Ye=khe(C);return U.createElement(tH.Provider,{value:N},U.createElement(RZ.Provider,{value:F},U.createElement(Ye,{width:Z??S?.width,height:ee??S?.height,className:pi("recharts-wrapper",i),style:Nhe({position:"relative",cursor:"default",width:Z,height:ee},S),onClick:ae,onContextMenu:se,onDoubleClick:ge,onFocus:ne,onKeyDown:q,onMouseDown:_e,onMouseEnter:H,onMouseLeave:X,onMouseMove:K,onMouseUp:Ae,onTouchEnd:Le,onTouchMove:pe,onTouchStart:Qe,ref:re},U.createElement(Ihe,null),n)))}),Hhe=["width","height","responsive","children","className","style","compact","title","desc"];function Ghe(t,e){if(t==null)return{};var n,i,r=qhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qhe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Xhe=U.forwardRef((t,e)=>{var{width:n,height:i,responsive:r,children:a,className:s,style:o,compact:c,title:f,desc:d}=t,m=Ghe(t,Hhe),v=Yc(m);return c?U.createElement(U.Fragment,null,U.createElement(fw,{width:n,height:i}),U.createElement(Lz,{otherAttributes:v,title:f,desc:d},a)):U.createElement(Vhe,{className:s,style:o,width:n,height:i,responsive:r??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},U.createElement(Lz,{otherAttributes:v,title:f,desc:d,ref:e},U.createElement(gfe,null,a)))});function _R(){return _R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_R.apply(null,arguments)}var Whe={top:5,right:5,bottom:5,left:5},Yhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Whe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Khe=U.forwardRef(function(e,n){var i,r=Xs(e.categoricalChartProps,Yhe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return U.createElement(She,{preloadedState:{options:d},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:a},U.createElement(sfe,{chartData:f.data}),U.createElement(Mhe,{layout:r.layout,margin:r.margin}),U.createElement(Ehe,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),U.createElement(Xhe,_R({},r,{ref:n})))}),$he=["axis"],Zhe=U.forwardRef((t,e)=>U.createElement(Khe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$he,tooltipPayloadSearcher:vle,categoricalChartProps:t,ref:e}));const Qhe=()=>{const t=[],e=new Date;for(let n=11;n>=0;n--){const i=new Date(e);i.setHours(i.getHours()-n);const r=22,a=Math.sin(n*.5)*2+Math.random()*1.5,s=r+a,o=n>0?r+Math.sin((n-1)*.5)*2:s,c=s>o?"up":"down";t.push({hora:i.getHours().toString().padStart(2,"0")+":00",temperatura:Number(s.toFixed(1)),calidad:Math.floor(Math.random()*40)+60,humedad:Math.floor(Math.random()*30)+40,tendencia:c})}return t},Iz=t=>{const e=[],n=new Date;for(let i=6;i>=0;i--){const r=new Date(n);r.setDate(r.getDate()-i);const s=i===0?t:Math.floor(Math.random()*5)+22;e.push({fecha:r.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"}),temperatura:s,horasUso:Math.floor(Math.random()*8)+4,consumo:(Math.random()*4+2).toFixed(1)})}return e},YH=()=>{const[t,e]=U.useState(!1),[n,i]=U.useState(20),[r,a]=U.useState("medium"),[s,o]=U.useState(!1),c=U.useRef(null),f=U.useMemo(()=>Qhe(),[]),[d,m]=U.useState(()=>Iz(n));U.useEffect(()=>{m(Iz(n))},[n]);const v=()=>{t&&n<30&&i(N=>N+1)},y=()=>{t&&n>16&&i(N=>N-1)},_=N=>{t&&i(parseInt(N.target.value))},E=()=>{t&&a(r==="low"?"medium":r==="medium"?"high":"low")},S=()=>r==="low"?"Bajo":r==="medium"?"Medio":"Alto",M=()=>{const z=[["Fecha","Temperatura (C)","Horas de Uso","Consumo (kWh)"].join(","),...d.map(j=>`${j.fecha},${j.temperatura},${j.horasUso},${j.consumo}`)].join(`
`),F=new Blob([z],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a");I.href=URL.createObjectURL(F),I.download="datos_aire_acondicionado_7dias.csv",I.click()},C=f[f.length-1]?.tendencia||"up",T=f[f.length-1]?.temperatura||n,L=f[f.length-2]?.temperatura||T,P=Number((T-L).toFixed(1));return R.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-3 border h-[190px] w-full overflow-hidden",children:[R.jsx("div",{ref:c,className:"w-full h-full perspective-1000",children:R.jsxs("div",{className:"relative w-full h-full transition-transform duration-700 preserve-3d",style:{transformStyle:"preserve-3d",transform:s?"rotateY(180deg)":"rotateY(0deg)"},children:[R.jsx("div",{className:"absolute inset-0 backface-hidden",children:R.jsxs("div",{className:"grid grid-cols-3 gap-0 h-full",children:[R.jsxs("div",{className:"flex flex-col justify-between",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsx("button",{onClick:()=>console.log("Abrir configuracin"),className:"w-6 h-6 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Configuracin",children:R.jsx(YS,{size:14})}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${t?"bg-blue-500":"bg-gray-200"}`,children:R.jsx(_K,{className:`${t?"text-white":"text-gray-400"}`,size:16})}),R.jsxs("div",{className:"text-center",children:[R.jsx("h2",{className:"text-gray-900 font-bold text-sm",children:"A/C"}),R.jsx("p",{className:`text-xs font-medium ${t?"text-green-600":"text-red-400"}`,children:t?"Encendido":"Apagado"})]})]}),R.jsx("div",{className:"w-6"})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("button",{onClick:()=>e(!t),className:`w-full py-1.5 rounded-lg font-semibold text-xs transition-all ${t?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:R.jsxs("div",{className:"flex items-center justify-center gap-1",children:[R.jsx(hK,{size:14}),t?"Apagar":"Encender"]})}),R.jsx("button",{onClick:E,disabled:!t,className:`w-full py-1.5 rounded-lg font-semibold text-xs ${t?"bg-gray-100 hover:bg-gray-200 text-gray-900":"bg-gray-50 text-gray-300 cursor-not-allowed"}`,children:R.jsxs("div",{className:"flex items-center justify-center gap-1",children:[R.jsx(NK,{size:14}),S()]})}),R.jsx("button",{onClick:()=>o(!0),className:"w-full py-1.5 rounded-lg font-semibold text-xs bg-blue-500 hover:bg-blue-600 text-white transition-all",children:R.jsxs("div",{className:"flex items-center justify-center gap-1",children:[R.jsx(sx,{size:14}),"Estadsticas"]})})]})]}),R.jsxs("div",{className:"flex flex-col items-center justify-center",children:[R.jsxs("div",{className:`text-4xl font-bold ${t?"text-gray-900":"text-gray-300"}`,children:[n,""]}),R.jsx("p",{className:`text-xs font-medium mt-1 ${t?"text-gray-600":"text-gray-400"}`,children:"Temperatura"})]}),R.jsxs("div",{className:"flex flex-col justify-center gap-2",children:[R.jsx("button",{onClick:v,disabled:!t||n>=30,className:`w-full py-2 rounded-lg flex items-center justify-center ${t&&n<30?"bg-gray-100 hover:bg-gray-200 text-gray-900":"bg-gray-50 text-gray-300 cursor-not-allowed"}`,children:R.jsx(ox,{size:18})}),R.jsxs("div",{className:"px-1",children:[R.jsx("input",{type:"range",min:"16",max:"30",value:n,onChange:_,disabled:!t,className:"w-full h-1.5 rounded-full appearance-none cursor-pointer",style:{background:t?`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(n-16)/14*100}%, #e5e7eb ${(n-16)/14*100}%, #e5e7eb 100%)`:"#e5e7eb"}}),R.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500 font-medium",children:[R.jsx("span",{children:"16"}),R.jsx("span",{children:"30"})]})]}),R.jsx("button",{onClick:y,disabled:!t||n<=16,className:`w-full py-2 rounded-lg flex items-center justify-center ${t&&n>16?"bg-gray-100 hover:bg-gray-200 text-gray-900":"bg-gray-50 text-gray-300 cursor-not-allowed"}`,children:R.jsx(oK,{size:18})})]})]})}),R.jsx("div",{className:"absolute inset-0 backface-hidden",style:{transform:"rotateY(180deg)"},children:R.jsx("div",{className:"bg-white rounded-xl shadow-lg p-3 h-full border",children:R.jsxs("div",{className:"flex flex-col h-full",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-7 h-7 rounded-lg bg-blue-500 flex items-center justify-center",children:R.jsx(sx,{className:"text-white",size:14})}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-gray-900 font-bold text-sm",children:"Anlisis"}),R.jsx("p",{className:"text-gray-500 text-xs",children:"ltimas 12h"})]})]}),R.jsxs("div",{className:"bg-gray-50 rounded-lg px-3 py-1 border border-gray-200 flex items-center gap-2",children:[R.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Tendencia"}),R.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${C==="up"?"text-red-500":"text-green-500"}`,children:[C==="up"?R.jsx(TK,{size:14}):R.jsx(wK,{size:14}),P>0?"+":"",P,"C"]})]}),R.jsxs("div",{className:"flex gap-1",children:[R.jsxs("button",{onClick:M,className:"px-2 py-1 rounded-lg bg-green-500 hover:bg-green-600 text-white text-xs font-semibold flex items-center gap-1",children:[R.jsx(GY,{size:12}),"Exportar"]}),R.jsx("button",{onClick:()=>o(!1),className:"px-2 py-1 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-900",children:R.jsx(mK,{size:14})})]})]}),R.jsx("div",{className:"flex-1 bg-gray-50 rounded-lg p-2 border border-gray-200 overflow-hidden",children:R.jsx(fte,{width:"100%",height:"100%",children:R.jsxs(Zhe,{data:f,margin:{top:5,right:5,left:-25,bottom:5},children:[R.jsx(CH,{strokeDasharray:"2 2",stroke:"#e5e7eb"}),R.jsx(IH,{dataKey:"hora",stroke:"#9ca3af",tick:{fill:"#6b7280",fontSize:9}}),R.jsx(zH,{stroke:"#9ca3af",tick:{fill:"#6b7280",fontSize:9},domain:["dataMin - 1","dataMax + 1"]}),R.jsx(kle,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"11px"},formatter:N=>[`${N}C`,"Temperatura"]}),R.jsx(UH,{type:"monotone",dataKey:"temperatura",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:1.5},activeDot:{r:3,fill:"#3b82f6"}})]})})})]})})})]})}),R.jsx("style",{children:`
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .perspective-1000 { perspective: 1000px; }
                input[type="range"]::-webkit-slider-thumb {
                    appearance: none;
                    width: 14px;
                    height: 14px;
                    border-radius: 50%;
                    background: #3b82f6;
                    cursor: pointer;
                    border: 2px solid white;
                    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
                }
                input[type="range"]::-moz-range-thumb {
                    width: 14px;
                    height: 14px;
                    border-radius: 50%;
                    background: #3b82f6;
                    cursor: pointer;
                    border: 2px solid white;
                    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
                }
                input[type="range"]:disabled::-webkit-slider-thumb,
                input[type="range"]:disabled::-moz-range-thumb {
                    background: #d1d5db;
                    box-shadow: none;
                }
            `})]})};var F2={exports:{}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(i){Jhe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PS(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?PS=function(e){return typeof e}:PS=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PS(t)}function Jhe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nl(){return nl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nl.apply(this,arguments)}function epe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function tpe(t,e){if(t==null)return{};var n=epe(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function npe(t){return ipe(t)||rpe(t)||ape(t)||spe()}function ipe(t){if(Array.isArray(t))return SR(t)}function rpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ape(t,e){if(t){if(typeof t=="string")return SR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(t,e)}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function spe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ope="1.15.6";function Wu(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var vf=Wu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),gb=Wu(/Edge/i),Bz=Wu(/firefox/i),By=Wu(/safari/i)&&!Wu(/chrome/i)&&!Wu(/android/i),eN=Wu(/iP(ad|od|hone)/i),KH=Wu(/chrome/i)&&Wu(/android/i),$H={capture:!1,passive:!1};function Mn(t,e,n){t.addEventListener(e,n,!vf&&$H)}function xn(t,e,n){t.removeEventListener(e,n,!vf&&$H)}function BM(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ZH(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Is(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&BM(t,e):BM(t,e))||i&&t===n)return t;if(t===n)break}while(t=ZH(t))}return null}var jz=/\s+/g;function Bi(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(jz," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(jz," ")}}function Nt(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function Op(t,e){var n="";if(typeof t=="string")n=t;else do{var i=Nt(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function QH(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function kc(){var t=document.scrollingElement;return t||document.documentElement}function _i(t,e,n,i,r){if(!(!t.getBoundingClientRect&&t!==window)){var a,s,o,c,f,d,m;if(t!==window&&t.parentNode&&t!==kc()?(a=t.getBoundingClientRect(),s=a.top,o=a.left,c=a.bottom,f=a.right,d=a.height,m=a.width):(s=0,o=0,c=window.innerHeight,f=window.innerWidth,d=window.innerHeight,m=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!vf))do if(r&&r.getBoundingClientRect&&(Nt(r,"transform")!=="none"||n&&Nt(r,"position")!=="static")){var v=r.getBoundingClientRect();s-=v.top+parseInt(Nt(r,"border-top-width")),o-=v.left+parseInt(Nt(r,"border-left-width")),c=s+a.height,f=o+a.width;break}while(r=r.parentNode);if(i&&t!==window){var y=Op(r||t),_=y&&y.a,E=y&&y.d;y&&(s/=E,o/=_,m/=_,d/=E,c=s+d,f=o+m)}return{top:s,left:o,bottom:c,right:f,width:m,height:d}}}function Fz(t,e,n){for(var i=Rd(t,!0),r=_i(t)[e];i;){var a=_i(i)[n],s=void 0;if(s=r>=a,!s)return i;if(i===kc())break;i=Rd(i,!1)}return!1}function ng(t,e,n,i){for(var r=0,a=0,s=t.children;a<s.length;){if(s[a].style.display!=="none"&&s[a]!==Kt.ghost&&(i||s[a]!==Kt.dragged)&&Is(s[a],n.draggable,t,!1)){if(r===e)return s[a];r++}a++}return null}function tN(t,e){for(var n=t.lastElementChild;n&&(n===Kt.ghost||Nt(n,"display")==="none"||e&&!BM(n,e));)n=n.previousElementSibling;return n||null}function Ji(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Kt.clone&&(!e||BM(t,e))&&n++;return n}function kz(t){var e=0,n=0,i=kc();if(t)do{var r=Op(t),a=r.a,s=r.d;e+=t.scrollLeft*a,n+=t.scrollTop*s}while(t!==i&&(t=t.parentNode));return[e,n]}function lpe(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function Rd(t,e){if(!t||!t.getBoundingClientRect)return kc();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Nt(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return kc();if(i||e)return n;i=!0}}while(n=n.parentNode);return kc()}function cpe(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function k2(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var jy;function JH(t,e){return function(){if(!jy){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),jy=setTimeout(function(){jy=void 0},e)}}}function upe(){clearTimeout(jy),jy=void 0}function e9(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function nN(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Vz(t,e){Nt(t,"position","absolute"),Nt(t,"top",e.top),Nt(t,"left",e.left),Nt(t,"width",e.width),Nt(t,"height",e.height)}function V2(t){Nt(t,"position",""),Nt(t,"top",""),Nt(t,"left",""),Nt(t,"width",""),Nt(t,"height","")}function t9(t,e,n){var i={};return Array.from(t.children).forEach(function(r){var a,s,o,c;if(!(!Is(r,e.draggable,t,!1)||r.animated||r===n)){var f=_i(r);i.left=Math.min((a=i.left)!==null&&a!==void 0?a:1/0,f.left),i.top=Math.min((s=i.top)!==null&&s!==void 0?s:1/0,f.top),i.right=Math.max((o=i.right)!==null&&o!==void 0?o:-1/0,f.right),i.bottom=Math.max((c=i.bottom)!==null&&c!==void 0?c:-1/0,f.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var ha="Sortable"+new Date().getTime();function fpe(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(Nt(r,"display")==="none"||r===Kt.ghost)){t.push({target:r,rect:_i(r)});var a=Jc({},t[t.length-1].rect);if(r.thisAnimationDuration){var s=Op(r,!0);s&&(a.top-=s.f,a.left-=s.e)}r.fromRect=a}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(lpe(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var a=!1,s=0;t.forEach(function(o){var c=0,f=o.target,d=f.fromRect,m=_i(f),v=f.prevFromRect,y=f.prevToRect,_=o.rect,E=Op(f,!0);E&&(m.top-=E.f,m.left-=E.e),f.toRect=m,f.thisAnimationDuration&&k2(v,m)&&!k2(d,m)&&(_.top-m.top)/(_.left-m.left)===(d.top-m.top)/(d.left-m.left)&&(c=hpe(_,v,y,r.options)),k2(m,d)||(f.prevFromRect=d,f.prevToRect=m,c||(c=r.options.animation),r.animate(f,_,m,c)),c&&(a=!0,s=Math.max(s,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),a?e=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),t=[]},animate:function(i,r,a,s){if(s){Nt(i,"transition",""),Nt(i,"transform","");var o=Op(this.el),c=o&&o.a,f=o&&o.d,d=(r.left-a.left)/(c||1),m=(r.top-a.top)/(f||1);i.animatingX=!!d,i.animatingY=!!m,Nt(i,"transform","translate3d("+d+"px,"+m+"px,0)"),this.forRepaintDummy=dpe(i),Nt(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),Nt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Nt(i,"transition",""),Nt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function dpe(t){return t.offsetWidth}function hpe(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var a0=[],H2={initializeByDefault:!0},vb={mount:function(e){for(var n in H2)H2.hasOwnProperty(n)&&!(n in e)&&(e[n]=H2[n]);a0.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),a0.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var a=e+"Global";a0.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][a]&&n[s.pluginName][a](Jc({sortable:n},i)),n.options[s.pluginName]&&n[s.pluginName][e]&&n[s.pluginName][e](Jc({sortable:n},i)))})},initializePlugins:function(e,n,i,r){a0.forEach(function(o){var c=o.pluginName;if(!(!e.options[c]&&!o.initializeByDefault)){var f=new o(e,n,e.options);f.sortable=e,f.options=e.options,e[c]=f,nl(i,f.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var s=this.modifyOption(e,a,e.options[a]);typeof s<"u"&&(e.options[a]=s)}},getEventProperties:function(e,n){var i={};return a0.forEach(function(r){typeof r.eventProperties=="function"&&nl(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return a0.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[n]=="function"&&(r=a.optionListeners[n].call(e[a.pluginName],i))}),r}};function Ry(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,a=t.cloneEl,s=t.toEl,o=t.fromEl,c=t.oldIndex,f=t.newIndex,d=t.oldDraggableIndex,m=t.newDraggableIndex,v=t.originalEvent,y=t.putSortable,_=t.extraEventProperties;if(e=e||n&&n[ha],!!e){var E,S=e.options,M="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!vf&&!gb?E=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(i,!0,!0)),E.to=s||n,E.from=o||n,E.item=r||n,E.clone=a,E.oldIndex=c,E.newIndex=f,E.oldDraggableIndex=d,E.newDraggableIndex=m,E.originalEvent=v,E.pullMode=y?y.lastPutMode:void 0;var C=Jc(Jc({},_),vb.getEventProperties(i,e));for(var T in C)E[T]=C[T];n&&n.dispatchEvent(E),S[M]&&S[M].call(e,E)}}var ppe=["evt"],Os=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,a=tpe(i,ppe);vb.pluginEvent.bind(Kt)(e,n,Jc({dragEl:pt,parentEl:Zi,ghostEl:on,rootEl:Ci,nextEl:lp,lastDownEl:LS,cloneEl:zi,cloneHidden:Ad,dragStarted:Oy,putSortable:ua,activeSortable:Kt.active,originalEvent:r,oldIndex:I0,oldDraggableIndex:Fy,newIndex:yo,newDraggableIndex:Ed,hideGhostForTarget:a9,unhideGhostForTarget:s9,cloneNowHidden:function(){Ad=!0},cloneNowShown:function(){Ad=!1},dispatchSortableEvent:function(o){ss({sortable:n,name:o,originalEvent:r})}},a))};function ss(t){Ry(Jc({putSortable:ua,cloneEl:zi,targetEl:pt,rootEl:Ci,oldIndex:I0,oldDraggableIndex:Fy,newIndex:yo,newDraggableIndex:Ed},t))}var pt,Zi,on,Ci,lp,LS,zi,Ad,I0,yo,Fy,Ed,S_,ua,P0=!1,jM=!1,FM=[],Vh,Ul,G2,q2,Hz,Gz,Oy,s0,ky,Vy=!1,M_=!1,US,Ta,X2=[],MR=!1,kM=[],Rw=typeof document<"u",E_=eN,qz=gb||vf?"cssFloat":"float",mpe=Rw&&!KH&&!eN&&"draggable"in document.createElement("div"),n9=(function(){if(Rw){if(vf)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),i9=function(e,n){var i=Nt(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=ng(e,0,n),s=ng(e,1,n),o=a&&Nt(a),c=s&&Nt(s),f=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+_i(a).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+_i(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&o.float!=="none"){var m=o.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return a&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||f>=r&&i[qz]==="none"||s&&i[qz]==="none"&&f+d>r)?"vertical":"horizontal"},gpe=function(e,n,i){var r=i?e.left:e.top,a=i?e.right:e.bottom,s=i?e.width:e.height,o=i?n.left:n.top,c=i?n.right:n.bottom,f=i?n.width:n.height;return r===o||a===c||r+s/2===o+f/2},vpe=function(e,n){var i;return FM.some(function(r){var a=r[ha].options.emptyInsertThreshold;if(!(!a||tN(r))){var s=_i(r),o=e>=s.left-a&&e<=s.right+a,c=n>=s.top-a&&n<=s.bottom+a;if(o&&c)return i=r}}),i},r9=function(e){function n(a,s){return function(o,c,f,d){var m=o.options.group.name&&c.options.group.name&&o.options.group.name===c.options.group.name;if(a==null&&(s||m))return!0;if(a==null||a===!1)return!1;if(s&&a==="clone")return a;if(typeof a=="function")return n(a(o,c,f,d),s)(o,c,f,d);var v=(s?o:c).options.group.name;return a===!0||typeof a=="string"&&a===v||a.join&&a.indexOf(v)>-1}}var i={},r=e.group;(!r||PS(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},a9=function(){!n9&&on&&Nt(on,"display","none")},s9=function(){!n9&&on&&Nt(on,"display","")};Rw&&!KH&&document.addEventListener("click",function(t){if(jM)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),jM=!1,!1},!0);var Hh=function(e){if(pt){e=e.touches?e.touches[0]:e;var n=vpe(e.clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[ha]._onDragOver(i)}}},ype=function(e){pt&&pt.parentNode[ha]._isOutsideThisEl(e.target)};function Kt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=nl({},e),t[ha]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return i9(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,o){s.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Kt.supportPointer!==!1&&"PointerEvent"in window&&(!By||eN),emptyInsertThreshold:5};vb.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);r9(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:mpe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Mn(t,"pointerdown",this._onTapStart):(Mn(t,"mousedown",this._onTapStart),Mn(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Mn(t,"dragover",this),Mn(t,"dragenter",this)),FM.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),nl(this,fpe())}Kt.prototype={constructor:Kt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(s0=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,pt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,a=r.preventOnFilter,s=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(o||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,d=r.filter;if(Ape(i),!pt&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||r.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&By&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Is(c,r.draggable,i,!1),!(c&&c.animated)&&LS!==c)){if(I0=Ji(c),Fy=Ji(c,r.draggable),typeof d=="function"){if(d.call(this,e,c,this)){ss({sortable:n,rootEl:f,name:"filter",targetEl:c,toEl:i,fromEl:i}),Os("filter",n,{evt:e}),a&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(m){if(m=Is(f,m.trim(),i,!1),m)return ss({sortable:n,rootEl:m,name:"filter",targetEl:c,fromEl:i,toEl:i}),Os("filter",n,{evt:e}),!0}),d)){a&&e.preventDefault();return}r.handle&&!Is(f,r.handle,i,!1)||this._prepareDragStart(e,o,c)}}},_prepareDragStart:function(e,n,i){var r=this,a=r.el,s=r.options,o=a.ownerDocument,c;if(i&&!pt&&i.parentNode===a){var f=_i(i);if(Ci=a,pt=i,Zi=pt.parentNode,lp=pt.nextSibling,LS=i,S_=s.group,Kt.dragged=pt,Vh={target:pt,clientX:(n||e).clientX,clientY:(n||e).clientY},Hz=Vh.clientX-f.left,Gz=Vh.clientY-f.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,pt.style["will-change"]="all",c=function(){if(Os("delayEnded",r,{evt:e}),Kt.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Bz&&r.nativeDraggable&&(pt.draggable=!0),r._triggerDragStart(e,n),ss({sortable:r,name:"choose",originalEvent:e}),Bi(pt,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){QH(pt,d.trim(),W2)}),Mn(o,"dragover",Hh),Mn(o,"mousemove",Hh),Mn(o,"touchmove",Hh),s.supportPointer?(Mn(o,"pointerup",r._onDrop),!this.nativeDraggable&&Mn(o,"pointercancel",r._onDrop)):(Mn(o,"mouseup",r._onDrop),Mn(o,"touchend",r._onDrop),Mn(o,"touchcancel",r._onDrop)),Bz&&this.nativeDraggable&&(this.options.touchStartThreshold=4,pt.draggable=!0),Os("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(gb||vf))){if(Kt.eventCanceled){this._onDrop();return}s.supportPointer?(Mn(o,"pointerup",r._disableDelayedDrag),Mn(o,"pointercancel",r._disableDelayedDrag)):(Mn(o,"mouseup",r._disableDelayedDrag),Mn(o,"touchend",r._disableDelayedDrag),Mn(o,"touchcancel",r._disableDelayedDrag)),Mn(o,"mousemove",r._delayedDragTouchMoveHandler),Mn(o,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&Mn(o,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){pt&&W2(pt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;xn(e,"mouseup",this._disableDelayedDrag),xn(e,"touchend",this._disableDelayedDrag),xn(e,"touchcancel",this._disableDelayedDrag),xn(e,"pointerup",this._disableDelayedDrag),xn(e,"pointercancel",this._disableDelayedDrag),xn(e,"mousemove",this._delayedDragTouchMoveHandler),xn(e,"touchmove",this._delayedDragTouchMoveHandler),xn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Mn(document,"pointermove",this._onTouchMove):n?Mn(document,"touchmove",this._onTouchMove):Mn(document,"mousemove",this._onTouchMove):(Mn(pt,"dragend",this),Mn(Ci,"dragstart",this._onDragStart));try{document.selection?IS(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(P0=!1,Ci&&pt){Os("dragStarted",this,{evt:n}),this.nativeDraggable&&Mn(document,"dragover",ype);var i=this.options;!e&&Bi(pt,i.dragClass,!1),Bi(pt,i.ghostClass,!0),Kt.active=this,e&&this._appendGhost(),ss({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ul){this._lastX=Ul.clientX,this._lastY=Ul.clientY,a9();for(var e=document.elementFromPoint(Ul.clientX,Ul.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ul.clientX,Ul.clientY),e!==n);)n=e;if(pt.parentNode[ha]._isOutsideThisEl(e),n)do{if(n[ha]){var i=void 0;if(i=n[ha]._onDragOver({clientX:Ul.clientX,clientY:Ul.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=ZH(n));s9()}},_onTouchMove:function(e){if(Vh){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,a=e.touches?e.touches[0]:e,s=on&&Op(on,!0),o=on&&s&&s.a,c=on&&s&&s.d,f=E_&&Ta&&kz(Ta),d=(a.clientX-Vh.clientX+r.x)/(o||1)+(f?f[0]-X2[0]:0)/(o||1),m=(a.clientY-Vh.clientY+r.y)/(c||1)+(f?f[1]-X2[1]:0)/(c||1);if(!Kt.active&&!P0){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(on){s?(s.e+=d-(G2||0),s.f+=m-(q2||0)):s={a:1,b:0,c:0,d:1,e:d,f:m};var v="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");Nt(on,"webkitTransform",v),Nt(on,"mozTransform",v),Nt(on,"msTransform",v),Nt(on,"transform",v),G2=d,q2=m,Ul=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!on){var e=this.options.fallbackOnBody?document.body:Ci,n=_i(pt,!0,E_,!0,e),i=this.options;if(E_){for(Ta=e;Nt(Ta,"position")==="static"&&Nt(Ta,"transform")==="none"&&Ta!==document;)Ta=Ta.parentNode;Ta!==document.body&&Ta!==document.documentElement?(Ta===document&&(Ta=kc()),n.top+=Ta.scrollTop,n.left+=Ta.scrollLeft):Ta=kc(),X2=kz(Ta)}on=pt.cloneNode(!0),Bi(on,i.ghostClass,!1),Bi(on,i.fallbackClass,!0),Bi(on,i.dragClass,!0),Nt(on,"transition",""),Nt(on,"transform",""),Nt(on,"box-sizing","border-box"),Nt(on,"margin",0),Nt(on,"top",n.top),Nt(on,"left",n.left),Nt(on,"width",n.width),Nt(on,"height",n.height),Nt(on,"opacity","0.8"),Nt(on,"position",E_?"absolute":"fixed"),Nt(on,"zIndex","100000"),Nt(on,"pointerEvents","none"),Kt.ghost=on,e.appendChild(on),Nt(on,"transform-origin",Hz/parseInt(on.style.width)*100+"% "+Gz/parseInt(on.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,a=i.options;if(Os("dragStart",this,{evt:e}),Kt.eventCanceled){this._onDrop();return}Os("setupClone",this),Kt.eventCanceled||(zi=nN(pt),zi.removeAttribute("id"),zi.draggable=!1,zi.style["will-change"]="",this._hideClone(),Bi(zi,this.options.chosenClass,!1),Kt.clone=zi),i.cloneId=IS(function(){Os("clone",i),!Kt.eventCanceled&&(i.options.removeCloneOnHide||Ci.insertBefore(zi,pt),i._hideClone(),ss({sortable:i,name:"clone"}))}),!n&&Bi(pt,a.dragClass,!0),n?(jM=!0,i._loopId=setInterval(i._emulateDragOver,50)):(xn(document,"mouseup",i._onDrop),xn(document,"touchend",i._onDrop),xn(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(i,r,pt)),Mn(document,"drop",i),Nt(pt,"transform","translateZ(0)")),P0=!0,i._dragStartId=IS(i._dragStarted.bind(i,n,e)),Mn(document,"selectstart",i),Oy=!0,window.getSelection().removeAllRanges(),By&&Nt(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,r,a,s,o=this.options,c=o.group,f=Kt.active,d=S_===c,m=o.sort,v=ua||f,y,_=this,E=!1;if(MR)return;function S(K,ne){Os(K,_,Jc({evt:e,isOwner:d,axis:y?"vertical":"horizontal",revert:s,dragRect:r,targetRect:a,canSort:m,fromSortable:v,target:i,completed:C,onMove:function(se,ge){return w_(Ci,n,pt,r,se,_i(se),e,ge)},changed:T},ne))}function M(){S("dragOverAnimationCapture"),_.captureAnimationState(),_!==v&&v.captureAnimationState()}function C(K){return S("dragOverCompleted",{insertion:K}),K&&(d?f._hideClone():f._showClone(_),_!==v&&(Bi(pt,ua?ua.options.ghostClass:f.options.ghostClass,!1),Bi(pt,o.ghostClass,!0)),ua!==_&&_!==Kt.active?ua=_:_===Kt.active&&ua&&(ua=null),v===_&&(_._ignoreWhileAnimating=i),_.animateAll(function(){S("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(i===pt&&!pt.animated||i===n&&!i.animated)&&(s0=null),!o.dragoverBubble&&!e.rootEl&&i!==document&&(pt.parentNode[ha]._isOutsideThisEl(e.target),!K&&Hh(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function T(){yo=Ji(pt),Ed=Ji(pt,o.draggable),ss({sortable:_,name:"change",toEl:n,newIndex:yo,newDraggableIndex:Ed,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Is(i,o.draggable,n,!0),S("dragOver"),Kt.eventCanceled)return E;if(pt.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||_._ignoreWhileAnimating===i)return C(!1);if(jM=!1,f&&!o.disabled&&(d?m||(s=Zi!==Ci):ua===this||(this.lastPutMode=S_.checkPull(this,f,pt,e))&&c.checkPut(this,f,pt,e))){if(y=this._getDirection(e,i)==="vertical",r=_i(pt),S("dragOverValid"),Kt.eventCanceled)return E;if(s)return Zi=Ci,M(),this._hideClone(),S("revert"),Kt.eventCanceled||(lp?Ci.insertBefore(pt,lp):Ci.appendChild(pt)),C(!0);var L=tN(n,o.draggable);if(!L||Spe(e,y,this)&&!L.animated){if(L===pt)return C(!1);if(L&&n===e.target&&(i=L),i&&(a=_i(i)),w_(Ci,n,pt,r,i,a,e,!!i)!==!1)return M(),L&&L.nextSibling?n.insertBefore(pt,L.nextSibling):n.appendChild(pt),Zi=n,T(),C(!0)}else if(L&&_pe(e,y,this)){var P=ng(n,0,o,!0);if(P===pt)return C(!1);if(i=P,a=_i(i),w_(Ci,n,pt,r,i,a,e,!1)!==!1)return M(),n.insertBefore(pt,P),Zi=n,T(),C(!0)}else if(i.parentNode===n){a=_i(i);var N=0,z,F=pt.parentNode!==n,I=!gpe(pt.animated&&pt.toRect||r,i.animated&&i.toRect||a,y),j=y?"top":"left",k=Fz(i,"top","top")||Fz(pt,"top","top"),Z=k?k.scrollTop:void 0;s0!==i&&(z=a[j],Vy=!1,M_=!I&&o.invertSwap||F),N=Mpe(e,i,a,y,I?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,M_,s0===i);var ee;if(N!==0){var re=Ji(pt);do re-=N,ee=Zi.children[re];while(ee&&(Nt(ee,"display")==="none"||ee===on))}if(N===0||ee===i)return C(!1);s0=i,ky=N;var ae=i.nextElementSibling,H=!1;H=N===1;var X=w_(Ci,n,pt,r,i,a,e,H);if(X!==!1)return(X===1||X===-1)&&(H=X===1),MR=!0,setTimeout(bpe,30),M(),H&&!ae?n.appendChild(pt):i.parentNode.insertBefore(pt,H?ae:i),k&&e9(k,0,Z-k.scrollTop),Zi=pt.parentNode,z!==void 0&&!M_&&(US=Math.abs(z-_i(i)[j])),T(),C(!0)}if(n.contains(pt))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){xn(document,"mousemove",this._onTouchMove),xn(document,"touchmove",this._onTouchMove),xn(document,"pointermove",this._onTouchMove),xn(document,"dragover",Hh),xn(document,"mousemove",Hh),xn(document,"touchmove",Hh)},_offUpEvents:function(){var e=this.el.ownerDocument;xn(e,"mouseup",this._onDrop),xn(e,"touchend",this._onDrop),xn(e,"pointerup",this._onDrop),xn(e,"pointercancel",this._onDrop),xn(e,"touchcancel",this._onDrop),xn(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(yo=Ji(pt),Ed=Ji(pt,i.draggable),Os("drop",this,{evt:e}),Zi=pt&&pt.parentNode,yo=Ji(pt),Ed=Ji(pt,i.draggable),Kt.eventCanceled){this._nulling();return}P0=!1,M_=!1,Vy=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ER(this.cloneId),ER(this._dragStartId),this.nativeDraggable&&(xn(document,"drop",this),xn(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),By&&Nt(document.body,"user-select",""),Nt(pt,"transform",""),e&&(Oy&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),on&&on.parentNode&&on.parentNode.removeChild(on),(Ci===Zi||ua&&ua.lastPutMode!=="clone")&&zi&&zi.parentNode&&zi.parentNode.removeChild(zi),pt&&(this.nativeDraggable&&xn(pt,"dragend",this),W2(pt),pt.style["will-change"]="",Oy&&!P0&&Bi(pt,ua?ua.options.ghostClass:this.options.ghostClass,!1),Bi(pt,this.options.chosenClass,!1),ss({sortable:this,name:"unchoose",toEl:Zi,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ci!==Zi?(yo>=0&&(ss({rootEl:Zi,name:"add",toEl:Zi,fromEl:Ci,originalEvent:e}),ss({sortable:this,name:"remove",toEl:Zi,originalEvent:e}),ss({rootEl:Zi,name:"sort",toEl:Zi,fromEl:Ci,originalEvent:e}),ss({sortable:this,name:"sort",toEl:Zi,originalEvent:e})),ua&&ua.save()):yo!==I0&&yo>=0&&(ss({sortable:this,name:"update",toEl:Zi,originalEvent:e}),ss({sortable:this,name:"sort",toEl:Zi,originalEvent:e})),Kt.active&&((yo==null||yo===-1)&&(yo=I0,Ed=Fy),ss({sortable:this,name:"end",toEl:Zi,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Os("nulling",this),Ci=pt=Zi=on=lp=zi=LS=Ad=Vh=Ul=Oy=yo=Ed=I0=Fy=s0=ky=ua=S_=Kt.dragged=Kt.ghost=Kt.clone=Kt.active=null,kM.forEach(function(e){e.checked=!0}),kM.length=G2=q2=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":pt&&(this._onDragOver(e),xpe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,r=0,a=i.length,s=this.options;r<a;r++)n=i[r],Is(n,s.draggable,this.el,!1)&&e.push(n.getAttribute(s.dataIdAttr)||wpe(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(a,s){var o=r.children[s];Is(o,this.options.draggable,r,!1)&&(i[a]=o)},this),n&&this.captureAnimationState(),e.forEach(function(a){i[a]&&(r.removeChild(i[a]),r.appendChild(i[a]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Is(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var r=vb.modifyOption(this,e,n);typeof r<"u"?i[e]=r:i[e]=n,e==="group"&&r9(i)},destroy:function(){Os("destroy",this);var e=this.el;e[ha]=null,xn(e,"mousedown",this._onTapStart),xn(e,"touchstart",this._onTapStart),xn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(xn(e,"dragover",this),xn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),FM.splice(FM.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ad){if(Os("hideClone",this),Kt.eventCanceled)return;Nt(zi,"display","none"),this.options.removeCloneOnHide&&zi.parentNode&&zi.parentNode.removeChild(zi),Ad=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ad){if(Os("showClone",this),Kt.eventCanceled)return;pt.parentNode==Ci&&!this.options.group.revertClone?Ci.insertBefore(zi,pt):lp?Ci.insertBefore(zi,lp):Ci.appendChild(zi),this.options.group.revertClone&&this.animate(pt,zi),Nt(zi,"display",""),Ad=!1}}};function xpe(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function w_(t,e,n,i,r,a,s,o){var c,f=t[ha],d=f.options.onMove,m;return window.CustomEvent&&!vf&&!gb?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=i,c.related=r||e,c.relatedRect=a||_i(e),c.willInsertAfter=o,c.originalEvent=s,t.dispatchEvent(c),d&&(m=d.call(f,c,s)),m}function W2(t){t.draggable=!1}function bpe(){MR=!1}function _pe(t,e,n){var i=_i(ng(n.el,0,n.options,!0)),r=t9(n.el,n.options,on),a=10;return e?t.clientX<r.left-a||t.clientY<i.top&&t.clientX<i.right:t.clientY<r.top-a||t.clientY<i.bottom&&t.clientX<i.left}function Spe(t,e,n){var i=_i(tN(n.el,n.options.draggable)),r=t9(n.el,n.options,on),a=10;return e?t.clientX>r.right+a||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>r.bottom+a||t.clientX>i.right&&t.clientY>i.top}function Mpe(t,e,n,i,r,a,s,o){var c=i?t.clientY:t.clientX,f=i?n.height:n.width,d=i?n.top:n.left,m=i?n.bottom:n.right,v=!1;if(!s){if(o&&US<f*r){if(!Vy&&(ky===1?c>d+f*a/2:c<m-f*a/2)&&(Vy=!0),Vy)v=!0;else if(ky===1?c<d+US:c>m-US)return-ky}else if(c>d+f*(1-r)/2&&c<m-f*(1-r)/2)return Epe(e)}return v=v||s,v&&(c<d+f*a/2||c>m-f*a/2)?c>d+f/2?1:-1:0}function Epe(t){return Ji(pt)<Ji(t)?1:-1}function wpe(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Ape(t){kM.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&kM.push(i)}}function IS(t){return setTimeout(t,0)}function ER(t){return clearTimeout(t)}Rw&&Mn(document,"touchmove",function(t){(Kt.active||P0)&&t.cancelable&&t.preventDefault()});Kt.utils={on:Mn,off:xn,css:Nt,find:QH,is:function(e,n){return!!Is(e,n,e,!1)},extend:cpe,throttle:JH,closest:Is,toggleClass:Bi,clone:nN,index:Ji,nextTick:IS,cancelNextTick:ER,detectDirection:i9,getChild:ng,expando:ha};Kt.get=function(t){return t[ha]};Kt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(Kt.utils=Jc(Jc({},Kt.utils),i.utils)),vb.mount(i)})};Kt.create=function(t,e){return new Kt(t,e)};Kt.version=ope;var _r=[],Dy,wR,AR=!1,Y2,K2,VM,Ny;function Tpe(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?Mn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Mn(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Mn(document,"touchmove",this._handleFallbackAutoScroll):Mn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?xn(document,"dragover",this._handleAutoScroll):(xn(document,"pointermove",this._handleFallbackAutoScroll),xn(document,"touchmove",this._handleFallbackAutoScroll),xn(document,"mousemove",this._handleFallbackAutoScroll)),Xz(),zS(),upe()},nulling:function(){VM=wR=Dy=AR=Ny=Y2=K2=null,_r.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,a=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(a,s);if(VM=n,i||this.options.forceAutoScrollFallback||gb||vf||By){$2(n,this.options,o,i);var c=Rd(o,!0);AR&&(!Ny||a!==Y2||s!==K2)&&(Ny&&Xz(),Ny=setInterval(function(){var f=Rd(document.elementFromPoint(a,s),!0);f!==c&&(c=f,zS()),$2(n,r.options,f,i)},10),Y2=a,K2=s)}else{if(!this.options.bubbleScroll||Rd(o,!0)===kc()){zS();return}$2(n,this.options,Rd(o,!1),!1)}}},nl(t,{pluginName:"scroll",initializeByDefault:!0})}function zS(){_r.forEach(function(t){clearInterval(t.pid)}),_r=[]}function Xz(){clearInterval(Ny)}var $2=JH(function(t,e,n,i){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,o=e.scrollSpeed,c=kc(),f=!1,d;wR!==n&&(wR=n,zS(),Dy=e.scroll,d=e.scrollFn,Dy===!0&&(Dy=Rd(n,!0)));var m=0,v=Dy;do{var y=v,_=_i(y),E=_.top,S=_.bottom,M=_.left,C=_.right,T=_.width,L=_.height,P=void 0,N=void 0,z=y.scrollWidth,F=y.scrollHeight,I=Nt(y),j=y.scrollLeft,k=y.scrollTop;y===c?(P=T<z&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),N=L<F&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(P=T<z&&(I.overflowX==="auto"||I.overflowX==="scroll"),N=L<F&&(I.overflowY==="auto"||I.overflowY==="scroll"));var Z=P&&(Math.abs(C-r)<=s&&j+T<z)-(Math.abs(M-r)<=s&&!!j),ee=N&&(Math.abs(S-a)<=s&&k+L<F)-(Math.abs(E-a)<=s&&!!k);if(!_r[m])for(var re=0;re<=m;re++)_r[re]||(_r[re]={});(_r[m].vx!=Z||_r[m].vy!=ee||_r[m].el!==y)&&(_r[m].el=y,_r[m].vx=Z,_r[m].vy=ee,clearInterval(_r[m].pid),(Z!=0||ee!=0)&&(f=!0,_r[m].pid=setInterval((function(){i&&this.layer===0&&Kt.active._onTouchMove(VM);var ae=_r[this.layer].vy?_r[this.layer].vy*o:0,H=_r[this.layer].vx?_r[this.layer].vx*o:0;typeof d=="function"&&d.call(Kt.dragged.parentNode[ha],H,ae,t,VM,_r[this.layer].el)!=="continue"||e9(_r[this.layer].el,H,ae)}).bind({layer:m}),24))),m++}while(e.bubbleScroll&&v!==c&&(v=Rd(v,!1)));AR=f}},30),o9=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,a=e.activeSortable,s=e.dispatchSortableEvent,o=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var f=i||a;o();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,m=document.elementFromPoint(d.clientX,d.clientY);c(),f&&!f.el.contains(m)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function iN(){}iN.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=ng(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:o9};nl(iN,{pluginName:"revertOnSpill"});function rN(){}rN.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:o9};nl(rN,{pluginName:"removeOnSpill"});var qo;function Cpe(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var i=n.dragEl;qo=i},dragOverValid:function(n){var i=n.completed,r=n.target,a=n.onMove,s=n.activeSortable,o=n.changed,c=n.cancel;if(s.options.swap){var f=this.sortable.el,d=this.options;if(r&&r!==f){var m=qo;a(r)!==!1?(Bi(r,d.swapClass,!0),qo=r):qo=null,m&&m!==qo&&Bi(m,d.swapClass,!1)}o(),i(!0),c()}},drop:function(n){var i=n.activeSortable,r=n.putSortable,a=n.dragEl,s=r||this.sortable,o=this.options;qo&&Bi(qo,o.swapClass,!1),qo&&(o.swap||r&&r.options.swap)&&a!==qo&&(s.captureAnimationState(),s!==i&&i.captureAnimationState(),Rpe(a,qo),s.animateAll(),s!==i&&i.animateAll())},nulling:function(){qo=null}},nl(t,{pluginName:"swap",eventProperties:function(){return{swapItem:qo}}})}function Rpe(t,e){var n=t.parentNode,i=e.parentNode,r,a;!n||!i||n.isEqualNode(e)||i.isEqualNode(t)||(r=Ji(t),a=Ji(e),n.isEqualNode(i)&&r<a&&a++,n.insertBefore(e,n.children[r]),i.insertBefore(t,i.children[a]))}var sn=[],mo=[],cy,Il,uy=!1,Ds=!1,o0=!1,gi,fy,A_;function Ope(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?Mn(document,"pointerup",this._deselectMultiDrag):(Mn(document,"mouseup",this._deselectMultiDrag),Mn(document,"touchend",this._deselectMultiDrag))),Mn(document,"keydown",this._checkKeyDown),Mn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(r,a){var s="";sn.length&&Il===e?sn.forEach(function(o,c){s+=(c?", ":"")+o.textContent}):s=a.textContent,r.setData("Text",s)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var i=n.dragEl;gi=i},delayEnded:function(){this.isMultiDrag=~sn.indexOf(gi)},setupClone:function(n){var i=n.sortable,r=n.cancel;if(this.isMultiDrag){for(var a=0;a<sn.length;a++)mo.push(nN(sn[a])),mo[a].sortableIndex=sn[a].sortableIndex,mo[a].draggable=!1,mo[a].style["will-change"]="",Bi(mo[a],this.options.selectedClass,!1),sn[a]===gi&&Bi(mo[a],this.options.chosenClass,!1);i._hideClone(),r()}},clone:function(n){var i=n.sortable,r=n.rootEl,a=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||sn.length&&Il===i&&(Wz(!0,r),a("clone"),s()))},showClone:function(n){var i=n.cloneNowShown,r=n.rootEl,a=n.cancel;this.isMultiDrag&&(Wz(!1,r),mo.forEach(function(s){Nt(s,"display","")}),i(),A_=!1,a())},hideClone:function(n){var i=this;n.sortable;var r=n.cloneNowHidden,a=n.cancel;this.isMultiDrag&&(mo.forEach(function(s){Nt(s,"display","none"),i.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),r(),A_=!0,a())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Il&&Il.multiDrag._deselectMultiDrag(),sn.forEach(function(i){i.sortableIndex=Ji(i)}),sn=sn.sort(function(i,r){return i.sortableIndex-r.sortableIndex}),o0=!0},dragStarted:function(n){var i=this,r=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){sn.forEach(function(s){s!==gi&&Nt(s,"position","absolute")});var a=_i(gi,!1,!0,!0);sn.forEach(function(s){s!==gi&&Vz(s,a)}),Ds=!0,uy=!0}r.animateAll(function(){Ds=!1,uy=!1,i.options.animation&&sn.forEach(function(s){V2(s)}),i.options.sort&&T_()})}},dragOver:function(n){var i=n.target,r=n.completed,a=n.cancel;Ds&&~sn.indexOf(i)&&(r(!1),a())},revert:function(n){var i=n.fromSortable,r=n.rootEl,a=n.sortable,s=n.dragRect;sn.length>1&&(sn.forEach(function(o){a.addAnimationState({target:o,rect:Ds?_i(o):s}),V2(o),o.fromRect=s,i.removeAnimationState(o)}),Ds=!1,Dpe(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(n){var i=n.sortable,r=n.isOwner,a=n.insertion,s=n.activeSortable,o=n.parentEl,c=n.putSortable,f=this.options;if(a){if(r&&s._hideClone(),uy=!1,f.animation&&sn.length>1&&(Ds||!r&&!s.options.sort&&!c)){var d=_i(gi,!1,!0,!0);sn.forEach(function(v){v!==gi&&(Vz(v,d),o.appendChild(v))}),Ds=!0}if(!r)if(Ds||T_(),sn.length>1){var m=A_;s._showClone(i),s.options.animation&&!A_&&m&&mo.forEach(function(v){s.addAnimationState({target:v,rect:fy}),v.fromRect=fy,v.thisAnimationDuration=null})}else s._showClone(i)}},dragOverAnimationCapture:function(n){var i=n.dragRect,r=n.isOwner,a=n.activeSortable;if(sn.forEach(function(o){o.thisAnimationDuration=null}),a.options.animation&&!r&&a.multiDrag.isMultiDrag){fy=nl({},i);var s=Op(gi,!0);fy.top-=s.f,fy.left-=s.e}},dragOverAnimationComplete:function(){Ds&&(Ds=!1,T_())},drop:function(n){var i=n.originalEvent,r=n.rootEl,a=n.parentEl,s=n.sortable,o=n.dispatchSortableEvent,c=n.oldIndex,f=n.putSortable,d=f||this.sortable;if(i){var m=this.options,v=a.children;if(!o0)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Bi(gi,m.selectedClass,!~sn.indexOf(gi)),~sn.indexOf(gi))sn.splice(sn.indexOf(gi),1),cy=null,Ry({sortable:s,rootEl:r,name:"deselect",targetEl:gi,originalEvent:i});else{if(sn.push(gi),Ry({sortable:s,rootEl:r,name:"select",targetEl:gi,originalEvent:i}),i.shiftKey&&cy&&s.el.contains(cy)){var y=Ji(cy),_=Ji(gi);~y&&~_&&y!==_&&(function(){var C,T;_>y?(T=y,C=_):(T=_,C=y+1);for(var L=m.filter;T<C;T++)if(!~sn.indexOf(v[T])&&Is(v[T],m.draggable,a,!1)){var P=L&&(typeof L=="function"?L.call(s,i,v[T],s):L.split(",").some(function(N){return Is(v[T],N.trim(),a,!1)}));P||(Bi(v[T],m.selectedClass,!0),sn.push(v[T]),Ry({sortable:s,rootEl:r,name:"select",targetEl:v[T],originalEvent:i}))}})()}else cy=gi;Il=d}if(o0&&this.isMultiDrag){if(Ds=!1,(a[ha].options.sort||a!==r)&&sn.length>1){var E=_i(gi),S=Ji(gi,":not(."+this.options.selectedClass+")");if(!uy&&m.animation&&(gi.thisAnimationDuration=null),d.captureAnimationState(),!uy&&(m.animation&&(gi.fromRect=E,sn.forEach(function(C){if(C.thisAnimationDuration=null,C!==gi){var T=Ds?_i(C):E;C.fromRect=T,d.addAnimationState({target:C,rect:T})}})),T_(),sn.forEach(function(C){v[S]?a.insertBefore(C,v[S]):a.appendChild(C),S++}),c===Ji(gi))){var M=!1;sn.forEach(function(C){if(C.sortableIndex!==Ji(C)){M=!0;return}}),M&&(o("update"),o("sort"))}sn.forEach(function(C){V2(C)}),d.animateAll()}Il=d}(r===a||f&&f.lastPutMode!=="clone")&&mo.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=o0=!1,mo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),xn(document,"pointerup",this._deselectMultiDrag),xn(document,"mouseup",this._deselectMultiDrag),xn(document,"touchend",this._deselectMultiDrag),xn(document,"keydown",this._checkKeyDown),xn(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof o0<"u"&&o0)&&Il===this.sortable&&!(n&&Is(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;sn.length;){var i=sn[0];Bi(i,this.options.selectedClass,!1),sn.shift(),Ry({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},nl(t,{pluginName:"multiDrag",utils:{select:function(n){var i=n.parentNode[ha];!i||!i.options.multiDrag||~sn.indexOf(n)||(Il&&Il!==i&&(Il.multiDrag._deselectMultiDrag(),Il=i),Bi(n,i.options.selectedClass,!0),sn.push(n))},deselect:function(n){var i=n.parentNode[ha],r=sn.indexOf(n);!i||!i.options.multiDrag||!~r||(Bi(n,i.options.selectedClass,!1),sn.splice(r,1))}},eventProperties:function(){var n=this,i=[],r=[];return sn.forEach(function(a){i.push({multiDragElement:a,index:a.sortableIndex});var s;Ds&&a!==gi?s=-1:Ds?s=Ji(a,":not(."+n.options.selectedClass+")"):s=Ji(a),r.push({multiDragElement:a,index:s})}),{items:npe(sn),clones:[].concat(mo),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Dpe(t,e){sn.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function Wz(t,e){mo.forEach(function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)})}function T_(){sn.forEach(function(t){t!==gi&&t.parentNode&&t.parentNode.removeChild(t)})}Kt.mount(new Tpe);Kt.mount(rN,iN);const Npe=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ope,Sortable:Kt,Swap:Cpe,default:Kt},Symbol.toStringTag,{value:"Module"})),Ppe=o6(Npe);var Z2={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var Yz;function Lpe(){return Yz||(Yz=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var s=typeof a;if(s==="string"||s==="number")i.push(a);else if(Array.isArray(a)){if(a.length){var o=n.apply(null,a);o&&i.push(o)}}else if(s==="object")if(a.toString===Object.prototype.toString)for(var c in a)e.call(a,c)&&a[c]&&i.push(c);else i.push(a.toString())}}return i.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Z2)),Z2.exports}var Upe="Invariant failed";function Ipe(t,e){if(!t)throw new Error(Upe)}const zpe=Object.freeze(Object.defineProperty({__proto__:null,default:Ipe},Symbol.toStringTag,{value:"Module"})),Bpe=o6(zpe);var Kz;function jpe(){return Kz||(Kz=1,(function(t){var e=Ppe,n=Lpe(),i=kd(),r=Bpe;function a(N){return N&&N.__esModule?N.default:N}function s(N,z,F,I){Object.defineProperty(N,z,{get:F,set:I,enumerable:!0,configurable:!0})}function o(N,z){return Object.keys(z).forEach(function(F){F==="default"||F==="__esModule"||N.hasOwnProperty(F)||Object.defineProperty(N,F,{enumerable:!0,get:function(){return z[F]}})}),N}s(t.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),s(t.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),s(t.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),s(t.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),s(t.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),s(t.exports,"Options",()=>$882b6d93070905b3$re_export$Options),s(t.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),s(t.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),s(t.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),s(t.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),s(t.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),s(t.exports,"ReactSortable",()=>L);function c(N){N.parentElement!==null&&N.parentElement.removeChild(N)}function f(N,z,F){const I=N.children[F]||null;N.insertBefore(z,I)}function d(N){N.forEach(z=>c(z.element))}function m(N){N.forEach(z=>{f(z.parentElement,z.element,z.oldIndex)})}function v(N,z){const F=S(N),I={parentElement:N.from};let j=[];switch(F){case"normal":j=[{element:N.item,newIndex:N.newIndex,oldIndex:N.oldIndex,parentElement:N.from}];break;case"swap":const ee={element:N.item,oldIndex:N.oldIndex,newIndex:N.newIndex,...I},re={element:N.swapItem,oldIndex:N.newIndex,newIndex:N.oldIndex,...I};j=[ee,re];break;case"multidrag":j=N.oldIndicies.map((ae,H)=>({element:ae.multiDragElement,oldIndex:ae.index,newIndex:N.newIndicies[H].index,...I}));break}return M(j,z)}function y(N,z){const F=_(N,z);return E(N,F)}function _(N,z){const F=[...z];return N.concat().reverse().forEach(I=>F.splice(I.oldIndex,1)),F}function E(N,z,F,I){const j=[...z];return N.forEach(k=>{const Z=I&&F&&I(k.item,F);j.splice(k.newIndex,0,Z||k.item)}),j}function S(N){return N.oldIndicies&&N.oldIndicies.length>0?"multidrag":N.swapItem?"swap":"normal"}function M(N,z){return N.map(I=>({...I,item:z[I.oldIndex]})).sort((I,j)=>I.oldIndex-j.oldIndex)}function C(N){const{list:z,setList:F,children:I,tag:j,style:k,className:Z,clone:ee,onAdd:re,onChange:ae,onChoose:H,onClone:X,onEnd:K,onFilter:ne,onRemove:q,onSort:se,onStart:ge,onUnchoose:_e,onUpdate:Ae,onMove:Qe,onSpill:pe,onSelect:Le,onDeselect:Ye,...xe}=N;return xe}const T={dragging:null};class L extends i.Component{static defaultProps={clone:z=>z};constructor(z){super(z),this.ref=(0,i.createRef)();const F=[...z.list].map(I=>Object.assign(I,{chosen:!1,selected:!1}));z.setList(F,this.sortable,T),a(r)(!z.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const z=this.makeOptions();a(e).create(this.ref.current,z)}componentDidUpdate(z){z.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:z,style:F,className:I,id:j}=this.props,k={style:F,className:I,id:j},Z=!z||z===null?"div":z;return(0,i.createElement)(Z,{ref:this.ref,...k},this.getChildren())}getChildren(){const{children:z,dataIdAttr:F,selectedClass:I="sortable-selected",chosenClass:j="sortable-chosen",dragClass:k="sortable-drag",fallbackClass:Z="sortable-falback",ghostClass:ee="sortable-ghost",swapClass:re="sortable-swap-highlight",filter:ae="sortable-filter",list:H}=this.props;if(!z||z==null)return null;const X=F||"data-id";return i.Children.map(z,(K,ne)=>{if(K===void 0)return;const q=H[ne]||{},{className:se}=K.props,ge=typeof ae=="string"&&{[ae.replace(".","")]:!!q.filtered},_e=a(n)(se,{[I]:q.selected,[j]:q.chosen,...ge});return(0,i.cloneElement)(K,{[X]:K.key,className:_e})})}get sortable(){const z=this.ref.current;if(z===null)return null;const F=Object.keys(z).find(I=>I.includes("Sortable"));return F?z[F]:null}makeOptions(){const z=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],F=["onChange","onClone","onFilter","onSort"],I=C(this.props);return z.forEach(k=>I[k]=this.prepareOnHandlerPropAndDOM(k)),F.forEach(k=>I[k]=this.prepareOnHandlerProp(k)),{...I,onMove:(k,Z)=>{const{onMove:ee}=this.props,re=k.willInsertAfter||-1;if(!ee)return re;const ae=ee(k,Z,this.sortable,T);return typeof ae>"u"?!1:ae}}}prepareOnHandlerPropAndDOM(z){return F=>{this.callOnHandlerProp(F,z),this[z](F)}}prepareOnHandlerProp(z){return F=>{this.callOnHandlerProp(F,z)}}callOnHandlerProp(z,F){const I=this.props[F];I&&I(z,this.sortable,T)}onAdd(z){const{list:F,setList:I,clone:j}=this.props,k=[...T.dragging.props.list],Z=v(z,k);d(Z);const ee=E(Z,F,z,j).map(re=>Object.assign(re,{selected:!1}));I(ee,this.sortable,T)}onRemove(z){const{list:F,setList:I}=this.props,j=S(z),k=v(z,F);m(k);let Z=[...F];if(z.pullMode!=="clone")Z=_(k,Z);else{let ee=k;switch(j){case"multidrag":ee=k.map((re,ae)=>({...re,element:z.clones[ae]}));break;case"normal":ee=k.map(re=>({...re,element:z.clone}));break;case"swap":default:a(r)(!0,`mode "${j}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${j}" plugin`)}d(ee),k.forEach(re=>{const ae=re.oldIndex,H=this.props.clone(re.item,z);Z.splice(ae,1,H)})}Z=Z.map(ee=>Object.assign(ee,{selected:!1})),I(Z,this.sortable,T)}onUpdate(z){const{list:F,setList:I}=this.props,j=v(z,F);d(j),m(j);const k=y(j,F);return I(k,this.sortable,T)}onStart(){T.dragging=this}onEnd(){T.dragging=null}onChoose(z){const{list:F,setList:I}=this.props,j=F.map((k,Z)=>{let ee=k;return Z===z.oldIndex&&(ee=Object.assign(k,{chosen:!0})),ee});I(j,this.sortable,T)}onUnchoose(z){const{list:F,setList:I}=this.props,j=F.map((k,Z)=>{let ee=k;return Z===z.oldIndex&&(ee=Object.assign(ee,{chosen:!1})),ee});I(j,this.sortable,T)}onSpill(z){const{removeOnSpill:F,revertOnSpill:I}=this.props;F&&!I&&c(z.item)}onSelect(z){const{list:F,setList:I}=this.props,j=F.map(k=>Object.assign(k,{selected:!1}));z.newIndicies.forEach(k=>{const Z=k.index;if(Z===-1){console.log(`"${z.type}" had indice of "${k.index}", which is probably -1 and doesn't usually happen here.`),console.log(z);return}j[Z].selected=!0}),I(j,this.sortable,T)}onDeselect(z){const{list:F,setList:I}=this.props,j=F.map(k=>Object.assign(k,{selected:!1}));z.newIndicies.forEach(k=>{const Z=k.index;Z!==-1&&(j[Z].selected=!0)}),I(j,this.sortable,T)}}var P={};o(t.exports,P)})(F2)),F2.exports}var Fpe=jpe();const l9=U.createContext({});function kpe(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const aN=typeof window<"u",Vpe=aN?U.useLayoutEffect:U.useEffect,sN=U.createContext(null);function oN(t,e){t.indexOf(e)===-1&&t.push(e)}function lN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const nf=(t,e,n)=>n>e?e:n<t?t:n;let cN=()=>{};const rf={},c9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function u9(t){return typeof t=="object"&&t!==null}const f9=t=>/^0[^.\s]+$/u.test(t);function uN(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jo=t=>t,Hpe=(t,e)=>n=>e(t(n)),yb=(...t)=>t.reduce(Hpe),_x=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class fN{constructor(){this.subscriptions=[]}add(e){return oN(this.subscriptions,e),()=>lN(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vc=t=>t*1e3,Qo=t=>t/1e3;function d9(t,e){return e?t*(1e3/e):0}const h9=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Gpe=1e-7,qpe=12;function Xpe(t,e,n,i,r){let a,s,o=0;do s=e+(n-e)/2,a=h9(s,i,r)-t,a>0?n=s:e=s;while(Math.abs(a)>Gpe&&++o<qpe);return s}function xb(t,e,n,i){if(t===e&&n===i)return Jo;const r=a=>Xpe(a,0,1,t,n);return a=>a===0||a===1?a:h9(r(a),e,i)}const p9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,m9=t=>e=>1-t(1-e),g9=xb(.33,1.53,.69,.99),dN=m9(g9),v9=p9(dN),y9=t=>(t*=2)<1?.5*dN(t):.5*(2-Math.pow(2,-10*(t-1))),hN=t=>1-Math.sin(Math.acos(t)),x9=m9(hN),b9=p9(hN),Wpe=xb(.42,0,1,1),Ype=xb(0,0,.58,1),_9=xb(.42,0,.58,1),Kpe=t=>Array.isArray(t)&&typeof t[0]!="number",S9=t=>Array.isArray(t)&&typeof t[0]=="number",$pe={linear:Jo,easeIn:Wpe,easeInOut:_9,easeOut:Ype,circIn:hN,circInOut:b9,circOut:x9,backIn:dN,backInOut:v9,backOut:g9,anticipate:y9},Zpe=t=>typeof t=="string",$z=t=>{if(S9(t)){cN(t.length===4);const[e,n,i,r]=t;return xb(e,n,i,r)}else if(Zpe(t))return $pe[t];return t},C_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qpe(t,e){let n=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){s.has(d)&&(f.schedule(d),t()),d(o)}const f={schedule:(d,m=!1,v=!1)=>{const _=v&&r?n:i;return m&&s.add(d),_.has(d)||_.add(d),d},cancel:d=>{i.delete(d),s.delete(d)},process:d=>{if(o=d,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,f.process(d))}};return f}const Jpe=40;function M9(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=C_.reduce((T,L)=>(T[L]=Qpe(a),T),{}),{setup:o,read:c,resolveKeyframes:f,preUpdate:d,update:m,preRender:v,render:y,postRender:_}=s,E=()=>{const T=rf.useManualTiming?r.timestamp:performance.now();n=!1,rf.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(T-r.timestamp,Jpe),1)),r.timestamp=T,r.isProcessing=!0,o.process(r),c.process(r),f.process(r),d.process(r),m.process(r),v.process(r),y.process(r),_.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(E))},S=()=>{n=!0,i=!0,r.isProcessing||t(E)};return{schedule:C_.reduce((T,L)=>{const P=s[L];return T[L]=(N,z=!1,F=!1)=>(n||S(),P.schedule(N,z,F)),T},{}),cancel:T=>{for(let L=0;L<C_.length;L++)s[C_[L]].cancel(T)},state:r,steps:s}}const{schedule:Oi,cancel:Ud,state:da,steps:Q2}=M9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jo,!0);let BS;function eme(){BS=void 0}const Fs={now:()=>(BS===void 0&&Fs.set(da.isProcessing||rf.useManualTiming?da.timestamp:performance.now()),BS),set:t=>{BS=t,queueMicrotask(eme)}},E9=t=>e=>typeof e=="string"&&e.startsWith(t),pN=E9("--"),tme=E9("var(--"),mN=t=>tme(t)?nme.test(t.split("/*")[0].trim()):!1,nme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sx={...Dg,transform:t=>nf(0,1,t)},R_={...Dg,default:1},Hy=t=>Math.round(t*1e5)/1e5,gN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ime(t){return t==null}const rme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vN=(t,e)=>n=>!!(typeof n=="string"&&rme.test(n)&&n.startsWith(t)||e&&!ime(n)&&Object.prototype.hasOwnProperty.call(n,e)),w9=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,a,s,o]=i.match(gN);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ame=t=>nf(0,255,t),J2={...Dg,transform:t=>Math.round(ame(t))},bp={test:vN("rgb","red"),parse:w9("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+J2.transform(t)+", "+J2.transform(e)+", "+J2.transform(n)+", "+Hy(Sx.transform(i))+")"};function sme(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const TR={test:vN("#"),parse:sme,transform:bp.transform},bb=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_d=bb("deg"),Hc=bb("%"),Qt=bb("px"),ome=bb("vh"),lme=bb("vw"),Zz={...Hc,parse:t=>Hc.parse(t)/100,transform:t=>Hc.transform(t*100)},z0={test:vN("hsl","hue"),parse:w9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Hc.transform(Hy(e))+", "+Hc.transform(Hy(n))+", "+Hy(Sx.transform(i))+")"},Sr={test:t=>bp.test(t)||TR.test(t)||z0.test(t),parse:t=>bp.test(t)?bp.parse(t):z0.test(t)?z0.parse(t):TR.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bp.transform(t):z0.transform(t),getAnimatableNone:t=>{const e=Sr.parse(t);return e.alpha=0,Sr.transform(e)}},cme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ume(t){return isNaN(t)&&typeof t=="string"&&(t.match(gN)?.length||0)+(t.match(cme)?.length||0)>0}const A9="number",T9="color",fme="var",dme="var(",Qz="${}",hme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mx(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const o=e.replace(hme,c=>(Sr.test(c)?(i.color.push(a),r.push(T9),n.push(Sr.parse(c))):c.startsWith(dme)?(i.var.push(a),r.push(fme),n.push(c)):(i.number.push(a),r.push(A9),n.push(parseFloat(c))),++a,Qz)).split(Qz);return{values:n,split:o,indexes:i,types:r}}function C9(t){return Mx(t).values}function R9(t){const{split:e,types:n}=Mx(t),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const o=n[s];o===A9?a+=Hy(r[s]):o===T9?a+=Sr.transform(r[s]):a+=r[s]}return a}}const pme=t=>typeof t=="number"?0:Sr.test(t)?Sr.getAnimatableNone(t):t;function mme(t){const e=C9(t);return R9(t)(e.map(pme))}const Id={test:ume,parse:C9,createTransformer:R9,getAnimatableNone:mme};function e3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gme({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,a=0,s=0;if(!e)r=a=s=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=e3(c,o,t+1/3),a=e3(c,o,t),s=e3(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function HM(t,e){return n=>n>0?e:t}const ki=(t,e,n)=>t+(e-t)*n,t3=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},vme=[TR,bp,z0],yme=t=>vme.find(e=>e.test(t));function Jz(t){const e=yme(t);if(!e)return!1;let n=e.parse(t);return e===z0&&(n=gme(n)),n}const eB=(t,e)=>{const n=Jz(t),i=Jz(e);if(!n||!i)return HM(t,e);const r={...n};return a=>(r.red=t3(n.red,i.red,a),r.green=t3(n.green,i.green,a),r.blue=t3(n.blue,i.blue,a),r.alpha=ki(n.alpha,i.alpha,a),bp.transform(r))},CR=new Set(["none","hidden"]);function xme(t,e){return CR.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bme(t,e){return n=>ki(t,e,n)}function yN(t){return typeof t=="number"?bme:typeof t=="string"?mN(t)?HM:Sr.test(t)?eB:Mme:Array.isArray(t)?O9:typeof t=="object"?Sr.test(t)?eB:_me:HM}function O9(t,e){const n=[...t],i=n.length,r=t.map((a,s)=>yN(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)n[s]=r[s](a);return n}}function _me(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=yN(t[r])(t[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function Sme(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=t.indexes[a][i[a]],o=t.values[s]??0;n[r]=o,i[a]++}return n}const Mme=(t,e)=>{const n=Id.createTransformer(e),i=Mx(t),r=Mx(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?CR.has(t)&&!r.values.length||CR.has(e)&&!i.values.length?xme(t,e):yb(O9(Sme(i,r),r.values),n):HM(t,e)};function D9(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ki(t,e,n):yN(t)(t,e)}const Eme=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Oi.update(e,n),stop:()=>Ud(e),now:()=>da.isProcessing?da.timestamp:Fs.now()}},N9=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)i+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},GM=2e4;function xN(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<GM;)e+=n,i=t.next(e);return e>=GM?1/0:e}function wme(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(xN(i),GM);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Qo(r)}}const Ame=5;function P9(t,e,n){const i=Math.max(e-Ame,0);return d9(n-t(i),e-i)}const Qi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n3=.001;function Tme({duration:t=Qi.duration,bounce:e=Qi.bounce,velocity:n=Qi.velocity,mass:i=Qi.mass}){let r,a,s=1-e;s=nf(Qi.minDamping,Qi.maxDamping,s),t=nf(Qi.minDuration,Qi.maxDuration,Qo(t)),s<1?(r=f=>{const d=f*s,m=d*t,v=d-n,y=RR(f,s),_=Math.exp(-m);return n3-v/y*_},a=f=>{const m=f*s*t,v=m*n+n,y=Math.pow(s,2)*Math.pow(f,2)*t,_=Math.exp(-m),E=RR(Math.pow(f,2),s);return(-r(f)+n3>0?-1:1)*((v-y)*_)/E}):(r=f=>{const d=Math.exp(-f*t),m=(f-n)*t+1;return-n3+d*m},a=f=>{const d=Math.exp(-f*t),m=(n-f)*(t*t);return d*m});const o=5/t,c=Rme(r,a,o);if(t=Vc(t),isNaN(c))return{stiffness:Qi.stiffness,damping:Qi.damping,duration:t};{const f=Math.pow(c,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:t}}}const Cme=12;function Rme(t,e,n){let i=n;for(let r=1;r<Cme;r++)i=i-t(i)/e(i);return i}function RR(t,e){return t*Math.sqrt(1-e*e)}const Ome=["duration","bounce"],Dme=["stiffness","damping","mass"];function tB(t,e){return e.some(n=>t[n]!==void 0)}function Nme(t){let e={velocity:Qi.velocity,stiffness:Qi.stiffness,damping:Qi.damping,mass:Qi.mass,isResolvedFromDuration:!1,...t};if(!tB(t,Dme)&&tB(t,Ome))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*nf(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Qi.mass,stiffness:r,damping:a}}else{const n=Tme(t);e={...e,...n,mass:Qi.mass},e.isResolvedFromDuration=!0}return e}function qM(t=Qi.visualDuration,e=Qi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:f,mass:d,duration:m,velocity:v,isResolvedFromDuration:y}=Nme({...n,velocity:-Qo(n.velocity||0)}),_=v||0,E=f/(2*Math.sqrt(c*d)),S=s-a,M=Qo(Math.sqrt(c/d)),C=Math.abs(S)<5;i||(i=C?Qi.restSpeed.granular:Qi.restSpeed.default),r||(r=C?Qi.restDelta.granular:Qi.restDelta.default);let T;if(E<1){const P=RR(M,E);T=N=>{const z=Math.exp(-E*M*N);return s-z*((_+E*M*S)/P*Math.sin(P*N)+S*Math.cos(P*N))}}else if(E===1)T=P=>s-Math.exp(-M*P)*(S+(_+M*S)*P);else{const P=M*Math.sqrt(E*E-1);T=N=>{const z=Math.exp(-E*M*N),F=Math.min(P*N,300);return s-z*((_+E*M*S)*Math.sinh(F)+P*S*Math.cosh(F))/P}}const L={calculatedDuration:y&&m||null,next:P=>{const N=T(P);if(y)o.done=P>=m;else{let z=P===0?_:0;E<1&&(z=P===0?Vc(_):P9(T,P,N));const F=Math.abs(z)<=i,I=Math.abs(s-N)<=r;o.done=F&&I}return o.value=o.done?s:N,o},toString:()=>{const P=Math.min(xN(L),GM),N=N9(z=>L.next(P*z).value,P,30);return P+"ms "+N},toTransition:()=>{}};return L}qM.applyToOptions=t=>{const e=wme(t,100,qM);return t.ease=e.ease,t.duration=Vc(e.duration),t.type="keyframes",t};function OR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:f=.5,restSpeed:d}){const m=t[0],v={done:!1,value:m},y=F=>o!==void 0&&F<o||c!==void 0&&F>c,_=F=>o===void 0?c:c===void 0||Math.abs(o-F)<Math.abs(c-F)?o:c;let E=n*e;const S=m+E,M=s===void 0?S:s(S);M!==S&&(E=M-m);const C=F=>-E*Math.exp(-F/i),T=F=>M+C(F),L=F=>{const I=C(F),j=T(F);v.done=Math.abs(I)<=f,v.value=v.done?M:j};let P,N;const z=F=>{y(v.value)&&(P=F,N=qM({keyframes:[v.value,_(v.value)],velocity:P9(T,F,v.value),damping:r,stiffness:a,restDelta:f,restSpeed:d}))};return z(0),{calculatedDuration:null,next:F=>{let I=!1;return!N&&P===void 0&&(I=!0,L(F),z(F)),P!==void 0&&F>=P?N.next(F-P):(!I&&L(F),v)}}}function Pme(t,e,n){const i=[],r=n||rf.mix||D9,a=t.length-1;for(let s=0;s<a;s++){let o=r(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Jo:e;o=yb(c,o)}i.push(o)}return i}function Lme(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=t.length;if(cN(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Pme(e,i,r),c=o.length,f=d=>{if(s&&d<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const v=_x(t[m],t[m+1],d);return o[m](v)};return n?d=>f(nf(t[0],t[a-1],d)):f}function Ume(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=_x(0,e,i);t.push(ki(n,1,r))}}function Ime(t){const e=[0];return Ume(e,t.length-1),e}function zme(t,e){return t.map(n=>n*e)}function Bme(t,e){return t.map(()=>e||_9).splice(0,t.length-1)}function Gy({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Kpe(i)?i.map($z):$z(i),a={done:!1,value:e[0]},s=zme(n&&n.length===e.length?n:Ime(e),t),o=Lme(s,e,{ease:Array.isArray(r)?r:Bme(e,r)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const jme=t=>t!==null;function bN(t,{repeat:e,repeatType:n="loop"},i,r=1){const a=t.filter(jme),o=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const Fme={decay:OR,inertia:OR,tween:Gy,keyframes:Gy,spring:qM};function L9(t){typeof t.type=="string"&&(t.type=Fme[t.type])}class _N{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kme=t=>t/100;class SN extends _N{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fs.now()&&this.tick(Fs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L9(e);const{type:n=Gy,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const c=n||Gy;c!==Gy&&typeof o[0]!="number"&&(this.mixKeyframes=yb(kme,D9(o[0],o[1])),o=[0,100]);const f=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=xN(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:d,repeat:m,repeatType:v,repeatDelay:y,type:_,onUpdate:E,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let T=this.currentTime,L=i;if(m){const F=Math.min(this.currentTime,r)/o;let I=Math.floor(F),j=F%1;!j&&F>=1&&(j=1),j===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(v==="reverse"?(j=1-j,y&&(j-=y/o)):v==="mirror"&&(L=s)),T=nf(0,1,j)*o}const P=C?{done:!1,value:d[0]}:L.next(T);a&&(P.value=a(P.value));let{done:N}=P;!C&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return z&&_!==OR&&(P.value=bN(d,this.options,S,this.speed)),E&&E(P.value),z&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Qo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(this.currentTime)}set time(e){e=Vc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Eme,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Vme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _p=t=>t*180/Math.PI,DR=t=>{const e=_p(Math.atan2(t[1],t[0]));return NR(e)},Hme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:DR,rotateZ:DR,skewX:t=>_p(Math.atan(t[1])),skewY:t=>_p(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},NR=t=>(t=t%360,t<0&&(t+=360),t),nB=DR,iB=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rB=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Gme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iB,scaleY:rB,scale:t=>(iB(t)+rB(t))/2,rotateX:t=>NR(_p(Math.atan2(t[6],t[5]))),rotateY:t=>NR(_p(Math.atan2(-t[2],t[0]))),rotateZ:nB,rotate:nB,skewX:t=>_p(Math.atan(t[4])),skewY:t=>_p(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function PR(t){return t.includes("scale")?1:0}function LR(t,e){if(!t||t==="none")return PR(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=Gme,r=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Hme,r=o}if(!r)return PR(e);const a=i[e],s=r[1].split(",").map(Xme);return typeof a=="function"?a(s):s[a]}const qme=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return LR(n,e)};function Xme(t){return parseFloat(t.trim())}const Ng=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pg=new Set(Ng),aB=t=>t===Dg||t===Qt,Wme=new Set(["x","y","z"]),Yme=Ng.filter(t=>!Wme.has(t));function Kme(t){const e=[];return Yme.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Dp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>LR(e,"x"),y:(t,{transform:e})=>LR(e,"y")};Dp.translateX=Dp.x;Dp.translateY=Dp.y;const Np=new Set;let UR=!1,IR=!1,zR=!1;function U9(){if(IR){const t=Array.from(Np).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Kme(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,s])=>{i.getValue(a)?.set(s)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}IR=!1,UR=!1,Np.forEach(t=>t.complete(zR)),Np.clear()}function I9(){Np.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(IR=!0)})}function $me(){zR=!0,I9(),U9(),zR=!1}class MN{constructor(e,n,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Np.add(this),UR||(UR=!0,Oi.read(I9),Oi.resolveKeyframes(U9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const o=i.readValue(n,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}Vme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Np.delete(this)}cancel(){this.state==="scheduled"&&(Np.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zme=t=>t.startsWith("--");function Qme(t,e,n){Zme(e)?t.style.setProperty(e,n):t.style[e]=n}const Jme=uN(()=>window.ScrollTimeline!==void 0),e0e={};function t0e(t,e){const n=uN(t);return()=>e0e[e]??n()}const z9=t0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Py=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,sB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Py([0,.65,.55,1]),circOut:Py([.55,0,1,.45]),backIn:Py([.31,.01,.66,-.59]),backOut:Py([.33,1.53,.69,.99])};function B9(t,e){if(t)return typeof t=="function"?z9()?N9(t,e):"ease-out":S9(t)?Py(t):Array.isArray(t)?t.map(n=>B9(n,e)||sB.easeOut):sB[t]}function n0e(t,e,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const m=B9(o,r);Array.isArray(m)&&(d.easing=m);const v={delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(d,v)}function j9(t){return typeof t=="function"&&"applyToOptions"in t}function i0e({type:t,...e}){return j9(t)&&z9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class r0e extends _N{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,cN(typeof e.type!="string");const f=i0e(e);this.animation=n0e(n,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=bN(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Qme(n,i,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Jme()?(this.animation.timeline=e,Jo):n(this)}}const F9={anticipate:y9,backInOut:v9,circInOut:b9};function a0e(t){return t in F9}function s0e(t){typeof t.ease=="string"&&a0e(t.ease)&&(t.ease=F9[t.ease])}const oB=10;class o0e extends r0e{constructor(e){s0e(e),L9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new SN({...s,autoplay:!1}),c=Vc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-oB).value,o.sample(c).value,oB),o.stop()}}const lB=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Id.test(t)||t==="0")&&!t.startsWith("url("));function l0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function c0e(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=lB(r,e),o=lB(a,e);return!s||!o?!1:l0e(t)||(n==="spring"||j9(n))&&i}function BR(t){t.duration=0,t.type="keyframes"}const u0e=new Set(["opacity","clipPath","filter","transform"]),f0e=uN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d0e(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:a,type:s}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return f0e()&&n&&u0e.has(n)&&(n!=="transform"||!f)&&!c&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const h0e=40;class p0e extends _N{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:c,motionValue:f,element:d,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fs.now();const v={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:s,name:c,motionValue:f,element:d,...m},y=d?.KeyframeResolver||MN;this.keyframeResolver=new y(o,(_,E,S)=>this.onKeyframesResolved(_,E,v,!S),c,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:c,isHandoff:f,onUpdate:d}=i;this.resolvedAt=Fs.now(),c0e(e,a,s,o)||((rf.instantAnimations||!c)&&d?.(bN(e,i,n)),e[0]=e[e.length-1],BR(i),i.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>h0e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},y=!f&&d0e(v)?new o0e({...v,element:v.motionValue.owner.current}):new SN(v);y.finished.then(()=>this.notifyFinished()).catch(Jo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$me()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g0e(t){const e=m0e.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function k9(t,e,n=1){const[i,r]=g0e(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return c9(s)?parseFloat(s):s}return mN(r)?k9(r,e,n+1):r}function EN(t,e){return t?.[e]??t?.default??t}const V9=new Set(["width","height","top","left","right","bottom",...Ng]),v0e={test:t=>t==="auto",parse:t=>t},H9=t=>e=>e.test(t),G9=[Dg,Qt,Hc,_d,lme,ome,v0e],cB=t=>G9.find(H9(t));function y0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||f9(t):!0}const x0e=new Set(["brightness","contrast","saturate","opacity"]);function b0e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(gN)||[];if(!i)return t;const r=n.replace(i,"");let a=x0e.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const _0e=/\b([a-z-]*)\(.*?\)/gu,jR={...Id,getAnimatableNone:t=>{const e=t.match(_0e);return e?e.map(b0e).join(" "):t}},uB={...Dg,transform:Math.round},S0e={rotate:_d,rotateX:_d,rotateY:_d,rotateZ:_d,scale:R_,scaleX:R_,scaleY:R_,scaleZ:R_,skew:_d,skewX:_d,skewY:_d,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:Sx,originX:Zz,originY:Zz,originZ:Qt},wN={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...S0e,zIndex:uB,fillOpacity:Sx,strokeOpacity:Sx,numOctaves:uB},M0e={...wN,color:Sr,backgroundColor:Sr,outlineColor:Sr,fill:Sr,stroke:Sr,borderColor:Sr,borderTopColor:Sr,borderRightColor:Sr,borderBottomColor:Sr,borderLeftColor:Sr,filter:jR,WebkitFilter:jR},q9=t=>M0e[t];function X9(t,e){let n=q9(t);return n!==jR&&(n=Id),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E0e=new Set(["auto","none","0"]);function w0e(t,e,n){let i=0,r;for(;i<t.length&&!r;){const a=t[i];typeof a=="string"&&!E0e.has(a)&&Mx(a).values.length&&(r=t[i]),i++}if(r&&n)for(const a of e)t[a]=X9(n,r)}class A0e extends MN{constructor(e,n,i,r,a){super(e,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),mN(f))){const d=k9(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!V9.has(i)||e.length!==2)return;const[r,a]=e,s=cB(r),o=cB(a);if(s!==o)if(aB(s)&&aB(o))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Dp[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||y0e(e[r]))&&i.push(r);i.length&&w0e(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dp[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=Dp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function T0e(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const W9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function C0e(t){return u9(t)&&"offsetHeight"in t}const fB=30,R0e=t=>!isNaN(parseFloat(t));class O0e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=Fs.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fN);const i=this.events[e].add(n);return e==="change"?()=>{i(),Oi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fB)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fB);return d9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ig(t,e){return new O0e(t,e)}const{schedule:AN}=M9(queueMicrotask,!1),Fl={x:!1,y:!1};function Y9(){return Fl.x||Fl.y}function D0e(t){return t==="x"||t==="y"?Fl[t]?null:(Fl[t]=!0,()=>{Fl[t]=!1}):Fl.x||Fl.y?null:(Fl.x=Fl.y=!0,()=>{Fl.x=Fl.y=!1})}function K9(t,e){const n=T0e(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function dB(t){return!(t.pointerType==="touch"||Y9())}function N0e(t,e,n={}){const[i,r,a]=K9(t,n),s=o=>{if(!dB(o))return;const{target:c}=o,f=e(c,o);if(typeof f!="function"||!c)return;const d=m=>{dB(m)&&(f(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return i.forEach(o=>{o.addEventListener("pointerenter",s,r)}),a}const $9=(t,e)=>e?t===e?!0:$9(t,e.parentElement):!1,TN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function L0e(t){return P0e.has(t.tagName)||t.tabIndex!==-1}const jS=new WeakSet;function hB(t){return e=>{e.key==="Enter"&&t(e)}}function i3(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const U0e=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=hB(()=>{if(jS.has(n))return;i3(n,"down");const r=hB(()=>{i3(n,"up")}),a=()=>i3(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function pB(t){return TN(t)&&!Y9()}function I0e(t,e,n={}){const[i,r,a]=K9(t,n),s=o=>{const c=o.currentTarget;if(!pB(o))return;jS.add(c);const f=e(c,o),d=(y,_)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),jS.has(c)&&jS.delete(c),pB(y)&&typeof f=="function"&&f(y,{success:_})},m=y=>{d(y,c===window||c===document||n.useGlobalTarget||$9(c,y.target))},v=y=>{d(y,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",v,r)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",s,r),C0e(o)&&(o.addEventListener("focus",f=>U0e(f,r)),!L0e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Z9(t){return u9(t)&&"ownerSVGElement"in t}function z0e(t){return Z9(t)&&t.tagName==="svg"}const Ua=t=>!!(t&&t.getVelocity),B0e=[...G9,Sr,Id],j0e=t=>B0e.find(H9(t)),Q9=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function F0e(t=!0){const e=U.useContext(sN);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=U.useId();U.useEffect(()=>{if(t)return r(a)},[t]);const s=U.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,s]:[!0]}const J9=U.createContext({strict:!1}),mB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rg={};for(const t in mB)rg[t]={isEnabled:e=>mB[t].some(n=>!!e[n])};function k0e(t){for(const e in t)rg[e]={...rg[e],...t[e]}}const V0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function XM(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||V0e.has(t)}let e7=t=>!XM(t);function H0e(t){typeof t=="function"&&(e7=e=>e.startsWith("on")?!XM(e):t(e))}try{H0e(require("@emotion/is-prop-valid").default)}catch{}function G0e(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(e7(r)||n===!0&&XM(r)||!e&&!XM(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const Ow=U.createContext({});function Dw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ex(t){return typeof t=="string"||Array.isArray(t)}const CN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RN=["initial",...CN];function Nw(t){return Dw(t.animate)||RN.some(e=>Ex(t[e]))}function t7(t){return!!(Nw(t)||t.variants)}function q0e(t,e){if(Nw(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ex(n)?n:void 0,animate:Ex(i)?i:void 0}}return t.inherit!==!1?e:{}}function X0e(t){const{initial:e,animate:n}=q0e(t,U.useContext(Ow));return U.useMemo(()=>({initial:e,animate:n}),[gB(e),gB(n)])}function gB(t){return Array.isArray(t)?t.join(" "):t}const wx={};function W0e(t){for(const e in t)wx[e]=t[e],pN(e)&&(wx[e].isCSSVariable=!0)}function n7(t,{layout:e,layoutId:n}){return Pg.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wx[t]||t==="opacity")}const Y0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K0e=Ng.length;function $0e(t,e,n){let i="",r=!0;for(let a=0;a<K0e;a++){const s=Ng[a],o=t[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const f=W9(o,wN[s]);if(!c){r=!1;const d=Y0e[s]||s;i+=`${d}(${f}) `}n&&(e[s]=f)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ON(t,e,n){const{style:i,vars:r,transformOrigin:a}=t;let s=!1,o=!1;for(const c in e){const f=e[c];if(Pg.has(c)){s=!0;continue}else if(pN(c)){r[c]=f;continue}else{const d=W9(f,wN[c]);c.startsWith("origin")?(o=!0,a[c]=d):i[c]=d}}if(e.transform||(s||n?i.transform=$0e(e,t.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${c} ${f} ${d}`}}const DN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i7(t,e,n){for(const i in e)!Ua(e[i])&&!n7(i,n)&&(t[i]=e[i])}function Z0e({transformTemplate:t},e){return U.useMemo(()=>{const n=DN();return ON(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Q0e(t,e){const n=t.style||{},i={};return i7(i,n,t),Object.assign(i,Z0e(t,e)),i}function J0e(t,e){const n={},i=Q0e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const ege={offset:"stroke-dashoffset",array:"stroke-dasharray"},tge={offset:"strokeDashoffset",array:"strokeDasharray"};function nge(t,e,n=1,i=0,r=!0){t.pathLength=1;const a=r?ege:tge;t[a.offset]=Qt.transform(-i);const s=Qt.transform(e),o=Qt.transform(n);t[a.array]=`${s} ${o}`}function r7(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...o},c,f,d){if(ON(t,o,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v}=t;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=d?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),r!==void 0&&nge(m,r,a,s,!1)}const a7=()=>({...DN(),attrs:{}}),s7=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ige(t,e,n,i){const r=U.useMemo(()=>{const a=a7();return r7(a,e,s7(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};i7(a,t.style,t),r.style={...a,...r.style}}return r}const rge=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NN(t){return typeof t!="string"||t.includes("-")?!1:!!(rge.indexOf(t)>-1||/[A-Z]/u.test(t))}function age(t,e,n,{latestValues:i},r,a=!1){const o=(NN(t)?ige:J0e)(e,i,r,t),c=G0e(e,typeof t=="string",a),f=t!==U.Fragment?{...c,...o,ref:n}:{},{children:d}=e,m=U.useMemo(()=>Ua(d)?d.get():d,[d]);return U.createElement(t,{...f,children:m})}function vB(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function PN(t,e,n,i){if(typeof e=="function"){const[r,a]=vB(i);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=vB(i);e=e(n!==void 0?n:t.custom,r,a)}return e}function FS(t){return Ua(t)?t.get():t}function sge({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:oge(n,i,r,t),renderState:e()}}function oge(t,e,n,i){const r={},a=i(t,{});for(const v in a)r[v]=FS(a[v]);let{initial:s,animate:o}=t;const c=Nw(t),f=t7(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const m=d?o:s;if(m&&typeof m!="boolean"&&!Dw(m)){const v=Array.isArray(m)?m:[m];for(let y=0;y<v.length;y++){const _=PN(t,v[y]);if(_){const{transitionEnd:E,transition:S,...M}=_;for(const C in M){let T=M[C];if(Array.isArray(T)){const L=d?T.length-1:0;T=T[L]}T!==null&&(r[C]=T)}for(const C in E)r[C]=E[C]}}}return r}const o7=t=>(e,n)=>{const i=U.useContext(Ow),r=U.useContext(sN),a=()=>sge(t,e,i,r);return n?a():kpe(a)};function LN(t,e,n){const{style:i}=t,r={};for(const a in i)(Ua(i[a])||e.style&&Ua(e.style[a])||n7(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const lge=o7({scrapeMotionValuesFromProps:LN,createRenderState:DN});function l7(t,e,n){const i=LN(t,e,n);for(const r in t)if(Ua(t[r])||Ua(e[r])){const a=Ng.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=t[r]}return i}const cge=o7({scrapeMotionValuesFromProps:l7,createRenderState:a7}),uge=Symbol.for("motionComponentSymbol");function B0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fge(t,e,n){return U.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):B0(n)&&(n.current=i))},[e])}const UN=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dge="framerAppearId",c7="data-"+UN(dge),u7=U.createContext({});function hge(t,e,n,i,r){const{visualElement:a}=U.useContext(Ow),s=U.useContext(J9),o=U.useContext(sN),c=U.useContext(Q9).reducedMotion,f=U.useRef(null);i=i||s.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,m=U.useContext(u7);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&pge(f.current,n,r,m);const v=U.useRef(!1);U.useInsertionEffect(()=>{d&&v.current&&d.update(n,o)});const y=n[c7],_=U.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return Vpe(()=>{d&&(v.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),_.current&&d.animationState&&d.animationState.animateChanges())}),U.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),_.current=!1),d.enteringChildren=void 0)}),d}function pge(t,e,n,i){const{layoutId:r,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:f7(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||o&&B0(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:c,layoutRoot:f})}function f7(t){if(t)return t.options.allowProjection!==!1?t.projection:f7(t.parent)}function r3(t,{forwardMotionProps:e=!1}={},n,i){n&&k0e(n);const r=NN(t)?cge:lge;function a(o,c){let f;const d={...U.useContext(Q9),...o,layoutId:mge(o)},{isStatic:m}=d,v=X0e(o),y=r(o,m);if(!m&&aN){gge();const _=vge(d);f=_.MeasureLayout,v.visualElement=hge(t,y,d,i,_.ProjectionNode)}return R.jsxs(Ow.Provider,{value:v,children:[f&&v.visualElement?R.jsx(f,{visualElement:v.visualElement,...d}):null,age(t,o,fge(y,v.visualElement,c),y,m,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const s=U.forwardRef(a);return s[uge]=t,s}function mge({layoutId:t}){const e=U.useContext(l9).id;return e&&t!==void 0?e+"-"+t:t}function gge(t,e){U.useContext(J9).strict}function vge(t){const{drag:e,layout:n}=rg;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function yge(t,e){if(typeof Proxy>"u")return r3;const n=new Map,i=(a,s)=>r3(a,s,t,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(n.has(s)||n.set(s,r3(s,void 0,t,e)),n.get(s))})}function d7({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function xge({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bge(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function a3(t){return t===void 0||t===1}function FR({scale:t,scaleX:e,scaleY:n}){return!a3(t)||!a3(e)||!a3(n)}function cp(t){return FR(t)||h7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function h7(t){return yB(t.x)||yB(t.y)}function yB(t){return t&&t!=="0%"}function WM(t,e,n){const i=t-n,r=e*i;return n+r}function xB(t,e,n,i,r){return r!==void 0&&(t=WM(t,r,i)),WM(t,n,i)+e}function kR(t,e=0,n=1,i,r){t.min=xB(t.min,e,n,i,r),t.max=xB(t.max,e,n,i,r)}function p7(t,{x:e,y:n}){kR(t.x,e.translate,e.scale,e.originPoint),kR(t.y,n.translate,n.scale,n.originPoint)}const bB=.999999999999,_B=1.0000000000001;function _ge(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,s;for(let o=0;o<r;o++){a=n[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&F0(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,p7(t,s)),i&&cp(a.latestValues)&&F0(t,a.latestValues))}e.x<_B&&e.x>bB&&(e.x=1),e.y<_B&&e.y>bB&&(e.y=1)}function j0(t,e){t.min=t.min+e,t.max=t.max+e}function SB(t,e,n,i,r=.5){const a=ki(t.min,t.max,r);kR(t,e,n,a,i)}function F0(t,e){SB(t.x,e.x,e.scaleX,e.scale,e.originX),SB(t.y,e.y,e.scaleY,e.scale,e.originY)}function m7(t,e){return d7(bge(t.getBoundingClientRect(),e))}function Sge(t,e,n){const i=m7(t,n),{scroll:r}=e;return r&&(j0(i.x,r.offset.x),j0(i.y,r.offset.y)),i}const MB=()=>({translate:0,scale:1,origin:0,originPoint:0}),k0=()=>({x:MB(),y:MB()}),EB=()=>({min:0,max:0}),fr=()=>({x:EB(),y:EB()}),VR={current:null},g7={current:!1};function Mge(){if(g7.current=!0,!!aN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>VR.current=t.matches;t.addEventListener("change",e),e()}else VR.current=!1}const Ege=new WeakMap;function wge(t,e,n){for(const i in e){const r=e[i],a=n[i];if(Ua(r))t.addValue(i,r);else if(Ua(a))t.addValue(i,ig(r,{owner:t}));else if(a!==r)if(t.hasValue(i)){const s=t.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=t.getStaticValue(i);t.addValue(i,ig(s!==void 0?s:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const wB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Age{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Fs.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Oi.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Nw(n),this.isVariantNode=t7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const y=m[v];c[v]!==void 0&&Ua(y)&&y.set(c[v])}}mount(e){this.current=e,Ege.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),g7.current||Mge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VR.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ud(this.notifyUpdate),Ud(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Pg.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Oi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rg){const n=rg[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<wB.length;i++){const r=wB[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=wge(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ig(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(c9(i)||f9(i))?i=parseFloat(i):!j0e(i)&&Id.test(n)&&(i=X9(e,n)),this.setBaseTarget(e,Ua(i)?i.get():i)),Ua(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=PN(this.props,n,this.presenceContext?.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ua(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){AN.render(this.render)}}class v7 extends Age{constructor(){super(...arguments),this.KeyframeResolver=A0e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ua(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function y7(t,{style:e,vars:n},i,r){const a=t.style;let s;for(s in e)a[s]=e[s];r?.applyProjectionStyles(a,i);for(s in n)a.setProperty(s,n[s])}function Tge(t){return window.getComputedStyle(t)}class Cge extends v7{constructor(){super(...arguments),this.type="html",this.renderInstance=y7}readValueFromInstance(e,n){if(Pg.has(n))return this.projection?.isProjecting?PR(n):qme(e,n);{const i=Tge(e),r=(pN(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return m7(e,n)}build(e,n,i){ON(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return LN(e,n,i)}}const x7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rge(t,e,n,i){y7(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(x7.has(r)?r:UN(r),e.attrs[r])}class Oge extends v7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pg.has(n)){const i=q9(n);return i&&i.default||0}return n=x7.has(n)?n:UN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return l7(e,n,i)}build(e,n,i){r7(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){Rge(e,n,i,r)}mount(e){this.isSVGTag=s7(e.tagName),super.mount(e)}}const Dge=(t,e)=>NN(t)?new Oge(e):new Cge(e,{allowProjection:t!==U.Fragment});function W0(t,e,n){const i=t.getProps();return PN(i,e,n!==void 0?n:i.custom,t)}const HR=t=>Array.isArray(t);function Nge(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ig(n))}function Pge(t){return HR(t)?t[t.length-1]||0:t}function Lge(t,e){const n=W0(t,e);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const s in a){const o=Pge(a[s]);Nge(t,s,o)}}function Uge(t){return!!(Ua(t)&&t.add)}function GR(t,e){const n=t.getValue("willChange");if(Uge(n))return n.add(e);if(!n&&rf.WillChange){const i=new rf.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function b7(t){return t.props[c7]}const Ige=t=>t!==null;function zge(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Ige),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}const Bge={type:"spring",stiffness:500,damping:25,restSpeed:10},jge=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fge={type:"keyframes",duration:.8},kge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vge=(t,{keyframes:e})=>e.length>2?Fge:Pg.has(t)?t.startsWith("scale")?jge(e[1]):Bge:kge;function Hge({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const IN=(t,e,n,i={},r,a)=>s=>{const o=EN(i,t)||{},c=o.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Vc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:v=>{e.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:r};Hge(o)||Object.assign(d,Vge(t,d)),d.duration&&(d.duration=Vc(d.duration)),d.repeatDelay&&(d.repeatDelay=Vc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(BR(d),d.delay===0&&(m=!0)),(rf.instantAnimations||rf.skipAnimations)&&(m=!0,BR(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!a&&e.get()!==void 0){const v=zge(d.keyframes,o);if(v!==void 0){Oi.update(()=>{d.onUpdate(v),d.onComplete()});return}}return o.isSync?new SN(d):new p0e(d)};function Gge({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function _7(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=e;i&&(a=i);const c=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const d in o){const m=t.getValue(d,t.latestValues[d]??null),v=o[d];if(v===void 0||f&&Gge(f,d))continue;const y={delay:n,...EN(a||{},d)},_=m.get();if(_!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===_&&!y.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const M=b7(t);if(M){const C=window.MotionHandoffAnimation(M,d,Oi);C!==null&&(y.startTime=C,E=!0)}}GR(t,d),m.start(IN(d,m,v,t.shouldReduceMotion&&V9.has(d)?{type:!1}:y,t,E));const S=m.animation;S&&c.push(S)}return s&&Promise.all(c).then(()=>{Oi.update(()=>{s&&Lge(t,s)})}),c}function S7(t,e,n,i=0,r=1){const a=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),s=t.size,o=(s-1)*i;return typeof n=="function"?n(a,s):r===1?a*i:o-a*i}function qR(t,e,n={}){const i=W0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(_7(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=r;return qge(t,e,c,f,d,m,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[c,f]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>f())}else return Promise.all([a(),s(n.delay)])}function qge(t,e,n=0,i=0,r=0,a=1,s){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(qR(c,e,{...s,delay:n+(typeof i=="function"?0:i)+S7(t.variantChildren,c,i,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function Xge(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>qR(t,a,n));i=Promise.all(r)}else if(typeof e=="string")i=qR(t,e,n);else{const r=typeof e=="function"?W0(t,e,n.custom):e;i=Promise.all(_7(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function M7(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Wge=RN.length;function E7(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?E7(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Wge;n++){const i=RN[n],r=t.props[i];(Ex(r)||r===!1)&&(e[i]=r)}return e}const Yge=[...CN].reverse(),Kge=CN.length;function $ge(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Xge(t,n,i)))}function Zge(t){let e=$ge(t),n=AB(),i=!0;const r=c=>(f,d)=>{const m=W0(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:v,transitionEnd:y,..._}=m;f={...f,..._,...y}}return f};function a(c){e=c(t)}function s(c){const{props:f}=t,d=E7(t.parent)||{},m=[],v=new Set;let y={},_=1/0;for(let S=0;S<Kge;S++){const M=Yge[S],C=n[M],T=f[M]!==void 0?f[M]:d[M],L=Ex(T),P=M===c?C.isActive:null;P===!1&&(_=S);let N=T===d[M]&&T!==f[M]&&L;if(N&&i&&t.manuallyAnimateOnMount&&(N=!1),C.protectedKeys={...y},!C.isActive&&P===null||!T&&!C.prevProp||Dw(T)||typeof T=="boolean")continue;const z=Qge(C.prevProp,T);let F=z||M===c&&C.isActive&&!N&&L||S>_&&L,I=!1;const j=Array.isArray(T)?T:[T];let k=j.reduce(r(M),{});P===!1&&(k={});const{prevResolvedValues:Z={}}=C,ee={...Z,...k},re=X=>{F=!0,v.has(X)&&(I=!0,v.delete(X)),C.needsAnimating[X]=!0;const K=t.getValue(X);K&&(K.liveStyle=!1)};for(const X in ee){const K=k[X],ne=Z[X];if(y.hasOwnProperty(X))continue;let q=!1;HR(K)&&HR(ne)?q=!M7(K,ne):q=K!==ne,q?K!=null?re(X):v.add(X):K!==void 0&&v.has(X)?re(X):C.protectedKeys[X]=!0}C.prevProp=T,C.prevResolvedValues=k,C.isActive&&(y={...y,...k}),i&&t.blockInitialAnimation&&(F=!1);const ae=N&&z;F&&(!ae||I)&&m.push(...j.map(X=>{const K={type:M};if(typeof X=="string"&&i&&!ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:ne}=t,q=W0(ne,X);if(ne.enteringChildren&&q){const{delayChildren:se}=q.transition||{};K.delay=S7(ne.enteringChildren,t,se)}}return{animation:X,options:K}}))}if(v.size){const S={};if(typeof f.initial!="boolean"){const M=W0(t,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(S.transition=M.transition)}v.forEach(M=>{const C=t.getBaseTarget(M),T=t.getValue(M);T&&(T.liveStyle=!0),S[M]=C??null}),m.push({animation:S})}let E=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(m):Promise.resolve()}function o(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,f)),n[c].isActive=f;const d=s(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=AB(),i=!0}}}function Qge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M7(e,t):!1}function Gh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AB(){return{animate:Gh(!0),whileInView:Gh(),whileHover:Gh(),whileTap:Gh(),whileDrag:Gh(),whileFocus:Gh(),exit:Gh()}}class Wd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Jge extends Wd{constructor(e){super(e),e.animationState||(e.animationState=Zge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let eve=0;class tve extends Wd{constructor(){super(...arguments),this.id=eve++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nve={animation:{Feature:Jge},exit:{Feature:tve}};function Ax(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function _b(t){return{point:{x:t.pageX,y:t.pageY}}}const ive=t=>e=>TN(e)&&t(e,_b(e));function qy(t,e,n,i){return Ax(t,e,ive(n),i)}const w7=1e-4,rve=1-w7,ave=1+w7,A7=.01,sve=0-A7,ove=0+A7;function fs(t){return t.max-t.min}function lve(t,e,n){return Math.abs(t-e)<=n}function TB(t,e,n,i=.5){t.origin=i,t.originPoint=ki(e.min,e.max,t.origin),t.scale=fs(n)/fs(e),t.translate=ki(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rve&&t.scale<=ave||isNaN(t.scale))&&(t.scale=1),(t.translate>=sve&&t.translate<=ove||isNaN(t.translate))&&(t.translate=0)}function Xy(t,e,n,i){TB(t.x,e.x,n.x,i?i.originX:void 0),TB(t.y,e.y,n.y,i?i.originY:void 0)}function CB(t,e,n){t.min=n.min+e.min,t.max=t.min+fs(e)}function cve(t,e,n){CB(t.x,e.x,n.x),CB(t.y,e.y,n.y)}function RB(t,e,n){t.min=e.min-n.min,t.max=t.min+fs(e)}function Wy(t,e,n){RB(t.x,e.x,n.x),RB(t.y,e.y,n.y)}function Ko(t){return[t("x"),t("y")]}const T7=({current:t})=>t?t.ownerDocument.defaultView:null,OB=(t,e)=>Math.abs(t-e);function uve(t,e){const n=OB(t.x,e.x),i=OB(t.y,e.y);return Math.sqrt(n**2+i**2)}class C7{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=o3(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=uve(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!_)return;const{point:E}=v,{timestamp:S}=da;this.history.push({...E,timestamp:S});const{onStart:M,onMove:C}=this.handlers;y||(M&&M(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=s3(y,this.transformPagePoint),Oi.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=o3(v.type==="pointercancel"?this.lastMoveEventInfo:s3(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,M),E&&E(v,M)},!TN(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const o=_b(e),c=s3(o,this.transformPagePoint),{point:f}=c,{timestamp:d}=da;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,o3(c,this.history)),this.removeListeners=yb(qy(this.contextWindow,"pointermove",this.handlePointerMove),qy(this.contextWindow,"pointerup",this.handlePointerUp),qy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ud(this.updatePoint)}}function s3(t,e){return e?{point:e(t.point)}:t}function DB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o3({point:t},e){return{point:t,delta:DB(t,R7(e)),offset:DB(t,fve(e)),velocity:dve(e,.1)}}function fve(t){return t[0]}function R7(t){return t[t.length-1]}function dve(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=R7(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Vc(e)));)n--;if(!i)return{x:0,y:0};const a=Qo(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function hve(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ki(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ki(n,t,i.max):Math.min(t,n)),t}function NB(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pve(t,{top:e,left:n,bottom:i,right:r}){return{x:NB(t.x,n,r),y:NB(t.y,e,i)}}function PB(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function mve(t,e){return{x:PB(t.x,e.x),y:PB(t.y,e.y)}}function gve(t,e){let n=.5;const i=fs(t),r=fs(e);return r>i?n=_x(e.min,e.max-i,t.min):i>r&&(n=_x(t.min,t.max-r,e.min)),nf(0,1,n)}function vve(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const XR=.35;function yve(t=XR){return t===!1?t=0:t===!0&&(t=XR),{x:LB(t,"left","right"),y:LB(t,"top","bottom")}}function LB(t,e,n){return{min:UB(t,e),max:UB(t,n)}}function UB(t,e){return typeof t=="number"?t:t[e]||0}const xve=new WeakMap;class bve{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_b(m).point)},s=(m,v)=>{const{drag:y,dragPropagation:_,onDragStart:E}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D0e(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ko(M=>{let C=this.getAxisMotionValue(M).get()||0;if(Hc.test(C)){const{projection:T}=this.visualElement;if(T&&T.layout){const L=T.layout.layoutBox[M];L&&(C=fs(L)*(parseFloat(C)/100))}}this.originPoint[M]=C}),E&&Oi.postRender(()=>E(m,v)),GR(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:E,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:M}=v;if(_&&this.currentDirection===null){this.currentDirection=_ve(M),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,M),this.updateAxis("y",v.point,M),this.visualElement.render(),S&&S(m,v)},c=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ko(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new C7(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:T7(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Oi.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!O_(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=hve(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&B0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=pve(i.layoutBox,e):this.constraints=!1,this.elastic=yve(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ko(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vve(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!B0(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=Sge(i,r.root,this.visualElement.getTransformPagePoint());let s=mve(r.layout.layoutBox,a);if(n){const o=n(xge(s));this.hasMutatedConstraints=!!o,o&&(s=d7(o))}return s}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},f=Ko(d=>{if(!O_(d,n,this.currentDirection))return;let m=c&&c[d]||{};s&&(m={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,_={type:"inertia",velocity:i?e[d]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(d,_)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return GR(this.visualElement,e),i.start(IN(e,i,0,n,this.visualElement,!1))}stopAnimation(){Ko(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ko(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ko(n=>{const{drag:i}=this.getProps();if(!O_(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:s,max:o}=r.layout.layoutBox[n];a.set(e[n]-ki(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!B0(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ko(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();r[s]=gve({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ko(s=>{if(!O_(s,e,null))return;const o=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];o.set(ki(c,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;xve.set(this.visualElement,this);const e=this.visualElement.current,n=qy(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();B0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Oi.read(i);const s=Ax(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ko(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=XR,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function O_(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _ve(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Sve extends Wd{constructor(e){super(e),this.removeGroupControls=Jo,this.removeListeners=Jo,this.controls=new bve(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const IB=t=>(e,n)=>{t&&Oi.postRender(()=>t(e,n))};class Mve extends Wd{constructor(){super(...arguments),this.removePointerDownListener=Jo}onPointerDown(e){this.session=new C7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:IB(e),onStart:IB(n),onMove:i,onEnd:(a,s)=>{delete this.session,r&&Oi.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=qy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zB(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Qt.test(t))t=parseFloat(t);else return t;const n=zB(t,e.target.x),i=zB(t,e.target.y);return`${n}% ${i}%`}},Eve={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Id.parse(t);if(r.length>5)return i;const a=Id.createTransformer(t),s=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;r[0+s]/=o,r[1+s]/=c;const f=ki(o,c,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}};let l3=!1;class wve extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;W0e(Ave),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),l3&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,l3=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Oi.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),AN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;l3=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function O7(t){const[e,n]=F0e(),i=U.useContext(l9);return R.jsx(wve,{...t,layoutGroup:i,switchLayoutGroup:U.useContext(u7),isPresent:e,safeToRemove:n})}const Ave={borderRadius:{...dy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dy,borderTopRightRadius:dy,borderBottomLeftRadius:dy,borderBottomRightRadius:dy,boxShadow:Eve};function Tve(t,e,n){const i=Ua(t)?t:ig(t);return i.start(IN("",i,e,n)),i.animation}const Cve=(t,e)=>t.depth-e.depth;class Rve{constructor(){this.children=[],this.isDirty=!1}add(e){oN(this.children,e),this.isDirty=!0}remove(e){lN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cve),this.isDirty=!1,this.children.forEach(e)}}function Ove(t,e){const n=Fs.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(Ud(i),t(a-e))};return Oi.setup(i,!0),()=>Ud(i)}const D7=["TopLeft","TopRight","BottomLeft","BottomRight"],Dve=D7.length,BB=t=>typeof t=="string"?parseFloat(t):t,jB=t=>typeof t=="number"||Qt.test(t);function Nve(t,e,n,i,r,a){r?(t.opacity=ki(0,n.opacity??1,Pve(i)),t.opacityExit=ki(e.opacity??1,0,Lve(i))):a&&(t.opacity=ki(e.opacity??1,n.opacity??1,i));for(let s=0;s<Dve;s++){const o=`border${D7[s]}Radius`;let c=FB(e,o),f=FB(n,o);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||jB(c)===jB(f)?(t[o]=Math.max(ki(BB(c),BB(f),i),0),(Hc.test(f)||Hc.test(c))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=ki(e.rotate||0,n.rotate||0,i))}function FB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pve=N7(0,.5,x9),Lve=N7(.5,.95,Jo);function N7(t,e,n){return i=>i<t?0:i>e?1:n(_x(t,e,i))}function kB(t,e){t.min=e.min,t.max=e.max}function Xo(t,e){kB(t.x,e.x),kB(t.y,e.y)}function VB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HB(t,e,n,i,r){return t-=e,t=WM(t,1/n,i),r!==void 0&&(t=WM(t,1/r,i)),t}function Uve(t,e=0,n=1,i=.5,r,a=t,s=t){if(Hc.test(e)&&(e=parseFloat(e),e=ki(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=ki(a.min,a.max,i);t===a&&(o-=e),t.min=HB(t.min,e,n,o,r),t.max=HB(t.max,e,n,o,r)}function GB(t,e,[n,i,r],a,s){Uve(t,e[n],e[i],e[r],e.scale,a,s)}const Ive=["x","scaleX","originX"],zve=["y","scaleY","originY"];function qB(t,e,n,i){GB(t.x,e,Ive,n?n.x:void 0,i?i.x:void 0),GB(t.y,e,zve,n?n.y:void 0,i?i.y:void 0)}function XB(t){return t.translate===0&&t.scale===1}function P7(t){return XB(t.x)&&XB(t.y)}function WB(t,e){return t.min===e.min&&t.max===e.max}function Bve(t,e){return WB(t.x,e.x)&&WB(t.y,e.y)}function YB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function L7(t,e){return YB(t.x,e.x)&&YB(t.y,e.y)}function KB(t){return fs(t.x)/fs(t.y)}function $B(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jve{constructor(){this.members=[]}add(e){oN(this.members,e),e.scheduleRender()}remove(e){if(lN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fve(t,e,n){let i="";const r=t.x.translate/e.x,a=t.y.translate/e.y,s=n?.z||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:m,rotateY:v,skewX:y,skewY:_}=n;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `),y&&(i+=`skewX(${y}deg) `),_&&(i+=`skewY(${_}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const c3=["","X","Y","Z"],kve=1e3;let Vve=0;function u3(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function U7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=b7(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Oi,!(r||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&U7(i)}function I7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},o=e?.()){this.id=Vve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qve),this.nodes.forEach(Kve),this.nodes.forEach($ve),this.nodes.forEach(Xve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new fN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Z9(s)&&!z0e(s),this.instance=s;const{layoutId:o,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const v=()=>this.root.updateBlockedByResize=!1;Oi.read(()=>{m=window.innerWidth}),t(s,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,d&&d(),d=Ove(v,250),kS.hasAnimatedSinceResize&&(kS.hasAnimatedSinceResize=!1,this.nodes.forEach(JB)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||tye,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=f.getProps(),M=!this.targetLayout||!L7(this.targetLayout,y),C=!m&&v;if(this.options.layoutRoot||this.resumeFrom||C||m&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...EN(_,"layout"),onPlay:E,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,C)}else m||JB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ud(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zve),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yve),this.nodes.forEach(Hve),this.nodes.forEach(Gve)):this.nodes.forEach(QB),this.clearAllSnapshots();const o=Fs.now();da.delta=nf(0,1e3/60,o-da.timestamp),da.timestamp=o,da.isProcessing=!0,Q2.update.process(da),Q2.preRender.process(da),Q2.render.process(da),da.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wve),this.sharedNodes.forEach(Qve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fs(this.snapshot.measuredBox.x)&&!fs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!P7(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;s&&this.instance&&(o||cp(this.latestValues)||d)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),nye(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return fr();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iye))){const{scroll:f}=this.root;f&&(j0(o.x,f.offset.x),j0(o.y,f.offset.y))}return o}removeElementScroll(s){const o=fr();if(Xo(o,s),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Xo(o,s),j0(o.x,d.offset.x),j0(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const c=fr();Xo(c,s);for(let f=0;f<this.path.length;f++){const d=this.path[f];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&F0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cp(d.latestValues)&&F0(c,d.latestValues)}return cp(this.latestValues)&&F0(c,this.latestValues),c}removeTransform(s){const o=fr();Xo(o,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!cp(f.latestValues))continue;FR(f.latestValues)&&f.updateSnapshot();const d=fr(),m=f.measurePageBox();Xo(d,m),qB(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return cp(this.latestValues)&&qB(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==da.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=da.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),Wy(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fr(),this.targetWithTransforms=fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),p7(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fr(),this.relativeTargetOrigin=fr(),Wy(this.relativeTargetOrigin,this.target,v.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FR(this.parent.latestValues)||h7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===da.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Xo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;_ge(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=fr());const{target:y}=s;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VB(this.prevProjectionDelta.x,this.projectionDelta.x),VB(this.prevProjectionDelta.y,this.projectionDelta.y)),Xy(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!$B(this.projectionDelta.x,this.prevProjectionDelta.x)||!$B(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=k0(),this.projectionDelta=k0(),this.projectionDeltaWithTransform=k0()}setAnimationOrigin(s,o=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},m=k0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const v=fr(),y=c?c.source:void 0,_=this.layout?this.layout.source:void 0,E=y!==_,S=this.getStack(),M=!S||S.members.length<=1,C=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(eye));this.animationProgress=0;let T;this.mixTargetDelta=L=>{const P=L/1e3;e5(m.x,s.x,P),e5(m.y,s.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wy(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jve(this.relativeTarget,this.relativeTargetOrigin,v,P),T&&Bve(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=fr()),Xo(T,this.relativeTarget)),E&&(this.animationValues=d,Nve(d,f,this.latestValues,P,C,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ud(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oi.update(()=>{kS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ig(0)),this.currentAnimation=Tve(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:f,latestValues:d}=s;if(!(!o||!c||!f)){if(this!==s&&this.layout&&f&&z7(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||fr();const m=fs(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+m;const v=fs(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+v}Xo(o,c),F0(o,d),Xy(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new jve),this.sharedNodes.get(s).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const f={};c.z&&u3("z",s,f,this.animationValues);for(let d=0;d<c3.length;d++)u3(`rotate${c3[d]}`,s,f,this.animationValues),u3(`skew${c3[d]}`,s,f,this.animationValues);s.render();for(const d in f)s.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=FS(o?.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=FS(o?.pointerEvents)||""),this.hasProjected&&!cp(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=Fve(this.projectionDeltaWithTransform,this.treeScale,d);c&&(m=c(d,m)),s.transform=m;const{x:v,y}=this.projectionDelta;s.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?s.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in wx){if(d[_]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:M}=wx[_],C=m==="none"?d[_]:E(d[_],f);if(S){const T=S.length;for(let L=0;L<T;L++)s[S[L]]=C}else M?this.options.visualElement.renderState.vars[_]=C:s[_]=C}this.options.layoutId&&(s.pointerEvents=f===this?FS(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(ZB),this.root.sharedNodes.clear()}}}function Hve(t){t.updateLayout()}function Gve(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,a=e.source!==t.layout.source;r==="size"?Ko(d=>{const m=a?e.measuredBox[d]:e.layoutBox[d],v=fs(m);m.min=n[d].min,m.max=m.min+v}):z7(r,e.layoutBox,n)&&Ko(d=>{const m=a?e.measuredBox[d]:e.layoutBox[d],v=fs(n[d]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+v)});const s=k0();Xy(s,n,e.layoutBox);const o=k0();a?Xy(o,t.applyTransform(i,!0),e.measuredBox):Xy(o,n,e.layoutBox);const c=!P7(s);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:v}=d;if(m&&v){const y=fr();Wy(y,e.layoutBox,m.layoutBox);const _=fr();Wy(_,n,v.layoutBox),L7(y,_)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qve(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wve(t){t.clearSnapshot()}function ZB(t){t.clearMeasurements()}function QB(t){t.isLayoutDirty=!1}function Yve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kve(t){t.resolveTargetDelta()}function $ve(t){t.calcProjection()}function Zve(t){t.resetSkewAndRotation()}function Qve(t){t.removeLeadSnapshot()}function e5(t,e,n){t.translate=ki(e.translate,0,n),t.scale=ki(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t5(t,e,n,i){t.min=ki(e.min,n.min,i),t.max=ki(e.max,n.max,i)}function Jve(t,e,n,i){t5(t.x,e.x,n.x,i),t5(t.y,e.y,n.y,i)}function eye(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tye={duration:.45,ease:[.4,0,.1,1]},n5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),i5=n5("applewebkit/")&&!n5("chrome/")?Math.round:Jo;function r5(t){t.min=i5(t.min),t.max=i5(t.max)}function nye(t){r5(t.x),r5(t.y)}function z7(t,e,n){return t==="position"||t==="preserve-aspect"&&!lve(KB(e),KB(n),.2)}function iye(t){return t!==t.root&&t.scroll?.wasRoot}const rye=I7({attachResizeListener:(t,e)=>Ax(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f3={current:void 0},B7=I7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!f3.current){const t=new rye({});t.mount(window),t.setOptions({layoutScroll:!0}),f3.current=t}return f3.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aye={pan:{Feature:Mve},drag:{Feature:Sve,ProjectionNode:B7,MeasureLayout:O7}};function a5(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&Oi.postRender(()=>a(e,_b(e)))}class sye extends Wd{mount(){const{current:e}=this.node;e&&(this.unmount=N0e(e,(n,i)=>(a5(this.node,i,"Start"),r=>a5(this.node,r,"End"))))}unmount(){}}class oye extends Wd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yb(Ax(this.node.current,"focus",()=>this.onFocus()),Ax(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s5(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&Oi.postRender(()=>a(e,_b(e)))}class lye extends Wd{mount(){const{current:e}=this.node;e&&(this.unmount=I0e(e,(n,i)=>(s5(this.node,i,"Start"),(r,{success:a})=>s5(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const WR=new WeakMap,d3=new WeakMap,cye=t=>{const e=WR.get(t.target);e&&e(t)},uye=t=>{t.forEach(cye)};function fye({root:t,...e}){const n=t||document;d3.has(n)||d3.set(n,{});const i=d3.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(uye,{root:t,...e})),i[r]}function dye(t,e,n){const i=fye(e);return WR.set(t,n),i.observe(t),()=>{WR.delete(t),i.unobserve(t)}}const hye={some:0,all:1};class pye extends Wd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,s={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:hye[r]},o=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),v=f?d:m;v&&v(c)};return dye(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mye(e,n))&&this.startObserver()}unmount(){}}function mye({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gye={inView:{Feature:pye},tap:{Feature:lye},focus:{Feature:oye},hover:{Feature:sye}},vye={layout:{ProjectionNode:B7,MeasureLayout:O7}},yye={...nve,...gye,...aye,...vye},l0=yge(yye,Dge),xye=({nombre:t,dispositivosConectados:e,temperatura:n,modulosActivos:i,status:r})=>{const[a,s]=U.useState(!1),o=()=>{switch(r){case"activo":return"bg-gradient-to-r from-green-400 to-green-600";case"inactivo":return"bg-gradient-to-r from-gray-400 to-gray-600";case"alerta":return"bg-gradient-to-r from-red-400 to-red-600";default:return"bg-gradient-to-r from-gray-400 to-gray-600"}},c=Vd(),f=Math.min(n/50*100,100),d=m=>{m.stopPropagation(),m.preventDefault(),console.log(`Navigating from ${t} to /estante-3d`),c("/estante-3d")};return R.jsxs(l0.div,{className:"relative bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl shadow-lg border border-gray-100 overflow-hidden transform transition-all duration-300 hover:shadow-xl hover:-translate-y-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[R.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100/30 to-purple-100/30 opacity-50"}),R.jsxs("div",{className:"relative flex justify-between items-center mb-6",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-800 tracking-tight",children:t}),R.jsx(l0.span,{className:`text-white px-3 py-1 rounded-full text-sm font-medium ${o()}`,animate:{scale:a?1.1:1},transition:{duration:.2},children:r.charAt(0).toUpperCase()+r.slice(1)})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[R.jsxs("div",{className:"space-y-1",children:[R.jsx("p",{className:"text-gray-500 text-sm",children:"Dispositivos conectados"}),R.jsx(l0.p,{className:"text-2xl font-bold text-gray-800",animate:{color:a?"#3B82F6":"#1F2937"},transition:{duration:.3},children:e})]}),R.jsxs("div",{className:"space-y-1",children:[R.jsx("p",{className:"text-gray-500 text-sm",children:"Mdulos activos"}),R.jsx(l0.p,{className:"text-2xl font-bold text-gray-800",animate:{color:a?"#3B82F6":"#1F2937"},transition:{duration:.3},children:i})]}),R.jsxs("div",{className:"col-span-2 flex items-center space-x-4",children:[R.jsx("p",{className:"text-gray-500 text-sm",children:"Temperatura"}),R.jsxs("div",{className:"relative w-16 h-16",children:[R.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[R.jsx("path",{d:`M18 2.0845\r
                  a 15.9155 15.9155 0 0 1 0 31.831\r
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),R.jsx(l0.path,{d:`M18 2.0845\r
                  a 15.9155 15.9155 0 0 1 0 31.831\r
                  a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#3B82F6",strokeWidth:"3",strokeDasharray:`${f}, 100`,initial:{strokeDasharray:"0, 100"},animate:{strokeDasharray:`${f}, 100`},transition:{duration:1,ease:"easeInOut"}})]}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:R.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[n,"C"]})})]})]})]}),R.jsx(l0.button,{className:"mt-6 w-full bg-blue-500 text-white py-2 rounded-lg font-medium hover:bg-blue-600 transition-colors relative z-10",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,onMouseDown:m=>m.stopPropagation(),onMouseUp:m=>m.stopPropagation(),children:"Ver Detalles"})]})},bye=()=>{const[t,e]=U.useState(!1),{laboratoryComponents:n,addComponent:i,removeComponent:r,updateComponentOrder:a}=R6(),s=[{id:"lab-1",nombre:"Laboratorio Principal",dispositivosConectados:12,temperatura:23,modulosActivos:8,status:"activo"},{id:"lab-2",nombre:"Sala de Control",dispositivosConectados:6,temperatura:21,modulosActivos:4,status:"activo"},{id:"lab-3",nombre:"Laboratorio Secundario",dispositivosConectados:3,temperatura:25,modulosActivos:2,status:"alerta"}],o=d=>{d.preventDefault();try{const m=JSON.parse(d.dataTransfer.getData("application/json"));i(m)}catch(m){console.error("Error al procesar el componente:",m)}},c=d=>{d.preventDefault(),d.dataTransfer.dropEffect="copy"},f=d=>{switch(d.type){case"air-conditioner":return R.jsx("div",{className:"h-48",children:R.jsx(YH,{})});case"light":return R.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border h-48 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[R.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:R.jsx("span",{className:"text-xl",children:""})}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Control de Luces"}),R.jsx("p",{className:"text-xs text-gray-500",children:"Sala Principal"})]})]}),R.jsx("button",{className:"w-full py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-semibold transition-colors text-sm",children:"Encender Luces"})]},d.id);case"camera":return R.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border h-48 flex flex-col",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[R.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:R.jsx("span",{className:"text-xl",children:""})}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Cmara de Seguridad"}),R.jsx("p",{className:"text-xs text-gray-500",children:"Entrada Principal"})]})]}),R.jsx("div",{className:"bg-gray-200 rounded-lg h-24 flex-1 flex items-center justify-center text-gray-500 text-xs",children:"Vista en vivo"})]},d.id);case"valve":return R.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border h-48 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[R.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:R.jsx("span",{className:"text-xl",children:""})}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Vlvula de Agua"}),R.jsx("p",{className:"text-xs text-gray-500",children:"Sistema Principal"})]})]}),R.jsx("button",{className:"w-full py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold transition-colors text-sm",children:"Abrir Vlvula"})]},d.id);default:return null}};return R.jsxs("div",{className:"min-h-screen bg-gray-100",children:[R.jsx(Zx,{}),R.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-2",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Laboratorio de Control"}),R.jsxs("button",{onClick:()=>e(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[R.jsx("span",{children:"+"}),"Agregar Componente"]})]})}),R.jsx("div",{className:"p-4 mb-4",onDrop:o,onDragOver:c,children:n.length===0?R.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:R.jsx("span",{className:"text-2xl",children:""})}),R.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay componentes"}),R.jsx("p",{className:"text-gray-500 mb-4",children:'Arrastra componentes desde el panel o haz clic en "Agregar Componente"'}),R.jsx("button",{onClick:()=>e(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Abrir Panel de Componentes"})]})}):R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Componentes de Control"}),R.jsx(Fpe.ReactSortable,{list:n,setList:a,animation:200,delayOnTouchOnly:!0,delay:100,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:n.map(d=>R.jsx("div",{className:"cursor-move",children:f(d)},d.id))})]})}),R.jsx(P6,{isOpen:t,onClose:()=>e(!1)}),R.jsxs("div",{className:"p-4",children:[R.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Modulos Disponibles"}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 mb-6",children:s.map(d=>R.jsx(xye,{nombre:d.nombre,dispositivosConectados:d.dispositivosConectados,temperatura:d.temperatura,modulosActivos:d.modulosActivos,status:d.status},d.id))})]})]})},j7=t=>{switch(t){case"active":return"bg-green-100 text-green-800 border-green-200";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"inactive":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},F7=t=>{switch(t){case"active":return"Activo";case"maintenance":return"Mantenimiento";case"inactive":return"Inactivo";default:return"Desconocido"}};function _ye(){const t=Vd(),[e,n]=U.useState([]),[i,r]=U.useState([]),[a,s]=U.useState(""),[o,c]=U.useState("all"),[f,d]=U.useState("all"),[m,v]=U.useState(!1),[y,_]=U.useState(null),[E,S]=U.useState("grid"),M=[{id:1,code:"LAB-001",name:"Laboratorio de Microbiologa",description:"Laboratorio especializado en anlisis microbiolgicos",temperature:23.5,humidity:45,status:"active",associatedUsers:8,createdAt:"2024-01-15",automationStatus:"on",isZoneDisabled:!1,activeSensors:12,devices:18},{id:2,code:"LAB-002",name:"Laboratorio de Qumica Orgnica",description:"Anlisis y experimentos en qumica orgnica",temperature:31.2,humidity:62,status:"maintenance",associatedUsers:6,createdAt:"2024-01-20",automationStatus:"off",isZoneDisabled:!0,activeSensors:8,devices:15},{id:3,code:"LAB-003",name:"Laboratorio de Biologa Molecular",description:"Investigacin en biologa molecular y gentica",temperature:25.1,humidity:50,status:"active",associatedUsers:12,createdAt:"2024-02-01",automationStatus:"on",isZoneDisabled:!1,activeSensors:20,devices:25}];U.useEffect(()=>{n(M),r(M)},[]),U.useEffect(()=>{let N=e;a&&(N=N.filter(z=>z.name.toLowerCase().includes(a.toLowerCase())||z.code.toLowerCase().includes(a.toLowerCase())||z.description.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(N=N.filter(z=>z.status===o)),f!=="all"&&(N=N.filter(z=>z.automationStatus===f)),r(N)},[e,a,o,f]);const C=N=>{window.confirm("Ests seguro de que quieres eliminar este laboratorio?")&&n(z=>z.filter(F=>F.id!==N))},T=N=>{t(`/laboratory/${N}`)},L=N=>{_(N),v(!0)},P={total:e.length,active:e.filter(N=>N.status==="active").length,automated:e.filter(N=>N.automationStatus==="on").length,totalSensors:e.reduce((N,z)=>N+z.activeSensors,0),totalUsers:e.reduce((N,z)=>N+z.associatedUsers,0)};return R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsx(Zx,{}),R.jsx("div",{className:"pt-16",children:R.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[R.jsx("div",{className:"mb-8",children:R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[R.jsxs("div",{children:[R.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestin de Laboratorios"}),R.jsx("p",{className:"text-gray-600",children:"Administra los laboratorios y su configuracin (HU-06 a HU-09)"})]}),R.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-semibold transition-colors duration-200 shadow-lg hover:shadow-xl",children:[R.jsx(ox,{size:20}),"Nuevo Laboratorio"]})]})}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:R.jsx(mp,{className:"text-blue-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Laboratorios"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.total})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:R.jsx(mp,{className:"text-green-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Activos"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.active})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:R.jsx(K0,{className:"text-purple-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sensores Activos"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.totalSensors})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:R.jsx(Ic,{className:"text-indigo-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Usuarios Asociados"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.totalUsers})]})]})}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center",children:R.jsx(mp,{className:"text-emerald-600",size:24})}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Automatizados"}),R.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.automated})]})]})})]}),R.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 mb-6",children:R.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[R.jsxs("div",{className:"relative flex-1 w-full lg:max-w-md",children:[R.jsx(N6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),R.jsx("input",{type:"text",placeholder:"Buscar laboratorios por cdigo, nombre o descripcin...",value:a,onChange:N=>s(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"})]}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("select",{value:o,onChange:N=>c(N.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[R.jsx("option",{value:"all",children:"Todos los estados"}),R.jsx("option",{value:"active",children:"Activo"}),R.jsx("option",{value:"maintenance",children:"Mantenimiento"}),R.jsx("option",{value:"inactive",children:"Inactivo"})]}),R.jsxs("select",{value:f,onChange:N=>d(N.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[R.jsx("option",{value:"all",children:"Toda automatizacin"}),R.jsx("option",{value:"on",children:"Automatizado"}),R.jsx("option",{value:"off",children:"Manual"})]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>S("grid"),className:`p-3 border rounded-lg transition-all duration-200 ${E==="grid"?"bg-emerald-100 border-emerald-300 text-emerald-700":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,children:"Grid"}),R.jsx("button",{onClick:()=>S("list"),className:`p-3 border rounded-lg transition-all duration-200 ${E==="list"?"bg-emerald-100 border-emerald-300 text-emerald-700":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,children:"Lista"})]})]})]})}),E==="grid"?R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:i.map(N=>R.jsx(Sye,{lab:N,onEdit:L,onDelete:C,onView:T},N.id))}):R.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:R.jsxs("table",{className:"w-full",children:[R.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:R.jsxs("tr",{children:[R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Laboratorio"}),R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Estado"}),R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Mtricas"}),R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Usuarios"}),R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Automatizacin"}),R.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Acciones"})]})}),R.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(N=>R.jsx(Mye,{lab:N,onEdit:L,onDelete:C,onView:T},N.id))})]})}),i.length===0&&R.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border-2 border-dashed border-gray-300",children:[R.jsx(mp,{size:48,className:"mx-auto text-gray-400 mb-4"}),R.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron laboratorios"}),R.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros de bsqueda o crear un nuevo laboratorio"}),R.jsx("button",{onClick:()=>{s(""),c("all"),d("all")},className:"text-emerald-600 hover:text-emerald-700 font-medium mr-4",children:"Limpiar filtros"}),R.jsx("button",{onClick:()=>v(!0),className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Crear primer laboratorio"})]})]})})]})}function Sye({lab:t,onEdit:e,onDelete:n,onView:i}){const r=Vd(),a=s=>{s.target.closest("button")||r("/laboratory")};return R.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-300 cursor-pointer",onClick:a,children:[R.jsxs("div",{className:"p-6 border-b border-gray-200",children:[R.jsxs("div",{className:"flex justify-between items-start mb-3",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 hover:text-emerald-600 transition-colors",children:t.name}),R.jsxs("p",{className:"text-sm text-gray-500",children:["Cdigo: ",t.code]})]}),R.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${j7(t.status)}`,children:F7(t.status)})]}),R.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]}),R.jsx("div",{className:"p-6 border-b border-gray-200",children:R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(K0,{size:16,className:"text-red-500"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-600",children:"Temperatura"}),R.jsxs("p",{className:"font-semibold text-gray-900",children:[t.temperature,"C"]})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(D6,{size:16,className:"text-blue-500"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-600",children:"Humedad"}),R.jsxs("p",{className:"font-semibold text-gray-900",children:[t.humidity,"%"]})]})]})]})}),R.jsxs("div",{className:"p-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(Ic,{size:14}),R.jsxs("span",{children:[t.associatedUsers," usuarios"]})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(K0,{size:14}),R.jsxs("span",{children:[t.activeSensors," sensores"]})]})]}),R.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${t.automationStatus==="on"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:t.automationStatus==="on"?"Automtico":"Manual"})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("button",{onClick:s=>{s.stopPropagation(),i(t.id)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-emerald-100 hover:bg-emerald-200 text-emerald-700 rounded-lg text-sm font-medium transition-colors duration-200",children:[R.jsx(Kx,{size:16}),"Ver Detalles"]}),R.jsxs("button",{onClick:s=>{s.stopPropagation(),e(t)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg text-sm font-medium transition-colors duration-200",children:[R.jsx(EO,{size:16}),"Editar"]}),R.jsxs("button",{onClick:s=>{s.stopPropagation(),n(t.id)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-sm font-medium transition-colors duration-200",children:[R.jsx($x,{size:16}),"Eliminar"]})]})]})]})}function Mye({lab:t,onEdit:e,onDelete:n,onView:i}){const r=Vd();return R.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[R.jsx("td",{className:"px-6 py-4 cursor-pointer",onClick:()=>r("/laboratory"),children:R.jsx("div",{children:R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:R.jsx(mp,{size:18,className:"text-emerald-600"})}),R.jsxs("div",{children:[R.jsx("h4",{className:"font-semibold text-gray-900 hover:text-emerald-600 transition-colors",children:t.name}),R.jsx("p",{className:"text-sm text-gray-500",children:t.code})]})]})})}),R.jsx("td",{className:"px-6 py-4",children:R.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${j7(t.status)}`,children:F7(t.status)})}),R.jsx("td",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex gap-4 text-sm",children:[R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(K0,{size:14,className:"text-red-500"}),R.jsxs("span",{className:"font-medium",children:[t.temperature,"C"]})]}),R.jsxs("div",{className:"flex items-center gap-1",children:[R.jsx(D6,{size:14,className:"text-blue-500"}),R.jsxs("span",{className:"font-medium",children:[t.humidity,"%"]})]})]})}),R.jsx("td",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Ic,{size:16,className:"text-gray-400"}),R.jsx("span",{className:"font-medium",children:t.associatedUsers}),R.jsx("span",{className:"text-sm text-gray-500",children:"usuarios"})]})}),R.jsx("td",{className:"px-6 py-4",children:R.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.automationStatus==="on"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:t.automationStatus==="on"?"Automtico":"Manual"})}),R.jsx("td",{className:"px-6 py-4",children:R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>i(t.id),className:"p-2 text-emerald-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors duration-200",title:"Ver detalles del laboratorio",children:R.jsx(Kx,{size:16})}),R.jsx("button",{onClick:()=>e(t),className:"p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"Editar",children:R.jsx(EO,{size:16})}),R.jsx("button",{onClick:()=>n(t.id),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Eliminar",children:R.jsx($x,{size:16})})]})})]})}var h3={exports:{}},Tu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function Eye(){return o5||(o5=1,Tu.ConcurrentRoot=1,Tu.ContinuousEventPriority=8,Tu.DefaultEventPriority=32,Tu.DiscreteEventPriority=2,Tu.IdleEventPriority=268435456,Tu.LegacyRoot=0,Tu.NoEventPriority=0),Tu}var l5;function wye(){return l5||(l5=1,h3.exports=Eye()),h3.exports}var VS=wye();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Pw="181",up={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},k7=0,YR=1,V7=2,Aye=3,H7=0,Lw=1,Yy=2,kl=3,af=0,hs=1,ql=2,Gc=0,Pp=1,KR=2,$R=3,ZR=4,G7=5,Td=100,q7=101,X7=102,W7=103,Y7=104,K7=200,$7=201,Z7=202,Q7=203,YM=204,KM=205,J7=206,eG=207,tG=208,nG=209,iG=210,rG=211,aG=212,sG=213,oG=214,$M=0,ZM=1,QM=2,Hp=3,JM=4,eE=5,tE=6,nE=7,Sb=0,lG=1,cG=2,qc=0,uG=1,fG=2,dG=3,zN=4,hG=5,pG=6,mG=7,QR="attached",gG="detached",Uw=300,sf=301,zd=302,Tx=303,Cx=304,Lg=306,Rx=1e3,ks=1001,Ox=1002,ma=1003,BN=1004,Tye=1004,V0=1005,Cye=1005,dr=1006,Ky=1007,Rye=1007,Bc=1008,Oye=1008,il=1009,jN=1010,FN=1011,ag=1012,Iw=1013,of=1014,Vs=1015,$p=1016,zw=1017,Bw=1018,sg=1020,kN=35902,VN=35899,HN=1021,GN=1022,Ia=1023,og=1026,lg=1027,jw=1028,Mb=1029,Fw=1030,kw=1031,Dye=1032,Vw=1033,$y=33776,Zy=33777,Qy=33778,Jy=33779,iE=35840,rE=35841,aE=35842,sE=35843,oE=36196,lE=37492,cE=37496,uE=37808,fE=37809,dE=37810,hE=37811,pE=37812,mE=37813,gE=37814,vE=37815,yE=37816,xE=37817,bE=37818,_E=37819,SE=37820,ME=37821,EE=36492,wE=36494,AE=36495,TE=36283,CE=36284,RE=36285,OE=36286,vG=2200,yG=2201,xG=2202,Dx=2300,DE=2301,HS=2302,Sp=2400,Mp=2401,Nx=2402,Hw=2500,qN=2501,Nye=0,Pye=1,Lye=2,bG=3200,_G=3201,Uye=3202,Iye=3203,Yd=0,SG=1,Fu="",Na="srgb",Bd="srgb-linear",Px="linear",Jn="srgb",zye=0,dp=7680,Bye=7681,jye=7682,Fye=7683,kye=34055,Vye=34056,Hye=5386,Gye=512,qye=513,Xye=514,Wye=515,Yye=516,Kye=517,$ye=518,JR=519,MG=512,EG=513,wG=514,XN=515,AG=516,TG=517,CG=518,RG=519,Lx=35044,Zye=35048,Qye=35040,Jye=35045,exe=35049,txe=35041,nxe=35046,ixe=35050,rxe=35042,axe="100",eO="300 es",_o=2e3,cg=2001,sxe={COMPUTE:"compute",RENDER:"render"},oxe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},lxe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function OG(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const cxe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function H0(t,e){return new cxe[t](e)}function Ux(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function DG(){const t=Ux("canvas");return t.style.display="block",t}const c5={};let jd=null;function uxe(t){jd=t}function fxe(){return jd}function Ix(...t){const e="THREE."+t.shift();jd?jd("log",e,...t):console.log(e,...t)}function bt(...t){const e="THREE."+t.shift();jd?jd("warn",e,...t):console.warn(e,...t)}function en(...t){const e="THREE."+t.shift();jd?jd("error",e,...t):console.error(e,...t)}function ug(...t){const e=t.join(" ");e in c5||(c5[e]=!0,bt(...t))}function dxe(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}let nu=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}};const Ca=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let u5=1234567;const Lp=Math.PI/180,fg=180/Math.PI;function Mo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ca[t&255]+Ca[t>>8&255]+Ca[t>>16&255]+Ca[t>>24&255]+"-"+Ca[e&255]+Ca[e>>8&255]+"-"+Ca[e>>16&15|64]+Ca[e>>24&255]+"-"+Ca[n&63|128]+Ca[n>>8&255]+"-"+Ca[n>>16&255]+Ca[n>>24&255]+Ca[i&255]+Ca[i>>8&255]+Ca[i>>16&255]+Ca[i>>24&255]).toLowerCase()}function $t(t,e,n){return Math.max(e,Math.min(n,t))}function WN(t,e){return(t%e+e)%e}function hxe(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function pxe(t,e,n){return t!==e?(n-t)/(e-t):0}function ex(t,e,n){return(1-n)*t+n*e}function mxe(t,e,n,i){return ex(t,e,1-Math.exp(-n*i))}function gxe(t,e=1){return e-Math.abs(WN(t,e*2)-e)}function vxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function yxe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function xxe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function bxe(t,e){return t+Math.random()*(e-t)}function _xe(t){return t*(.5-Math.random())}function Sxe(t){t!==void 0&&(u5=t);let e=u5+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Mxe(t){return t*Lp}function Exe(t){return t*fg}function wxe(t){return(t&t-1)===0&&t!==0}function Axe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Txe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Cxe(t,e,n,i,r){const a=Math.cos,s=Math.sin,o=a(n/2),c=s(n/2),f=a((e+i)/2),d=s((e+i)/2),m=a((e-i)/2),v=s((e-i)/2),y=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":t.set(o*d,c*m,c*v,o*f);break;case"YZY":t.set(c*v,o*d,c*m,o*f);break;case"ZXZ":t.set(c*m,c*v,o*d,o*f);break;case"XZX":t.set(o*d,c*_,c*y,o*f);break;case"YXY":t.set(c*y,o*d,c*_,o*f);break;case"ZYZ":t.set(c*_,c*y,o*d,o*f);break;default:bt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ls(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function hn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Rxe={DEG2RAD:Lp,RAD2DEG:fg,generateUUID:Mo,clamp:$t,euclideanModulo:WN,mapLinear:hxe,inverseLerp:pxe,lerp:ex,damp:mxe,pingpong:gxe,smoothstep:vxe,smootherstep:yxe,randInt:xxe,randFloat:bxe,randFloatSpread:_xe,seededRandom:Sxe,degToRad:Mxe,radToDeg:Exe,isPowerOfTwo:wxe,ceilPowerOfTwo:Axe,floorPowerOfTwo:Txe,setQuaternionFromProperEuler:Cxe,normalize:hn,denormalize:ls};class He{constructor(e=0,n=0){He.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar($t(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos($t(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class za{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,s,o){let c=i[r+0],f=i[r+1],d=i[r+2],m=i[r+3],v=a[s+0],y=a[s+1],_=a[s+2],E=a[s+3];if(o<=0){e[n+0]=c,e[n+1]=f,e[n+2]=d,e[n+3]=m;return}if(o>=1){e[n+0]=v,e[n+1]=y,e[n+2]=_,e[n+3]=E;return}if(m!==E||c!==v||f!==y||d!==_){let S=c*v+f*y+d*_+m*E;S<0&&(v=-v,y=-y,_=-_,E=-E,S=-S);let M=1-o;if(S<.9995){const C=Math.acos(S),T=Math.sin(C);M=Math.sin(M*C)/T,o=Math.sin(o*C)/T,c=c*M+v*o,f=f*M+y*o,d=d*M+_*o,m=m*M+E*o}else{c=c*M+v*o,f=f*M+y*o,d=d*M+_*o,m=m*M+E*o;const C=1/Math.sqrt(c*c+f*f+d*d+m*m);c*=C,f*=C,d*=C,m*=C}}e[n]=c,e[n+1]=f,e[n+2]=d,e[n+3]=m}static multiplyQuaternionsFlat(e,n,i,r,a,s){const o=i[r],c=i[r+1],f=i[r+2],d=i[r+3],m=a[s],v=a[s+1],y=a[s+2],_=a[s+3];return e[n]=o*_+d*m+c*y-f*v,e[n+1]=c*_+d*v+f*m-o*y,e[n+2]=f*_+d*y+o*v-c*m,e[n+3]=d*_-o*m-c*v-f*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,f=o(i/2),d=o(r/2),m=o(a/2),v=c(i/2),y=c(r/2),_=c(a/2);switch(s){case"XYZ":this._x=v*d*m+f*y*_,this._y=f*y*m-v*d*_,this._z=f*d*_+v*y*m,this._w=f*d*m-v*y*_;break;case"YXZ":this._x=v*d*m+f*y*_,this._y=f*y*m-v*d*_,this._z=f*d*_-v*y*m,this._w=f*d*m+v*y*_;break;case"ZXY":this._x=v*d*m-f*y*_,this._y=f*y*m+v*d*_,this._z=f*d*_+v*y*m,this._w=f*d*m-v*y*_;break;case"ZYX":this._x=v*d*m-f*y*_,this._y=f*y*m+v*d*_,this._z=f*d*_-v*y*m,this._w=f*d*m+v*y*_;break;case"YZX":this._x=v*d*m+f*y*_,this._y=f*y*m+v*d*_,this._z=f*d*_-v*y*m,this._w=f*d*m-v*y*_;break;case"XZY":this._x=v*d*m-f*y*_,this._y=f*y*m-v*d*_,this._z=f*d*_+v*y*m,this._w=f*d*m+v*y*_;break;default:bt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],s=n[1],o=n[5],c=n[9],f=n[2],d=n[6],m=n[10],v=i+o+m;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(d-c)*y,this._y=(a-f)*y,this._z=(s-r)*y}else if(i>o&&i>m){const y=2*Math.sqrt(1+i-o-m);this._w=(d-c)/y,this._x=.25*y,this._y=(r+s)/y,this._z=(a+f)/y}else if(o>m){const y=2*Math.sqrt(1+o-i-m);this._w=(a-f)/y,this._x=(r+s)/y,this._y=.25*y,this._z=(c+d)/y}else{const y=2*Math.sqrt(1+m-i-o);this._w=(s-r)/y,this._x=(a+f)/y,this._y=(c+d)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($t(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,s=e._w,o=n._x,c=n._y,f=n._z,d=n._w;return this._x=i*d+s*o+r*f-a*c,this._y=r*d+s*c+a*o-i*f,this._z=a*d+s*f+i*c-r*o,this._w=s*d-i*o-r*c-a*f,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let i=e._x,r=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(i=-i,r=-r,a=-a,s=-s,o=-o);let c=1-n;if(o<.9995){const f=Math.acos(o),d=Math.sin(f);c=Math.sin(c*f)/d,n=Math.sin(n*f)/d,this._x=this._x*c+i*n,this._y=this._y*c+r*n,this._z=this._z*c+a*n,this._w=this._w*c+s*n,this._onChangeCallback()}else this._x=this._x*c+i*n,this._y=this._y*c+r*n,this._z=this._z*c+a*n,this._w=this._w*c+s*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,i=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(f5.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(f5.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,c=e.w,f=2*(s*r-o*i),d=2*(o*n-a*r),m=2*(a*i-s*n);return this.x=n+c*f+s*m-o*d,this.y=i+c*d+o*f-a*m,this.z=r+c*m+a*d-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this.z=$t(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this.z=$t(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar($t(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,s=n.x,o=n.y,c=n.z;return this.x=r*c-a*o,this.y=a*s-i*c,this.z=i*o-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return p3.copy(this).projectOnVector(e),this.sub(p3)}reflect(e){return this.sub(p3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos($t(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const p3=new te,f5=new za;class cn{constructor(e,n,i,r,a,s,o,c,f){cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,c,f)}set(e,n,i,r,a,s,o,c,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=n,d[4]=a,d[5]=c,d[6]=i,d[7]=s,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[3],c=i[6],f=i[1],d=i[4],m=i[7],v=i[2],y=i[5],_=i[8],E=r[0],S=r[3],M=r[6],C=r[1],T=r[4],L=r[7],P=r[2],N=r[5],z=r[8];return a[0]=s*E+o*C+c*P,a[3]=s*S+o*T+c*N,a[6]=s*M+o*L+c*z,a[1]=f*E+d*C+m*P,a[4]=f*S+d*T+m*N,a[7]=f*M+d*L+m*z,a[2]=v*E+y*C+_*P,a[5]=v*S+y*T+_*N,a[8]=v*M+y*L+_*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],d=e[8];return n*s*d-n*o*f-i*a*d+i*o*c+r*a*f-r*s*c}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],d=e[8],m=d*s-o*f,v=o*c-d*a,y=f*a-s*c,_=n*m+i*v+r*y;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/_;return e[0]=m*E,e[1]=(r*f-d*i)*E,e[2]=(o*i-r*s)*E,e[3]=v*E,e[4]=(d*n-r*c)*E,e[5]=(r*a-o*n)*E,e[6]=y*E,e[7]=(i*c-f*n)*E,e[8]=(s*n-i*a)*E,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,s,o){const c=Math.cos(a),f=Math.sin(a);return this.set(i*c,i*f,-i*(c*s+f*o)+s+e,-r*f,r*c,-r*(-f*s+c*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(m3.makeScale(e,n)),this}rotate(e){return this.premultiply(m3.makeRotation(-e)),this}translate(e,n){return this.premultiply(m3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const m3=new cn,d5=new cn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),h5=new cn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Oxe(){const t={enabled:!0,workingColorSpace:Bd,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Jn&&(r.r=Yu(r.r),r.g=Yu(r.g),r.b=Yu(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Jn&&(r.r=Y0(r.r),r.g=Y0(r.g),r.b=Y0(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Fu?Px:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return ug("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return ug("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Bd]:{primaries:e,whitePoint:i,transfer:Px,toXYZ:d5,fromXYZ:h5,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Na},outputColorSpaceConfig:{drawingBufferColorSpace:Na}},[Na]:{primaries:e,whitePoint:i,transfer:Jn,toXYZ:d5,fromXYZ:h5,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Na}}}),t}const Nn=Oxe();function Yu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Y0(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let c0;class NG{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{c0===void 0&&(c0=Ux("canvas")),c0.width=e.width,c0.height=e.height;const r=c0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=c0}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ux("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Yu(a[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Yu(n[i]/255)*255):n[i]=Yu(n[i]);return{data:n,width:e.width,height:e.height}}else return bt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Dxe=0;class Od{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Dxe++}),this.uuid=Mo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(g3(r[s].image)):a.push(g3(r[s]))}else a=g3(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function g3(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?NG.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(bt("Texture: Unable to serialize Texture."),{})}let Nxe=0;const v3=new te;class er extends nu{constructor(e=er.DEFAULT_IMAGE,n=er.DEFAULT_MAPPING,i=ks,r=ks,a=dr,s=Bc,o=Ia,c=il,f=er.DEFAULT_ANISOTROPY,d=Fu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Nxe++}),this.uuid=Mo(),this.name="",this.source=new Od(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=o,this.internalFormat=null,this.type=c,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(v3).x}get height(){return this.source.getSize(v3).y}get depth(){return this.source.getSize(v3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){bt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){bt(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Uw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Rx:e.x=e.x-Math.floor(e.x);break;case ks:e.x=e.x<0?0:1;break;case Ox:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Rx:e.y=e.y-Math.floor(e.y);break;case ks:e.y=e.y<0?0:1;break;case Ox:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}er.DEFAULT_IMAGE=null;er.DEFAULT_MAPPING=Uw;er.DEFAULT_ANISOTROPY=1;class zn{constructor(e=0,n=0,i=0,r=1){zn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const c=e.elements,f=c[0],d=c[4],m=c[8],v=c[1],y=c[5],_=c[9],E=c[2],S=c[6],M=c[10];if(Math.abs(d-v)<.01&&Math.abs(m-E)<.01&&Math.abs(_-S)<.01){if(Math.abs(d+v)<.1&&Math.abs(m+E)<.1&&Math.abs(_+S)<.1&&Math.abs(f+y+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(f+1)/2,L=(y+1)/2,P=(M+1)/2,N=(d+v)/4,z=(m+E)/4,F=(_+S)/4;return T>L&&T>P?T<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(T),r=N/i,a=z/i):L>P?L<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(L),i=N/r,a=F/r):P<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(P),i=z/a,r=F/a),this.set(i,r,a,n),this}let C=Math.sqrt((S-_)*(S-_)+(m-E)*(m-E)+(v-d)*(v-d));return Math.abs(C)<.001&&(C=1),this.x=(S-_)/C,this.y=(m-E)/C,this.z=(v-d)/C,this.w=Math.acos((f+y+M-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=$t(this.x,e.x,n.x),this.y=$t(this.y,e.y,n.y),this.z=$t(this.z,e.z,n.z),this.w=$t(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=$t(this.x,e,n),this.y=$t(this.y,e,n),this.z=$t(this.z,e,n),this.w=$t(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar($t(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class YN extends nu{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:dr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new zn(0,0,e,n),this.scissorTest=!1,this.viewport=new zn(0,0,e,n);const r={width:e,height:n,depth:i.depth},a=new er(r);this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:dr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new Od(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eu extends YN{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class Gw extends er{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=ma,this.minFilter=ma,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Pxe extends eu{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Gw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class qw extends er{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=ma,this.minFilter=ma,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Lxe extends eu{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new qw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Ba{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(zl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(zl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=zl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,zl):zl.fromBufferAttribute(a,s),zl.applyMatrix4(e.matrixWorld),this.expandByPoint(zl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),D_.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),D_.copy(i.boundingBox)),D_.applyMatrix4(e.matrixWorld),this.union(D_)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,zl),zl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hy),N_.subVectors(this.max,hy),u0.subVectors(e.a,hy),f0.subVectors(e.b,hy),d0.subVectors(e.c,hy),pd.subVectors(f0,u0),md.subVectors(d0,f0),qh.subVectors(u0,d0);let n=[0,-pd.z,pd.y,0,-md.z,md.y,0,-qh.z,qh.y,pd.z,0,-pd.x,md.z,0,-md.x,qh.z,0,-qh.x,-pd.y,pd.x,0,-md.y,md.x,0,-qh.y,qh.x,0];return!y3(n,u0,f0,d0,N_)||(n=[1,0,0,0,1,0,0,0,1],!y3(n,u0,f0,d0,N_))?!1:(P_.crossVectors(pd,md),n=[P_.x,P_.y,P_.z],y3(n,u0,f0,d0,N_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Cu=[new te,new te,new te,new te,new te,new te,new te,new te],zl=new te,D_=new Ba,u0=new te,f0=new te,d0=new te,pd=new te,md=new te,qh=new te,hy=new te,N_=new te,P_=new te,Xh=new te;function y3(t,e,n,i,r){for(let a=0,s=t.length-3;a<=s;a+=3){Xh.fromArray(t,a);const o=r.x*Math.abs(Xh.x)+r.y*Math.abs(Xh.y)+r.z*Math.abs(Xh.z),c=e.dot(Xh),f=n.dot(Xh),d=i.dot(Xh);if(Math.max(-Math.max(c,f,d),Math.min(c,f,d))>o)return!1}return!0}const Uxe=new Ba,py=new te,x3=new te;class ga{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Uxe.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;py.subVectors(e,this.center);const n=py.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(py,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(x3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(py.copy(e.center).add(x3)),this.expandByPoint(py.copy(e.center).sub(x3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ru=new te,b3=new te,L_=new te,gd=new te,_3=new te,U_=new te,S3=new te;class Zp{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ru)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ru.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ru.copy(this.origin).addScaledVector(this.direction,n),Ru.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){b3.copy(e).add(n).multiplyScalar(.5),L_.copy(n).sub(e).normalize(),gd.copy(this.origin).sub(b3);const a=e.distanceTo(n)*.5,s=-this.direction.dot(L_),o=gd.dot(this.direction),c=-gd.dot(L_),f=gd.lengthSq(),d=Math.abs(1-s*s);let m,v,y,_;if(d>0)if(m=s*c-o,v=s*o-c,_=a*d,m>=0)if(v>=-_)if(v<=_){const E=1/d;m*=E,v*=E,y=m*(m+s*v+2*o)+v*(s*m+v+2*c)+f}else v=a,m=Math.max(0,-(s*v+o)),y=-m*m+v*(v+2*c)+f;else v=-a,m=Math.max(0,-(s*v+o)),y=-m*m+v*(v+2*c)+f;else v<=-_?(m=Math.max(0,-(-s*a+o)),v=m>0?-a:Math.min(Math.max(-a,-c),a),y=-m*m+v*(v+2*c)+f):v<=_?(m=0,v=Math.min(Math.max(-a,-c),a),y=v*(v+2*c)+f):(m=Math.max(0,-(s*a+o)),v=m>0?a:Math.min(Math.max(-a,-c),a),y=-m*m+v*(v+2*c)+f);else v=s>0?-a:a,m=Math.max(0,-(s*v+o)),y=-m*m+v*(v+2*c)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,m),r&&r.copy(b3).addScaledVector(L_,v),y}intersectSphere(e,n){Ru.subVectors(e.center,this.origin);const i=Ru.dot(this.direction),r=Ru.dot(Ru)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,c=i+s;return c<0?null:o<0?this.at(c,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,s,o,c;const f=1/this.direction.x,d=1/this.direction.y,m=1/this.direction.z,v=this.origin;return f>=0?(i=(e.min.x-v.x)*f,r=(e.max.x-v.x)*f):(i=(e.max.x-v.x)*f,r=(e.min.x-v.x)*f),d>=0?(a=(e.min.y-v.y)*d,s=(e.max.y-v.y)*d):(a=(e.max.y-v.y)*d,s=(e.min.y-v.y)*d),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),m>=0?(o=(e.min.z-v.z)*m,c=(e.max.z-v.z)*m):(o=(e.max.z-v.z)*m,c=(e.min.z-v.z)*m),i>c||o>r)||((o>i||i!==i)&&(i=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Ru)!==null}intersectTriangle(e,n,i,r,a){_3.subVectors(n,e),U_.subVectors(i,e),S3.crossVectors(_3,U_);let s=this.direction.dot(S3),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;gd.subVectors(this.origin,e);const c=o*this.direction.dot(U_.crossVectors(gd,U_));if(c<0)return null;const f=o*this.direction.dot(_3.cross(gd));if(f<0||c+f>s)return null;const d=-o*gd.dot(S3);return d<0?null:this.at(d/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jt{constructor(e,n,i,r,a,s,o,c,f,d,m,v,y,_,E,S){Jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,s,o,c,f,d,m,v,y,_,E,S)}set(e,n,i,r,a,s,o,c,f,d,m,v,y,_,E,S){const M=this.elements;return M[0]=e,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=s,M[9]=o,M[13]=c,M[2]=f,M[6]=d,M[10]=m,M[14]=v,M[3]=y,M[7]=_,M[11]=E,M[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/h0.setFromMatrixColumn(e,0).length(),a=1/h0.setFromMatrixColumn(e,1).length(),s=1/h0.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),c=Math.cos(r),f=Math.sin(r),d=Math.cos(a),m=Math.sin(a);if(e.order==="XYZ"){const v=s*d,y=s*m,_=o*d,E=o*m;n[0]=c*d,n[4]=-c*m,n[8]=f,n[1]=y+_*f,n[5]=v-E*f,n[9]=-o*c,n[2]=E-v*f,n[6]=_+y*f,n[10]=s*c}else if(e.order==="YXZ"){const v=c*d,y=c*m,_=f*d,E=f*m;n[0]=v+E*o,n[4]=_*o-y,n[8]=s*f,n[1]=s*m,n[5]=s*d,n[9]=-o,n[2]=y*o-_,n[6]=E+v*o,n[10]=s*c}else if(e.order==="ZXY"){const v=c*d,y=c*m,_=f*d,E=f*m;n[0]=v-E*o,n[4]=-s*m,n[8]=_+y*o,n[1]=y+_*o,n[5]=s*d,n[9]=E-v*o,n[2]=-s*f,n[6]=o,n[10]=s*c}else if(e.order==="ZYX"){const v=s*d,y=s*m,_=o*d,E=o*m;n[0]=c*d,n[4]=_*f-y,n[8]=v*f+E,n[1]=c*m,n[5]=E*f+v,n[9]=y*f-_,n[2]=-f,n[6]=o*c,n[10]=s*c}else if(e.order==="YZX"){const v=s*c,y=s*f,_=o*c,E=o*f;n[0]=c*d,n[4]=E-v*m,n[8]=_*m+y,n[1]=m,n[5]=s*d,n[9]=-o*d,n[2]=-f*d,n[6]=y*m+_,n[10]=v-E*m}else if(e.order==="XZY"){const v=s*c,y=s*f,_=o*c,E=o*f;n[0]=c*d,n[4]=-m,n[8]=f*d,n[1]=v*m+E,n[5]=s*d,n[9]=y*m-_,n[2]=_*m-y,n[6]=o*d,n[10]=E*m+v}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ixe,e,zxe)}lookAt(e,n,i){const r=this.elements;return ho.subVectors(e,n),ho.lengthSq()===0&&(ho.z=1),ho.normalize(),vd.crossVectors(i,ho),vd.lengthSq()===0&&(Math.abs(i.z)===1?ho.x+=1e-4:ho.z+=1e-4,ho.normalize(),vd.crossVectors(i,ho)),vd.normalize(),I_.crossVectors(ho,vd),r[0]=vd.x,r[4]=I_.x,r[8]=ho.x,r[1]=vd.y,r[5]=I_.y,r[9]=ho.y,r[2]=vd.z,r[6]=I_.z,r[10]=ho.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,s=i[0],o=i[4],c=i[8],f=i[12],d=i[1],m=i[5],v=i[9],y=i[13],_=i[2],E=i[6],S=i[10],M=i[14],C=i[3],T=i[7],L=i[11],P=i[15],N=r[0],z=r[4],F=r[8],I=r[12],j=r[1],k=r[5],Z=r[9],ee=r[13],re=r[2],ae=r[6],H=r[10],X=r[14],K=r[3],ne=r[7],q=r[11],se=r[15];return a[0]=s*N+o*j+c*re+f*K,a[4]=s*z+o*k+c*ae+f*ne,a[8]=s*F+o*Z+c*H+f*q,a[12]=s*I+o*ee+c*X+f*se,a[1]=d*N+m*j+v*re+y*K,a[5]=d*z+m*k+v*ae+y*ne,a[9]=d*F+m*Z+v*H+y*q,a[13]=d*I+m*ee+v*X+y*se,a[2]=_*N+E*j+S*re+M*K,a[6]=_*z+E*k+S*ae+M*ne,a[10]=_*F+E*Z+S*H+M*q,a[14]=_*I+E*ee+S*X+M*se,a[3]=C*N+T*j+L*re+P*K,a[7]=C*z+T*k+L*ae+P*ne,a[11]=C*F+T*Z+L*H+P*q,a[15]=C*I+T*ee+L*X+P*se,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],c=e[9],f=e[13],d=e[2],m=e[6],v=e[10],y=e[14],_=e[3],E=e[7],S=e[11],M=e[15];return _*(+a*c*m-r*f*m-a*o*v+i*f*v+r*o*y-i*c*y)+E*(+n*c*y-n*f*v+a*s*v-r*s*y+r*f*d-a*c*d)+S*(+n*f*m-n*o*y-a*s*m+i*s*y+a*o*d-i*f*d)+M*(-r*o*d-n*c*m+n*o*v+r*s*m-i*s*v+i*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],d=e[8],m=e[9],v=e[10],y=e[11],_=e[12],E=e[13],S=e[14],M=e[15],C=m*S*f-E*v*f+E*c*y-o*S*y-m*c*M+o*v*M,T=_*v*f-d*S*f-_*c*y+s*S*y+d*c*M-s*v*M,L=d*E*f-_*m*f+_*o*y-s*E*y-d*o*M+s*m*M,P=_*m*c-d*E*c-_*o*v+s*E*v+d*o*S-s*m*S,N=n*C+i*T+r*L+a*P;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/N;return e[0]=C*z,e[1]=(E*v*a-m*S*a-E*r*y+i*S*y+m*r*M-i*v*M)*z,e[2]=(o*S*a-E*c*a+E*r*f-i*S*f-o*r*M+i*c*M)*z,e[3]=(m*c*a-o*v*a-m*r*f+i*v*f+o*r*y-i*c*y)*z,e[4]=T*z,e[5]=(d*S*a-_*v*a+_*r*y-n*S*y-d*r*M+n*v*M)*z,e[6]=(_*c*a-s*S*a-_*r*f+n*S*f+s*r*M-n*c*M)*z,e[7]=(s*v*a-d*c*a+d*r*f-n*v*f-s*r*y+n*c*y)*z,e[8]=L*z,e[9]=(_*m*a-d*E*a-_*i*y+n*E*y+d*i*M-n*m*M)*z,e[10]=(s*E*a-_*o*a+_*i*f-n*E*f-s*i*M+n*o*M)*z,e[11]=(d*o*a-s*m*a-d*i*f+n*m*f+s*i*y-n*o*y)*z,e[12]=P*z,e[13]=(d*E*r-_*m*r+_*i*v-n*E*v-d*i*S+n*m*S)*z,e[14]=(_*o*r-s*E*r-_*i*c+n*E*c+s*i*S-n*o*S)*z,e[15]=(s*m*r-d*o*r+d*i*c-n*m*c-s*i*v+n*o*v)*z,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,s=e.x,o=e.y,c=e.z,f=a*s,d=a*o;return this.set(f*s+i,f*o-r*c,f*c+r*o,0,f*o+r*c,d*o+i,d*c-r*s,0,f*c-r*o,d*c+r*s,a*c*c+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,s=n._y,o=n._z,c=n._w,f=a+a,d=s+s,m=o+o,v=a*f,y=a*d,_=a*m,E=s*d,S=s*m,M=o*m,C=c*f,T=c*d,L=c*m,P=i.x,N=i.y,z=i.z;return r[0]=(1-(E+M))*P,r[1]=(y+L)*P,r[2]=(_-T)*P,r[3]=0,r[4]=(y-L)*N,r[5]=(1-(v+M))*N,r[6]=(S+C)*N,r[7]=0,r[8]=(_+T)*z,r[9]=(S-C)*z,r[10]=(1-(v+E))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=h0.set(r[0],r[1],r[2]).length();const s=h0.set(r[4],r[5],r[6]).length(),o=h0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Bl.copy(this);const f=1/a,d=1/s,m=1/o;return Bl.elements[0]*=f,Bl.elements[1]*=f,Bl.elements[2]*=f,Bl.elements[4]*=d,Bl.elements[5]*=d,Bl.elements[6]*=d,Bl.elements[8]*=m,Bl.elements[9]*=m,Bl.elements[10]*=m,n.setFromRotationMatrix(Bl),i.x=a,i.y=s,i.z=o,this}makePerspective(e,n,i,r,a,s,o=_o,c=!1){const f=this.elements,d=2*a/(n-e),m=2*a/(i-r),v=(n+e)/(n-e),y=(i+r)/(i-r);let _,E;if(c)_=a/(s-a),E=s*a/(s-a);else if(o===_o)_=-(s+a)/(s-a),E=-2*s*a/(s-a);else if(o===cg)_=-s/(s-a),E=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return f[0]=d,f[4]=0,f[8]=v,f[12]=0,f[1]=0,f[5]=m,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=E,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,n,i,r,a,s,o=_o,c=!1){const f=this.elements,d=2/(n-e),m=2/(i-r),v=-(n+e)/(n-e),y=-(i+r)/(i-r);let _,E;if(c)_=1/(s-a),E=s/(s-a);else if(o===_o)_=-2/(s-a),E=-(s+a)/(s-a);else if(o===cg)_=-1/(s-a),E=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return f[0]=d,f[4]=0,f[8]=0,f[12]=v,f[1]=0,f[5]=m,f[9]=0,f[13]=y,f[2]=0,f[6]=0,f[10]=_,f[14]=E,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const h0=new te,Bl=new Jt,Ixe=new te(0,0,0),zxe=new te(1,1,1),vd=new te,I_=new te,ho=new te,p5=new Jt,m5=new za;class qs{constructor(e=0,n=0,i=0,r=qs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],c=r[1],f=r[5],d=r[9],m=r[2],v=r[6],y=r[10];switch(n){case"XYZ":this._y=Math.asin($t(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,y),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(v,f),this._z=0);break;case"YXZ":this._x=Math.asin(-$t(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,y),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-m,a),this._z=0);break;case"ZXY":this._x=Math.asin($t(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-$t(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin($t(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-m,a)):(this._x=0,this._y=Math.atan2(o,y));break;case"XZY":this._z=Math.asin(-$t(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(v,f),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-d,y),this._y=0);break;default:bt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return p5.makeRotationFromQuaternion(e),this.setFromRotationMatrix(p5,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return m5.setFromEuler(this),this.setFromQuaternion(m5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}qs.DEFAULT_ORDER="XYZ";class dg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Bxe=0;const g5=new te,p0=new za,Ou=new Jt,z_=new te,my=new te,jxe=new te,Fxe=new za,v5=new te(1,0,0),y5=new te(0,1,0),x5=new te(0,0,1),b5={type:"added"},kxe={type:"removed"},m0={type:"childadded",child:null},M3={type:"childremoved",child:null};class Bn extends nu{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Bxe++}),this.uuid=Mo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bn.DEFAULT_UP.clone();const e=new te,n=new qs,i=new za,r=new te(1,1,1);function a(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Jt},normalMatrix:{value:new cn}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=Bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return p0.setFromAxisAngle(e,n),this.quaternion.multiply(p0),this}rotateOnWorldAxis(e,n){return p0.setFromAxisAngle(e,n),this.quaternion.premultiply(p0),this}rotateX(e){return this.rotateOnAxis(v5,e)}rotateY(e){return this.rotateOnAxis(y5,e)}rotateZ(e){return this.rotateOnAxis(x5,e)}translateOnAxis(e,n){return g5.copy(e).applyQuaternion(this.quaternion),this.position.add(g5.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(v5,e)}translateY(e){return this.translateOnAxis(y5,e)}translateZ(e){return this.translateOnAxis(x5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ou.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?z_.copy(e):z_.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),my.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ou.lookAt(my,z_,this.up):Ou.lookAt(z_,my,this.up),this.quaternion.setFromRotationMatrix(Ou),r&&(Ou.extractRotation(r.matrixWorld),p0.setFromRotationMatrix(Ou),this.quaternion.premultiply(p0.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(en("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(b5),m0.child=e,this.dispatchEvent(m0),m0.child=null):en("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(kxe),M3.child=e,this.dispatchEvent(M3),M3.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ou.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ou.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ou),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(b5),m0.child=e,this.dispatchEvent(m0),m0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(my,e,jxe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(my,Fxe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let f=0,d=c.length;f<d;f++){const m=c[f];a(e.shapes,m)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,f=this.material.length;c<f;c++)o.push(a(e.materials,this.material[c]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];r.animations.push(a(e.animations,c))}}if(n){const o=s(e.geometries),c=s(e.materials),f=s(e.textures),d=s(e.images),m=s(e.shapes),v=s(e.skeletons),y=s(e.animations),_=s(e.nodes);o.length>0&&(i.geometries=o),c.length>0&&(i.materials=c),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),m.length>0&&(i.shapes=m),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(o){const c=[];for(const f in o){const d=o[f];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bn.DEFAULT_UP=new te(0,1,0);Bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const jl=new te,Du=new te,E3=new te,Nu=new te,g0=new te,v0=new te,_5=new te,w3=new te,A3=new te,T3=new te,C3=new zn,R3=new zn,O3=new zn;class Bs{constructor(e=new te,n=new te,i=new te){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),jl.subVectors(e,n),r.cross(jl);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){jl.subVectors(r,n),Du.subVectors(i,n),E3.subVectors(e,n);const s=jl.dot(jl),o=jl.dot(Du),c=jl.dot(E3),f=Du.dot(Du),d=Du.dot(E3),m=s*f-o*o;if(m===0)return a.set(0,0,0),null;const v=1/m,y=(f*c-o*d)*v,_=(s*d-o*c)*v;return a.set(1-y-_,_,y)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Nu)===null?!1:Nu.x>=0&&Nu.y>=0&&Nu.x+Nu.y<=1}static getInterpolation(e,n,i,r,a,s,o,c){return this.getBarycoord(e,n,i,r,Nu)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Nu.x),c.addScaledVector(s,Nu.y),c.addScaledVector(o,Nu.z),c)}static getInterpolatedAttribute(e,n,i,r,a,s){return C3.setScalar(0),R3.setScalar(0),O3.setScalar(0),C3.fromBufferAttribute(e,n),R3.fromBufferAttribute(e,i),O3.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(C3,a.x),s.addScaledVector(R3,a.y),s.addScaledVector(O3,a.z),s}static isFrontFacing(e,n,i,r){return jl.subVectors(i,n),Du.subVectors(e,n),jl.cross(Du).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jl.subVectors(this.c,this.b),Du.subVectors(this.a,this.b),jl.cross(Du).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Bs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Bs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return Bs.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return Bs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Bs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let s,o;g0.subVectors(r,i),v0.subVectors(a,i),w3.subVectors(e,i);const c=g0.dot(w3),f=v0.dot(w3);if(c<=0&&f<=0)return n.copy(i);A3.subVectors(e,r);const d=g0.dot(A3),m=v0.dot(A3);if(d>=0&&m<=d)return n.copy(r);const v=c*m-d*f;if(v<=0&&c>=0&&d<=0)return s=c/(c-d),n.copy(i).addScaledVector(g0,s);T3.subVectors(e,a);const y=g0.dot(T3),_=v0.dot(T3);if(_>=0&&y<=_)return n.copy(a);const E=y*f-c*_;if(E<=0&&f>=0&&_<=0)return o=f/(f-_),n.copy(i).addScaledVector(v0,o);const S=d*_-y*m;if(S<=0&&m-d>=0&&y-_>=0)return _5.subVectors(a,r),o=(m-d)/(m-d+(y-_)),n.copy(r).addScaledVector(_5,o);const M=1/(S+E+v);return s=E*M,o=v*M,n.copy(i).addScaledVector(g0,s).addScaledVector(v0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const PG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},yd={h:0,s:0,l:0},B_={h:0,s:0,l:0};function D3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Mt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Nn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=Nn.workingColorSpace){return this.r=e,this.g=n,this.b=i,Nn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=Nn.workingColorSpace){if(e=WN(e,1),n=$t(n,0,1),i=$t(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;this.r=D3(s,a,e+1/3),this.g=D3(s,a,e),this.b=D3(s,a,e-1/3)}return Nn.colorSpaceToWorking(this,r),this}setStyle(e,n=Na){function i(a){a!==void 0&&parseFloat(a)<1&&bt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:bt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(a,16),n);bt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Na){const i=PG[e.toLowerCase()];return i!==void 0?this.setHex(i,n):bt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yu(e.r),this.g=Yu(e.g),this.b=Yu(e.b),this}copyLinearToSRGB(e){return this.r=Y0(e.r),this.g=Y0(e.g),this.b=Y0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Na){return Nn.workingToColorSpace(Ra.copy(this),e),Math.round($t(Ra.r*255,0,255))*65536+Math.round($t(Ra.g*255,0,255))*256+Math.round($t(Ra.b*255,0,255))}getHexString(e=Na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Nn.workingColorSpace){Nn.workingToColorSpace(Ra.copy(this),n);const i=Ra.r,r=Ra.g,a=Ra.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let c,f;const d=(o+s)/2;if(o===s)c=0,f=0;else{const m=s-o;switch(f=d<=.5?m/(s+o):m/(2-s-o),s){case i:c=(r-a)/m+(r<a?6:0);break;case r:c=(a-i)/m+2;break;case a:c=(i-r)/m+4;break}c/=6}return e.h=c,e.s=f,e.l=d,e}getRGB(e,n=Nn.workingColorSpace){return Nn.workingToColorSpace(Ra.copy(this),n),e.r=Ra.r,e.g=Ra.g,e.b=Ra.b,e}getStyle(e=Na){Nn.workingToColorSpace(Ra.copy(this),e);const n=Ra.r,i=Ra.g,r=Ra.b;return e!==Na?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(yd),this.setHSL(yd.h+e,yd.s+n,yd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(yd),e.getHSL(B_);const i=ex(yd.h,B_.h,n),r=ex(yd.s,B_.s,n),a=ex(yd.l,B_.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ra=new Mt;Mt.NAMES=PG;let Vxe=0;class ja extends nu{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Vxe++}),this.uuid=Mo(),this.name="",this.type="Material",this.blending=Pp,this.side=af,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=YM,this.blendDst=KM,this.blendEquation=Td,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mt(0,0,0),this.blendAlpha=0,this.depthFunc=Hp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dp,this.stencilZFail=dp,this.stencilZPass=dp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){bt(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){bt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Pp&&(i.blending=this.blending),this.side!==af&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==YM&&(i.blendSrc=this.blendSrc),this.blendDst!==KM&&(i.blendDst=this.blendDst),this.blendEquation!==Td&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Hp&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==JR&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dp&&(i.stencilFail=this.stencilFail),this.stencilZFail!==dp&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==dp&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const c=a[o];delete c.metadata,s.push(c)}return s}if(n){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Kd extends ja{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Sb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ku=Hxe();function Hxe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const f=c-127;f<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):f<-14?(i[c]=1024>>-f-14,i[c|256]=1024>>-f-14|32768,r[c]=-f-1,r[c|256]=-f-1):f<=15?(i[c]=f+15<<10,i[c|256]=f+15<<10|32768,r[c]=13,r[c|256]=13):f<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let f=c<<13,d=0;for(;(f&8388608)===0;)f<<=1,d-=8388608;f&=-8388609,d+=947912704,a[c]=f|d}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function Ps(t){Math.abs(t)>65504&&bt("DataUtils.toHalfFloat(): Value out of range."),t=$t(t,-65504,65504),ku.floatView[0]=t;const e=ku.uint32View[0],n=e>>23&511;return ku.baseTable[n]+((e&8388607)>>ku.shiftTable[n])}function Ly(t){const e=t>>10;return ku.uint32View[0]=ku.mantissaTable[ku.offsetTable[e]+(t&1023)]+ku.exponentTable[e],ku.floatView[0]}class Gxe{static toHalfFloat(e){return Ps(e)}static fromHalfFloat(e){return Ly(e)}}const br=new te,j_=new He;let qxe=0;class ui{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qxe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Lx,this.updateRanges=[],this.gpuType=Vs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)j_.fromBufferAttribute(this,n),j_.applyMatrix3(e),this.setXY(n,j_.x,j_.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)br.fromBufferAttribute(this,n),br.applyMatrix3(e),this.setXYZ(n,br.x,br.y,br.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)br.fromBufferAttribute(this,n),br.applyMatrix4(e),this.setXYZ(n,br.x,br.y,br.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)br.fromBufferAttribute(this,n),br.applyNormalMatrix(e),this.setXYZ(n,br.x,br.y,br.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)br.fromBufferAttribute(this,n),br.transformDirection(e),this.setXYZ(n,br.x,br.y,br.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=ls(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=hn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array),a=hn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Lx&&(e.usage=this.usage),e}}class Xxe extends ui{constructor(e,n,i){super(new Int8Array(e),n,i)}}class Wxe extends ui{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class Yxe extends ui{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class Kxe extends ui{constructor(e,n,i){super(new Int16Array(e),n,i)}}class KN extends ui{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class $xe extends ui{constructor(e,n,i){super(new Int32Array(e),n,i)}}class $N extends ui{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Zxe extends ui{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Ly(this.array[e*this.itemSize]);return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize]=Ps(n),this}getY(e){let n=Ly(this.array[e*this.itemSize+1]);return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+1]=Ps(n),this}getZ(e){let n=Ly(this.array[e*this.itemSize+2]);return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+2]=Ps(n),this}getW(e){let n=Ly(this.array[e*this.itemSize+3]);return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+3]=Ps(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(i),this.array[e+2]=Ps(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array),a=hn(a,this.array)),this.array[e+0]=Ps(n),this.array[e+1]=Ps(i),this.array[e+2]=Ps(r),this.array[e+3]=Ps(a),this}}class Rt extends ui{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Qxe=0;const Wo=new Jt,N3=new Bn,y0=new te,po=new Ba,gy=new Ba,Yr=new te;class un extends nu{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qxe++}),this.uuid=Mo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(OG(e)?$N:KN)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new cn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wo.makeRotationFromQuaternion(e),this.applyMatrix4(Wo),this}rotateX(e){return Wo.makeRotationX(e),this.applyMatrix4(Wo),this}rotateY(e){return Wo.makeRotationY(e),this.applyMatrix4(Wo),this}rotateZ(e){return Wo.makeRotationZ(e),this.applyMatrix4(Wo),this}translate(e,n,i){return Wo.makeTranslation(e,n,i),this.applyMatrix4(Wo),this}scale(e,n,i){return Wo.makeScale(e,n,i),this.applyMatrix4(Wo),this}lookAt(e){return N3.lookAt(e),N3.updateMatrix(),this.applyMatrix4(N3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(y0).negate(),this.translate(y0.x,y0.y,y0.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Rt(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&bt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ba);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){en("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];po.setFromBufferAttribute(a),this.morphTargetsRelative?(Yr.addVectors(this.boundingBox.min,po.min),this.boundingBox.expandByPoint(Yr),Yr.addVectors(this.boundingBox.max,po.max),this.boundingBox.expandByPoint(Yr)):(this.boundingBox.expandByPoint(po.min),this.boundingBox.expandByPoint(po.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&en('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ga);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){en("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const i=this.boundingSphere.center;if(po.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const o=n[a];gy.setFromBufferAttribute(o),this.morphTargetsRelative?(Yr.addVectors(po.min,gy.min),po.expandByPoint(Yr),Yr.addVectors(po.max,gy.max),po.expandByPoint(Yr)):(po.expandByPoint(gy.min),po.expandByPoint(gy.max))}po.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Yr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Yr));if(n)for(let a=0,s=n.length;a<s;a++){const o=n[a],c=this.morphTargetsRelative;for(let f=0,d=o.count;f<d;f++)Yr.fromBufferAttribute(o,f),c&&(y0.fromBufferAttribute(e,f),Yr.add(y0)),r=Math.max(r,i.distanceToSquared(Yr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&en('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){en("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ui(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],c=[];for(let F=0;F<i.count;F++)o[F]=new te,c[F]=new te;const f=new te,d=new te,m=new te,v=new He,y=new He,_=new He,E=new te,S=new te;function M(F,I,j){f.fromBufferAttribute(i,F),d.fromBufferAttribute(i,I),m.fromBufferAttribute(i,j),v.fromBufferAttribute(a,F),y.fromBufferAttribute(a,I),_.fromBufferAttribute(a,j),d.sub(f),m.sub(f),y.sub(v),_.sub(v);const k=1/(y.x*_.y-_.x*y.y);isFinite(k)&&(E.copy(d).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(k),S.copy(m).multiplyScalar(y.x).addScaledVector(d,-_.x).multiplyScalar(k),o[F].add(E),o[I].add(E),o[j].add(E),c[F].add(S),c[I].add(S),c[j].add(S))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let F=0,I=C.length;F<I;++F){const j=C[F],k=j.start,Z=j.count;for(let ee=k,re=k+Z;ee<re;ee+=3)M(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const T=new te,L=new te,P=new te,N=new te;function z(F){P.fromBufferAttribute(r,F),N.copy(P);const I=o[F];T.copy(I),T.sub(P.multiplyScalar(P.dot(I))).normalize(),L.crossVectors(N,I);const k=L.dot(c[F])<0?-1:1;s.setXYZW(F,T.x,T.y,T.z,k)}for(let F=0,I=C.length;F<I;++F){const j=C[F],k=j.start,Z=j.count;for(let ee=k,re=k+Z;ee<re;ee+=3)z(e.getX(ee+0)),z(e.getX(ee+1)),z(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ui(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const r=new te,a=new te,s=new te,o=new te,c=new te,f=new te,d=new te,m=new te;if(e)for(let v=0,y=e.count;v<y;v+=3){const _=e.getX(v+0),E=e.getX(v+1),S=e.getX(v+2);r.fromBufferAttribute(n,_),a.fromBufferAttribute(n,E),s.fromBufferAttribute(n,S),d.subVectors(s,a),m.subVectors(r,a),d.cross(m),o.fromBufferAttribute(i,_),c.fromBufferAttribute(i,E),f.fromBufferAttribute(i,S),o.add(d),c.add(d),f.add(d),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(E,c.x,c.y,c.z),i.setXYZ(S,f.x,f.y,f.z)}else for(let v=0,y=n.count;v<y;v+=3)r.fromBufferAttribute(n,v+0),a.fromBufferAttribute(n,v+1),s.fromBufferAttribute(n,v+2),d.subVectors(s,a),m.subVectors(r,a),d.cross(m),i.setXYZ(v+0,d.x,d.y,d.z),i.setXYZ(v+1,d.x,d.y,d.z),i.setXYZ(v+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Yr.fromBufferAttribute(e,n),Yr.normalize(),e.setXYZ(n,Yr.x,Yr.y,Yr.z)}toNonIndexed(){function e(o,c){const f=o.array,d=o.itemSize,m=o.normalized,v=new f.constructor(c.length*d);let y=0,_=0;for(let E=0,S=c.length;E<S;E++){o.isInterleavedBufferAttribute?y=c[E]*o.data.stride+o.offset:y=c[E]*d;for(let M=0;M<d;M++)v[_++]=f[y++]}return new ui(v,d,m)}if(this.index===null)return bt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new un,i=this.index.array,r=this.attributes;for(const o in r){const c=r[o],f=e(c,i);n.setAttribute(o,f)}const a=this.morphAttributes;for(const o in a){const c=[],f=a[o];for(let d=0,m=f.length;d<m;d++){const v=f[d],y=e(v,i);c.push(y)}n.morphAttributes[o]=c}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,c=s.length;o<c;o++){const f=s[o];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const f in c)c[f]!==void 0&&(e[f]=c[f]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const c in i){const f=i[c];e.data.attributes[c]=f.toJSON(e.data)}const r={};let a=!1;for(const c in this.morphAttributes){const f=this.morphAttributes[c],d=[];for(let m=0,v=f.length;m<v;m++){const y=f[m];d.push(y.toJSON(e.data))}d.length>0&&(r[c]=d,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(n))}const a=e.morphAttributes;for(const f in a){const d=[],m=a[f];for(let v=0,y=m.length;v<y;v++)d.push(m[v].clone(n));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,d=s.length;f<d;f++){const m=s[f];this.addGroup(m.start,m.count,m.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const S5=new Jt,Wh=new Zp,F_=new ga,M5=new te,k_=new te,V_=new te,H_=new te,P3=new te,G_=new te,E5=new te,q_=new te;class Ir extends Bn{constructor(e=new un,n=new Kd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){G_.set(0,0,0);for(let c=0,f=a.length;c<f;c++){const d=o[c],m=a[c];d!==0&&(P3.fromBufferAttribute(m,e),s?G_.addScaledVector(P3,d):G_.addScaledVector(P3.sub(n),d))}n.add(G_)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),F_.copy(i.boundingSphere),F_.applyMatrix4(a),Wh.copy(e.ray).recast(e.near),!(F_.containsPoint(Wh.origin)===!1&&(Wh.intersectSphere(F_,M5)===null||Wh.origin.distanceToSquared(M5)>(e.far-e.near)**2))&&(S5.copy(a).invert(),Wh.copy(e.ray).applyMatrix4(S5),!(i.boundingBox!==null&&Wh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Wh)))}_computeIntersections(e,n,i){let r;const a=this.geometry,s=this.material,o=a.index,c=a.attributes.position,f=a.attributes.uv,d=a.attributes.uv1,m=a.attributes.normal,v=a.groups,y=a.drawRange;if(o!==null)if(Array.isArray(s))for(let _=0,E=v.length;_<E;_++){const S=v[_],M=s[S.materialIndex],C=Math.max(S.start,y.start),T=Math.min(o.count,Math.min(S.start+S.count,y.start+y.count));for(let L=C,P=T;L<P;L+=3){const N=o.getX(L),z=o.getX(L+1),F=o.getX(L+2);r=X_(this,M,e,i,f,d,m,N,z,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,y.start),E=Math.min(o.count,y.start+y.count);for(let S=_,M=E;S<M;S+=3){const C=o.getX(S),T=o.getX(S+1),L=o.getX(S+2);r=X_(this,s,e,i,f,d,m,C,T,L),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let _=0,E=v.length;_<E;_++){const S=v[_],M=s[S.materialIndex],C=Math.max(S.start,y.start),T=Math.min(c.count,Math.min(S.start+S.count,y.start+y.count));for(let L=C,P=T;L<P;L+=3){const N=L,z=L+1,F=L+2;r=X_(this,M,e,i,f,d,m,N,z,F),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=S.materialIndex,n.push(r))}}else{const _=Math.max(0,y.start),E=Math.min(c.count,y.start+y.count);for(let S=_,M=E;S<M;S+=3){const C=S,T=S+1,L=S+2;r=X_(this,s,e,i,f,d,m,C,T,L),r&&(r.faceIndex=Math.floor(S/3),n.push(r))}}}}function Jxe(t,e,n,i,r,a,s,o){let c;if(e.side===hs?c=i.intersectTriangle(s,a,r,!0,o):c=i.intersectTriangle(r,a,s,e.side===af,o),c===null)return null;q_.copy(o),q_.applyMatrix4(t.matrixWorld);const f=n.ray.origin.distanceTo(q_);return f<n.near||f>n.far?null:{distance:f,point:q_.clone(),object:t}}function X_(t,e,n,i,r,a,s,o,c,f){t.getVertexPosition(o,k_),t.getVertexPosition(c,V_),t.getVertexPosition(f,H_);const d=Jxe(t,e,n,i,k_,V_,H_,E5);if(d){const m=new te;Bs.getBarycoord(E5,k_,V_,H_,m),r&&(d.uv=Bs.getInterpolatedAttribute(r,o,c,f,m,new He)),a&&(d.uv1=Bs.getInterpolatedAttribute(a,o,c,f,m,new He)),s&&(d.normal=Bs.getInterpolatedAttribute(s,o,c,f,m,new te),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const v={a:o,b:c,c:f,normal:new te,materialIndex:0};Bs.getNormal(k_,V_,H_,v.normal),d.face=v,d.barycoord=m}return d}class Qp extends un{constructor(e=1,n=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const c=[],f=[],d=[],m=[];let v=0,y=0;_("z","y","x",-1,-1,i,n,e,s,a,0),_("z","y","x",1,-1,i,n,-e,s,a,1),_("x","z","y",1,1,e,i,n,r,s,2),_("x","z","y",1,-1,e,i,-n,r,s,3),_("x","y","z",1,-1,e,n,i,r,a,4),_("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(c),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(d,3)),this.setAttribute("uv",new Rt(m,2));function _(E,S,M,C,T,L,P,N,z,F,I){const j=L/z,k=P/F,Z=L/2,ee=P/2,re=N/2,ae=z+1,H=F+1;let X=0,K=0;const ne=new te;for(let q=0;q<H;q++){const se=q*k-ee;for(let ge=0;ge<ae;ge++){const _e=ge*j-Z;ne[E]=_e*C,ne[S]=se*T,ne[M]=re,f.push(ne.x,ne.y,ne.z),ne[E]=0,ne[S]=0,ne[M]=N>0?1:-1,d.push(ne.x,ne.y,ne.z),m.push(ge/z),m.push(1-q/F),X+=1}}for(let q=0;q<F;q++)for(let se=0;se<z;se++){const ge=v+se+ae*q,_e=v+se+ae*(q+1),Ae=v+(se+1)+ae*(q+1),Qe=v+(se+1)+ae*q;c.push(ge,_e,Qe),c.push(_e,Ae,Qe),K+=6}o.addGroup(y,K,I),y+=K,v+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hg(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(bt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function os(t){const e={};for(let n=0;n<t.length;n++){const i=hg(t[n]);for(const r in i)e[r]=i[r]}return e}function ebe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function LG(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Nn.workingColorSpace}const UG={clone:hg,merge:os};var tbe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nbe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class rl extends ja{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=tbe,this.fragmentShader=nbe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hg(e.uniforms),this.uniformsGroups=ebe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class Xw extends Bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt,this.coordinateSystem=_o,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const xd=new te,w5=new He,A5=new He;class Fi extends Xw{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=fg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Lp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fg*2*Math.atan(Math.tan(Lp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){xd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(xd.x,xd.y).multiplyScalar(-e/xd.z),xd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(xd.x,xd.y).multiplyScalar(-e/xd.z)}getViewSize(e,n){return this.getViewBounds(e,w5,A5),n.subVectors(A5,w5)}setViewOffset(e,n,i,r,a,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Lp*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/c,n-=s.offsetY*i/f,r*=s.width/c,i*=s.height/f}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const x0=-90,b0=1;class IG extends Bn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Fi(x0,b0,e,n);r.layers=this.layers,this.add(r);const a=new Fi(x0,b0,e,n);a.layers=this.layers,this.add(a);const s=new Fi(x0,b0,e,n);s.layers=this.layers,this.add(s);const o=new Fi(x0,b0,e,n);o.layers=this.layers,this.add(o);const c=new Fi(x0,b0,e,n);c.layers=this.layers,this.add(c);const f=new Fi(x0,b0,e,n);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,s,o,c]=n;for(const f of n)this.remove(f);if(e===_o)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===cg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of n)this.add(f),f.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,c,f,d]=this.children,m=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,s),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,c),e.setRenderTarget(i,4,r),e.render(n,f),i.texture.generateMipmaps=E,e.setRenderTarget(i,5,r),e.render(n,d),e.setRenderTarget(m,v,y),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Eb extends er{constructor(e=[],n=sf,i,r,a,s,o,c,f,d){super(e,n,i,r,a,s,o,c,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class zG extends eu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Eb(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Qp(5,5,5),a=new rl({name:"CubemapFromEquirect",uniforms:hg(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:hs,blending:Gc});a.uniforms.tEquirect.value=n;const s=new Ir(r,a),o=n.minFilter;return n.minFilter===Bc&&(n.minFilter=dr),new IG(1,10,this).update(e,s),n.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(a)}}class G0 extends Bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ibe={type:"move"};class GS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new G0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new G0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new G0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,s=null;const o=this._targetRay,c=this._grip,f=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const E of e.hand.values()){const S=n.getJointPose(E,i),M=this._getHandJoint(f,E);S!==null&&(M.matrix.fromArray(S.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=S.radius),M.visible=S!==null}const d=f.joints["index-finger-tip"],m=f.joints["thumb-tip"],v=d.position.distanceTo(m.position),y=.02,_=.005;f.inputState.pinching&&v>y+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&v<=y-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ibe)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new G0;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class Ww{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Mt(e),this.density=n}clone(){return new Ww(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Yw{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Mt(e),this.near=n,this.far=i}clone(){return new Yw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ZN extends Bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new qs,this.environmentIntensity=1,this.environmentRotation=new qs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Kw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Lx,this.updateRanges=[],this.version=0,this.uuid=Mo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Mo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const as=new te;class Gp{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)as.fromBufferAttribute(this,n),as.applyMatrix4(e),this.setXYZ(n,as.x,as.y,as.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.applyNormalMatrix(e),this.setXYZ(n,as.x,as.y,as.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.transformDirection(e),this.setXYZ(n,as.x,as.y,as.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=ls(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=hn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=hn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=hn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=hn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=hn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ls(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ls(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ls(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ls(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=hn(n,this.array),i=hn(i,this.array),r=hn(r,this.array),a=hn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){Ix("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new ui(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Ix("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class QN extends ja{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _0;const vy=new te,S0=new te,M0=new te,E0=new He,yy=new He,BG=new Jt,W_=new te,xy=new te,Y_=new te,T5=new He,L3=new He,C5=new He;class jG extends Bn{constructor(e=new QN){if(super(),this.isSprite=!0,this.type="Sprite",_0===void 0){_0=new un;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Kw(n,5);_0.setIndex([0,1,2,0,2,3]),_0.setAttribute("position",new Gp(i,3,0,!1)),_0.setAttribute("uv",new Gp(i,2,3,!1))}this.geometry=_0,this.material=e,this.center=new He(.5,.5),this.count=1}raycast(e,n){e.camera===null&&en('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),S0.setFromMatrixScale(this.matrixWorld),BG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),M0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&S0.multiplyScalar(-M0.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;K_(W_.set(-.5,-.5,0),M0,s,S0,r,a),K_(xy.set(.5,-.5,0),M0,s,S0,r,a),K_(Y_.set(.5,.5,0),M0,s,S0,r,a),T5.set(0,0),L3.set(1,0),C5.set(1,1);let o=e.ray.intersectTriangle(W_,xy,Y_,!1,vy);if(o===null&&(K_(xy.set(-.5,.5,0),M0,s,S0,r,a),L3.set(0,1),o=e.ray.intersectTriangle(W_,Y_,xy,!1,vy),o===null))return;const c=e.ray.origin.distanceTo(vy);c<e.near||c>e.far||n.push({distance:c,point:vy.clone(),uv:Bs.getInterpolation(vy,W_,xy,Y_,T5,L3,C5,new He),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function K_(t,e,n,i,r,a){E0.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(yy.x=a*E0.x-r*E0.y,yy.y=r*E0.x+a*E0.y):yy.copy(E0),t.copy(e),t.x+=yy.x,t.y+=yy.y,t.applyMatrix4(BG)}const $_=new te,R5=new te;class FG extends Bn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){$_.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo($_);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){$_.setFromMatrixPosition(e.matrixWorld),R5.setFromMatrixPosition(this.matrixWorld);const i=$_.distanceTo(R5)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),i>=s)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const O5=new te,D5=new zn,N5=new zn,rbe=new te,P5=new Jt,Z_=new te,U3=new ga,L5=new Jt,I3=new Zp;class kG extends Ir{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=QR,this.bindMatrix=new Jt,this.bindMatrixInverse=new Jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ba),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Z_),this.boundingBox.expandByPoint(Z_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ga),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Z_),this.boundingSphere.expandByPoint(Z_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),U3.copy(this.boundingSphere),U3.applyMatrix4(r),e.ray.intersectsSphere(U3)!==!1&&(L5.copy(r).invert(),I3.copy(e.ray).applyMatrix4(L5),!(this.boundingBox!==null&&I3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,I3)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===QR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===gG?this.bindMatrixInverse.copy(this.bindMatrix).invert():bt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;D5.fromBufferAttribute(r.attributes.skinIndex,e),N5.fromBufferAttribute(r.attributes.skinWeight,e),O5.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const s=N5.getComponent(a);if(s!==0){const o=D5.getComponent(a);P5.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(rbe.copy(O5).applyMatrix4(P5),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class JN extends Bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Wl extends er{constructor(e=null,n=1,i=1,r,a,s,o,c,f=ma,d=ma,m,v){super(null,s,o,c,f,d,r,a,m,v),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const U5=new Jt,abe=new Jt;class $w{constructor(e=[],n=[]){this.uuid=Mo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){bt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Jt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:abe;U5.multiplyMatrices(o,n[a]),U5.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new $w(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Wl(n,e,e,Ia,Vs);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=n[a];s===void 0&&(bt("Skeleton: No bone found with UUID:",a),s=new JN),this.bones.push(s),this.boneInverses.push(new Jt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const s=n[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class pg extends ui{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const w0=new Jt,I5=new Jt,Q_=[],z5=new Ba,sbe=new Jt,by=new Ir,_y=new ga;class VG extends Ir{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new pg(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,sbe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ba),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,w0),z5.copy(e.boundingBox).applyMatrix4(w0),this.boundingBox.union(z5)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ga),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,w0),_y.copy(e.boundingSphere).applyMatrix4(w0),this.boundingSphere.union(_y)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(by.geometry=this.geometry,by.material=this.material,by.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_y.copy(this.boundingSphere),_y.applyMatrix4(i),e.ray.intersectsSphere(_y)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,w0),I5.multiplyMatrices(i,w0),by.matrixWorld=I5,by.raycast(e,Q_);for(let s=0,o=Q_.length;s<o;s++){const c=Q_[s];c.instanceId=a,c.object=this,n.push(c)}Q_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new pg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Wl(new Float32Array(r*this.count),r,this.count,jw,Vs));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const o=this.geometry.morphTargetsRelative?1:1-s,c=r*e;a[c]=o,a.set(i,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const z3=new te,obe=new te,lbe=new cn;class zu{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=z3.subVectors(i,n).cross(obe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(z3),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||lbe.getNormalMatrix(e),r=this.coplanarPoint(z3).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Yh=new ga,cbe=new He(.5,.5),J_=new te;class Ug{constructor(e=new zu,n=new zu,i=new zu,r=new zu,a=new zu,s=new zu){this.planes=[e,n,i,r,a,s]}set(e,n,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=_o,i=!1){const r=this.planes,a=e.elements,s=a[0],o=a[1],c=a[2],f=a[3],d=a[4],m=a[5],v=a[6],y=a[7],_=a[8],E=a[9],S=a[10],M=a[11],C=a[12],T=a[13],L=a[14],P=a[15];if(r[0].setComponents(f-s,y-d,M-_,P-C).normalize(),r[1].setComponents(f+s,y+d,M+_,P+C).normalize(),r[2].setComponents(f+o,y+m,M+E,P+T).normalize(),r[3].setComponents(f-o,y-m,M-E,P-T).normalize(),i)r[4].setComponents(c,v,S,L).normalize(),r[5].setComponents(f-c,y-v,M-S,P-L).normalize();else if(r[4].setComponents(f-c,y-v,M-S,P-L).normalize(),n===_o)r[5].setComponents(f+c,y+v,M+S,P+L).normalize();else if(n===cg)r[5].setComponents(c,v,S,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Yh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Yh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Yh)}intersectsSprite(e){Yh.center.set(0,0,0);const n=cbe.distanceTo(e.center);return Yh.radius=.7071067811865476+n,Yh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yh)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(J_.x=r.normal.x>0?e.max.x:e.min.x,J_.y=r.normal.y>0?e.max.y:e.min.y,J_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(J_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Nc=new Jt,Pc=new Ug;class Zw{constructor(){this.coordinateSystem=_o}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Nc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Pc.setFromProjectionMatrix(Nc,r.coordinateSystem,r.reversedDepth),Pc.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Nc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Pc.setFromProjectionMatrix(Nc,r.coordinateSystem,r.reversedDepth),Pc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Nc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Pc.setFromProjectionMatrix(Nc,r.coordinateSystem,r.reversedDepth),Pc.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Nc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Pc.setFromProjectionMatrix(Nc,r.coordinateSystem,r.reversedDepth),Pc.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Nc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Pc.setFromProjectionMatrix(Nc,r.coordinateSystem,r.reversedDepth),Pc.containsPoint(e))return!0}return!1}clone(){return new Zw}}function B3(t,e){return t-e}function ube(t,e){return t.z-e.z}function fbe(t,e){return e.z-t.z}class dbe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Ns=new Jt,hbe=new Mt(1,1,1),B5=new Ug,pbe=new Zw,eS=new Ba,Kh=new ga,Sy=new te,j5=new te,mbe=new te,j3=new dbe,Oa=new Ir,tS=[];function gbe(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+n,s,t.getComponent(a,s))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function $h(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class HG extends Ir{constructor(e,n,i=n*2,r){super(new un,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Wl(n,e,e,Ia,Vs);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Wl(n,e,e,Mb,of);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Wl(n,e,e,Ia,Vs);i.colorSpace=Nn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:c,normalized:f}=s,d=new o.constructor(i*c),m=new ui(d,c,f);n.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new ui(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ba);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Ns),this.getBoundingBoxAt(a,eS).applyMatrix4(Ns),e.union(eS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ga);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Ns),this.getBoundingSphereAt(a,Kh).applyMatrix4(Ns),e.union(Kh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(B3),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Ns.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(hbe.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(B3),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=n.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,f=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const d in i.attributes){const m=n.getAttribute(d),v=i.getAttribute(d);gbe(m,v,c);const y=m.itemSize;for(let _=m.count,E=f;_<E;_++){const S=c+_;for(let M=0;M<y;M++)v.setComponent(S,M,0)}v.needsUpdate=!0,v.addUpdateRange(c*y,f*y)}if(r){const d=o.indexStart,m=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let v=0;v<s.count;v++)a.setX(d+v,c+s.getX(v));for(let v=s.count,y=m;v<y;v++)a.setX(d+v,c);a.needsUpdate=!0,a.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const c=r[s],f=i[c];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==n){const{indexStart:d,vertexStart:m,reservedIndexCount:v}=f,y=a.index,_=y.array,E=e-m;for(let S=d;S<d+v;S++)_[S]=_[S]+E;y.array.copyWithin(n,d,d+v),y.addUpdateRange(n,v),f.indexStart=n}n+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:d,reservedVertexCount:m}=f,v=a.attributes;for(const y in v){const _=v[y],{array:E,itemSize:S}=_;E.copyWithin(e*S,d*S,(d+m)*S),_.addUpdateRange(e*S,m*S)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Ba,s=i.index,o=i.attributes.position;for(let c=r.start,f=r.start+r.count;c<f;c++){let d=c;s&&(d=s.getX(d)),a.expandByPoint(Sy.fromBufferAttribute(o,d))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new ga;this.getBoundingBoxAt(e,eS),eS.getCenter(a.center);const s=i.index,o=i.attributes.position;let c=0;for(let f=r.start,d=r.start+r.count;f<d;f++){let m=f;s&&(m=s.getX(m)),Sy.fromBufferAttribute(o,m),c=Math.max(c,a.center.distanceToSquared(Sy))}a.radius=Math.sqrt(c),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(B3);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);$h(this._multiDrawCounts,r),$h(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),$h(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),$h(o.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),$h(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(c=>c.indexStart+c.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new un,this._initializeGeometry(a));const s=this.geometry;a.index&&$h(a.index.array,s.index.array);for(const o in a.attributes)$h(a.attributes[o].array,s.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;Oa.material=this.material,Oa.geometry.index=s.index,Oa.geometry.attributes=s.attributes,Oa.geometry.boundingBox===null&&(Oa.geometry.boundingBox=new Ba),Oa.geometry.boundingSphere===null&&(Oa.geometry.boundingSphere=new ga);for(let o=0,c=i.length;o<c;o++){if(!i[o].visible||!i[o].active)continue;const f=i[o].geometryIndex,d=r[f];Oa.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,Oa.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,Oa.geometry.boundingBox),this.getBoundingSphereAt(f,Oa.geometry.boundingSphere),Oa.raycast(e,tS);for(let m=0,v=tS.length;m<v;m++){const y=tS[m];y.object=this,y.batchId=o,n.push(y)}tS.length=0}Oa.material=null,Oa.geometry.index=null,Oa.geometry.attributes={},Oa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._instanceInfo,f=this._multiDrawStarts,d=this._multiDrawCounts,m=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,_=y.image.data,E=i.isArrayCamera?pbe:B5;v&&!i.isArrayCamera&&(Ns.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),B5.setFromProjectionMatrix(Ns,i.coordinateSystem,i.reversedDepth));let S=0;if(this.sortObjects){Ns.copy(this.matrixWorld).invert(),Sy.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ns),j5.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ns);for(let T=0,L=c.length;T<L;T++)if(c[T].visible&&c[T].active){const P=c[T].geometryIndex;this.getMatrixAt(T,Ns),this.getBoundingSphereAt(P,Kh).applyMatrix4(Ns);let N=!1;if(v&&(N=!E.intersectsSphere(Kh,i)),!N){const z=m[P],F=mbe.subVectors(Kh.center,Sy).dot(j5);j3.push(z.start,z.count,F,T)}}const M=j3.list,C=this.customSort;C===null?M.sort(a.transparent?fbe:ube):C.call(this,M,i);for(let T=0,L=M.length;T<L;T++){const P=M[T];f[S]=P.start*o,d[S]=P.count,_[S]=P.index,S++}j3.reset()}else for(let M=0,C=c.length;M<C;M++)if(c[M].visible&&c[M].active){const T=c[M].geometryIndex;let L=!1;if(v&&(this.getMatrixAt(M,Ns),this.getBoundingSphereAt(T,Kh).applyMatrix4(Ns),L=!E.intersectsSphere(Kh,i)),!L){const P=m[T];f[S]=P.start*o,d[S]=P.count,_[S]=M,S++}}y.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class gs extends ja{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const NE=new te,PE=new te,F5=new Jt,My=new Zp,nS=new ga,F3=new te,k5=new te;class Fd extends Bn{constructor(e=new un,n=new gs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)NE.fromBufferAttribute(n,r-1),PE.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=NE.distanceTo(PE);e.setAttribute("lineDistance",new Rt(i,1))}else bt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),nS.copy(i.boundingSphere),nS.applyMatrix4(r),nS.radius+=a,e.ray.intersectsSphere(nS)===!1)return;F5.copy(r).invert(),My.copy(e.ray).applyMatrix4(F5);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,f=this.isLineSegments?2:1,d=i.index,v=i.attributes.position;if(d!==null){const y=Math.max(0,s.start),_=Math.min(d.count,s.start+s.count);for(let E=y,S=_-1;E<S;E+=f){const M=d.getX(E),C=d.getX(E+1),T=iS(this,e,My,c,M,C,E);T&&n.push(T)}if(this.isLineLoop){const E=d.getX(_-1),S=d.getX(y),M=iS(this,e,My,c,E,S,_-1);M&&n.push(M)}}else{const y=Math.max(0,s.start),_=Math.min(v.count,s.start+s.count);for(let E=y,S=_-1;E<S;E+=f){const M=iS(this,e,My,c,E,E+1,E);M&&n.push(M)}if(this.isLineLoop){const E=iS(this,e,My,c,_-1,y,_-1);E&&n.push(E)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function iS(t,e,n,i,r,a,s){const o=t.geometry.attributes.position;if(NE.fromBufferAttribute(o,r),PE.fromBufferAttribute(o,a),n.distanceSqToSegment(NE,PE,F3,k5)>i)return;F3.applyMatrix4(t.matrixWorld);const f=e.ray.origin.distanceTo(F3);if(!(f<e.near||f>e.far))return{distance:f,point:k5.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const V5=new te,H5=new te;class iu extends Fd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)V5.fromBufferAttribute(n,r),H5.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+V5.distanceTo(H5);e.setAttribute("lineDistance",new Rt(i,1))}else bt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class GG extends Fd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class eP extends ja{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const G5=new Jt,tO=new Zp,rS=new ga,aS=new te;class qG extends Bn{constructor(e=new un,n=new eP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),rS.copy(i.boundingSphere),rS.applyMatrix4(r),rS.radius+=a,e.ray.intersectsSphere(rS)===!1)return;G5.copy(r).invert(),tO.copy(e.ray).applyMatrix4(G5);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,f=i.index,m=i.attributes.position;if(f!==null){const v=Math.max(0,s.start),y=Math.min(f.count,s.start+s.count);for(let _=v,E=y;_<E;_++){const S=f.getX(_);aS.fromBufferAttribute(m,S),q5(aS,S,c,r,e,n,this)}}else{const v=Math.max(0,s.start),y=Math.min(m.count,s.start+s.count);for(let _=v,E=y;_<E;_++)aS.fromBufferAttribute(m,_),q5(aS,_,c,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function q5(t,e,n,i,r,a,s){const o=tO.distanceSqToPoint(t);if(o<n){const c=new te;tO.closestPointToPoint(t,c),c.applyMatrix4(i);const f=r.ray.origin.distanceTo(c);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class XG extends er{constructor(e,n,i,r,a=dr,s=dr,o,c,f){super(e,n,i,r,a,s,o,c,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function m(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(m))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class vbe extends XG{constructor(e,n,i,r,a,s,o,c){super({},e,n,i,r,a,s,o,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ybe extends er{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ma,this.minFilter=ma,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qw extends er{constructor(e,n,i,r,a,s,o,c,f,d,m,v){super(null,s,o,c,f,d,r,a,m,v),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xbe extends Qw{constructor(e,n,i,r,a,s){super(e,n,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ks,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bbe extends Qw{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,sf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class _be extends er{constructor(e,n,i,r,a,s,o,c,f){super(e,n,i,r,a,s,o,c,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tP extends er{constructor(e,n,i=of,r,a,s,o=ma,c=ma,f,d=og,m=1){if(d!==og&&d!==lg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:n,depth:m};super(v,r,a,s,o,c,d,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Od(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class nP extends er{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Jw extends un{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],o=[],c=[],f=[],d=n/2,m=Math.PI/2*e,v=n,y=2*m+v,_=i*2+a,E=r+1,S=new te,M=new te;for(let C=0;C<=_;C++){let T=0,L=0,P=0,N=0;if(C<=i){const I=C/i,j=I*Math.PI/2;L=-d-e*Math.cos(j),P=e*Math.sin(j),N=-e*Math.cos(j),T=I*m}else if(C<=i+a){const I=(C-i)/a;L=-d+I*n,P=e,N=0,T=m+I*v}else{const I=(C-i-a)/i,j=I*Math.PI/2;L=d+e*Math.sin(j),P=e*Math.cos(j),N=e*Math.sin(j),T=m+v+I*m}const z=Math.max(0,Math.min(1,T/y));let F=0;C===0?F=.5/r:C===_&&(F=-.5/r);for(let I=0;I<=r;I++){const j=I/r,k=j*Math.PI*2,Z=Math.sin(k),ee=Math.cos(k);M.x=-P*ee,M.y=L,M.z=P*Z,o.push(M.x,M.y,M.z),S.set(-P*ee,N,P*Z),S.normalize(),c.push(S.x,S.y,S.z),f.push(j+F,z)}if(C>0){const I=(C-1)*E;for(let j=0;j<r;j++){const k=I+j,Z=I+j+1,ee=C*E+j,re=C*E+j+1;s.push(k,Z,ee),s.push(Z,re,ee)}}}this.setIndex(s),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class eA extends un{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],s=[],o=[],c=[],f=new te,d=new He;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let m=0,v=3;m<=n;m++,v+=3){const y=i+m/n*r;f.x=e*Math.cos(y),f.y=e*Math.sin(y),s.push(f.x,f.y,f.z),o.push(0,0,1),d.x=(s[v]/e+1)/2,d.y=(s[v+1]/e+1)/2,c.push(d.x,d.y)}for(let m=1;m<=n;m++)a.push(m,m+1,0);this.setIndex(a),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(o,3)),this.setAttribute("uv",new Rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class wb extends un{constructor(e=1,n=1,i=1,r=32,a=1,s=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};const f=this;r=Math.floor(r),a=Math.floor(a);const d=[],m=[],v=[],y=[];let _=0;const E=[],S=i/2;let M=0;C(),s===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(d),this.setAttribute("position",new Rt(m,3)),this.setAttribute("normal",new Rt(v,3)),this.setAttribute("uv",new Rt(y,2));function C(){const L=new te,P=new te;let N=0;const z=(n-e)/i;for(let F=0;F<=a;F++){const I=[],j=F/a,k=j*(n-e)+e;for(let Z=0;Z<=r;Z++){const ee=Z/r,re=ee*c+o,ae=Math.sin(re),H=Math.cos(re);P.x=k*ae,P.y=-j*i+S,P.z=k*H,m.push(P.x,P.y,P.z),L.set(ae,z,H).normalize(),v.push(L.x,L.y,L.z),y.push(ee,1-j),I.push(_++)}E.push(I)}for(let F=0;F<r;F++)for(let I=0;I<a;I++){const j=E[I][F],k=E[I+1][F],Z=E[I+1][F+1],ee=E[I][F+1];(e>0||I!==0)&&(d.push(j,k,ee),N+=3),(n>0||I!==a-1)&&(d.push(k,Z,ee),N+=3)}f.addGroup(M,N,0),M+=N}function T(L){const P=_,N=new He,z=new te;let F=0;const I=L===!0?e:n,j=L===!0?1:-1;for(let Z=1;Z<=r;Z++)m.push(0,S*j,0),v.push(0,j,0),y.push(.5,.5),_++;const k=_;for(let Z=0;Z<=r;Z++){const re=Z/r*c+o,ae=Math.cos(re),H=Math.sin(re);z.x=I*H,z.y=S*j,z.z=I*ae,m.push(z.x,z.y,z.z),v.push(0,j,0),N.x=ae*.5+.5,N.y=H*.5*j+.5,y.push(N.x,N.y),_++}for(let Z=0;Z<r;Z++){const ee=P+Z,re=k+Z;L===!0?d.push(re,re+1,ee):d.push(re+1,re,ee),F+=3}f.addGroup(M,F,L===!0?1:2),M+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ab extends wb{constructor(e=1,n=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,n,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Ab(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $d extends un{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],s=[];o(r),f(i),d(),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(a.slice(),3)),this.setAttribute("uv",new Rt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(C){const T=new te,L=new te,P=new te;for(let N=0;N<n.length;N+=3)y(n[N+0],T),y(n[N+1],L),y(n[N+2],P),c(T,L,P,C)}function c(C,T,L,P){const N=P+1,z=[];for(let F=0;F<=N;F++){z[F]=[];const I=C.clone().lerp(L,F/N),j=T.clone().lerp(L,F/N),k=N-F;for(let Z=0;Z<=k;Z++)Z===0&&F===N?z[F][Z]=I:z[F][Z]=I.clone().lerp(j,Z/k)}for(let F=0;F<N;F++)for(let I=0;I<2*(N-F)-1;I++){const j=Math.floor(I/2);I%2===0?(v(z[F][j+1]),v(z[F+1][j]),v(z[F][j])):(v(z[F][j+1]),v(z[F+1][j+1]),v(z[F+1][j]))}}function f(C){const T=new te;for(let L=0;L<a.length;L+=3)T.x=a[L+0],T.y=a[L+1],T.z=a[L+2],T.normalize().multiplyScalar(C),a[L+0]=T.x,a[L+1]=T.y,a[L+2]=T.z}function d(){const C=new te;for(let T=0;T<a.length;T+=3){C.x=a[T+0],C.y=a[T+1],C.z=a[T+2];const L=S(C)/2/Math.PI+.5,P=M(C)/Math.PI+.5;s.push(L,1-P)}_(),m()}function m(){for(let C=0;C<s.length;C+=6){const T=s[C+0],L=s[C+2],P=s[C+4],N=Math.max(T,L,P),z=Math.min(T,L,P);N>.9&&z<.1&&(T<.2&&(s[C+0]+=1),L<.2&&(s[C+2]+=1),P<.2&&(s[C+4]+=1))}}function v(C){a.push(C.x,C.y,C.z)}function y(C,T){const L=C*3;T.x=e[L+0],T.y=e[L+1],T.z=e[L+2]}function _(){const C=new te,T=new te,L=new te,P=new te,N=new He,z=new He,F=new He;for(let I=0,j=0;I<a.length;I+=9,j+=6){C.set(a[I+0],a[I+1],a[I+2]),T.set(a[I+3],a[I+4],a[I+5]),L.set(a[I+6],a[I+7],a[I+8]),N.set(s[j+0],s[j+1]),z.set(s[j+2],s[j+3]),F.set(s[j+4],s[j+5]),P.copy(C).add(T).add(L).divideScalar(3);const k=S(P);E(N,j+0,C,k),E(z,j+2,T,k),E(F,j+4,L,k)}}function E(C,T,L,P){P<0&&C.x===1&&(s[T]=C.x-1),L.x===0&&L.z===0&&(s[T]=P/2/Math.PI+.5)}function S(C){return Math.atan2(C.z,-C.x)}function M(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $d(e.vertices,e.indices,e.radius,e.details)}}class tA extends $d{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new tA(e.radius,e.detail)}}const sS=new te,oS=new te,k3=new te,lS=new Bs;class WG extends un{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(Lp*n),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,f=[0,0,0],d=["a","b","c"],m=new Array(3),v={},y=[];for(let _=0;_<c;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:E,b:S,c:M}=lS;if(E.fromBufferAttribute(o,f[0]),S.fromBufferAttribute(o,f[1]),M.fromBufferAttribute(o,f[2]),lS.getNormal(k3),m[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,m[1]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,m[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let C=0;C<3;C++){const T=(C+1)%3,L=m[C],P=m[T],N=lS[d[C]],z=lS[d[T]],F=`${L}_${P}`,I=`${P}_${L}`;I in v&&v[I]?(k3.dot(v[I].normal)<=a&&(y.push(N.x,N.y,N.z),y.push(z.x,z.y,z.z)),v[I]=null):F in v||(v[F]={index0:f[C],index1:f[T],normal:k3.clone()})}}for(const _ in v)if(v[_]){const{index0:E,index1:S}=v[_];sS.fromBufferAttribute(o,E),oS.fromBufferAttribute(o,S),y.push(sS.x,sS.y,sS.z),y.push(oS.x,oS.y,oS.z)}this.setAttribute("position",new Rt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $l{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){bt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let s;n?s=n:s=e*i[a-1];let o=0,c=a-1,f;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),f=i[r]-s,f<0)o=r+1;else if(f>0)c=r-1;else{c=r;break}if(r=c,i[r]===s)return r/(a-1);const d=i[r],v=i[r+1]-d,y=(s-d)/v;return(r+y)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),c=n||(s.isVector2?new He:new te);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new te,r=[],a=[],s=[],o=new te,c=new Jt;for(let y=0;y<=e;y++){const _=y/e;r[y]=this.getTangentAt(_,new te)}a[0]=new te,s[0]=new te;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),m=Math.abs(r[0].y),v=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),m<=f&&(f=m,i.set(0,1,0)),v<=f&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let y=1;y<=e;y++){if(a[y]=a[y-1].clone(),s[y]=s[y-1].clone(),o.crossVectors(r[y-1],r[y]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos($t(r[y-1].dot(r[y]),-1,1));a[y].applyMatrix4(c.makeRotationAxis(o,_))}s[y].crossVectors(r[y],a[y])}if(n===!0){let y=Math.acos($t(a[0].dot(a[e]),-1,1));y/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(y=-y);for(let _=1;_<=e;_++)a[_].applyMatrix4(c.makeRotationAxis(r[_],y*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nA extends $l{constructor(e=0,n=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,n=new He){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(o),f=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),m=Math.sin(this.aRotation),v=c-this.aX,y=f-this.aY;c=v*d-y*m+this.aX,f=v*m+y*d+this.aY}return i.set(c,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YG extends nA{constructor(e,n,i,r,a,s){super(e,n,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function iP(){let t=0,e=0,n=0,i=0;function r(a,s,o,c){t=a,e=o,n=-3*a+3*s-2*o-c,i=2*a-2*s+o+c}return{initCatmullRom:function(a,s,o,c,f){r(s,o,f*(o-a),f*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,f,d,m){let v=(s-a)/f-(o-a)/(f+d)+(o-s)/d,y=(o-s)/d-(c-s)/(d+m)+(c-o)/m;v*=d,y*=d,r(s,o,v,y)},calc:function(a){const s=a*a,o=s*a;return t+e*a+n*s+i*o}}}const cS=new te,V3=new iP,H3=new iP,G3=new iP;class KG extends $l{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new te){const i=n,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let f,d;this.closed||o>0?f=r[(o-1)%a]:(cS.subVectors(r[0],r[1]).add(r[0]),f=cS);const m=r[o%a],v=r[(o+1)%a];if(this.closed||o+2<a?d=r[(o+2)%a]:(cS.subVectors(r[a-1],r[a-2]).add(r[a-1]),d=cS),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(m),y),E=Math.pow(m.distanceToSquared(v),y),S=Math.pow(v.distanceToSquared(d),y);E<1e-4&&(E=1),_<1e-4&&(_=E),S<1e-4&&(S=E),V3.initNonuniformCatmullRom(f.x,m.x,v.x,d.x,_,E,S),H3.initNonuniformCatmullRom(f.y,m.y,v.y,d.y,_,E,S),G3.initNonuniformCatmullRom(f.z,m.z,v.z,d.z,_,E,S)}else this.curveType==="catmullrom"&&(V3.initCatmullRom(f.x,m.x,v.x,d.x,this.tension),H3.initCatmullRom(f.y,m.y,v.y,d.y,this.tension),G3.initCatmullRom(f.z,m.z,v.z,d.z,this.tension));return i.set(V3.calc(c),H3.calc(c),G3.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new te().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function X5(t,e,n,i,r){const a=(i-e)*.5,s=(r-n)*.5,o=t*t,c=t*o;return(2*n-2*i+a+s)*c+(-3*n+3*i-2*a-s)*o+a*t+n}function Sbe(t,e){const n=1-t;return n*n*e}function Mbe(t,e){return 2*(1-t)*t*e}function Ebe(t,e){return t*t*e}function tx(t,e,n,i){return Sbe(t,e)+Mbe(t,n)+Ebe(t,i)}function wbe(t,e){const n=1-t;return n*n*n*e}function Abe(t,e){const n=1-t;return 3*n*n*t*e}function Tbe(t,e){return 3*(1-t)*t*t*e}function Cbe(t,e){return t*t*t*e}function nx(t,e,n,i,r){return wbe(t,e)+Abe(t,n)+Tbe(t,i)+Cbe(t,r)}class rP extends $l{constructor(e=new He,n=new He,i=new He,r=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new He){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(nx(e,r.x,a.x,s.x,o.x),nx(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class $G extends $l{constructor(e=new te,n=new te,i=new te,r=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new te){const i=n,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(nx(e,r.x,a.x,s.x,o.x),nx(e,r.y,a.y,s.y,o.y),nx(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aP extends $l{constructor(e=new He,n=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new He){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new He){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ZG extends $l{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sP extends $l{constructor(e=new He,n=new He,i=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new He){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(tx(e,r.x,a.x,s.x),tx(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oP extends $l{constructor(e=new te,n=new te,i=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new te){const i=n,r=this.v0,a=this.v1,s=this.v2;return i.set(tx(e,r.x,a.x,s.x),tx(e,r.y,a.y,s.y),tx(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lP extends $l{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new He){const i=n,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,c=r[s===0?s:s-1],f=r[s],d=r[s>r.length-2?r.length-1:s+1],m=r[s>r.length-3?r.length-1:s+2];return i.set(X5(o,c.x,f.x,d.x,m.x),X5(o,c.y,f.y,d.y,m.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new He().fromArray(r))}return this}}var LE=Object.freeze({__proto__:null,ArcCurve:YG,CatmullRomCurve3:KG,CubicBezierCurve:rP,CubicBezierCurve3:$G,EllipseCurve:nA,LineCurve:aP,LineCurve3:ZG,QuadraticBezierCurve:sP,QuadraticBezierCurve3:oP,SplineCurve:lP});class QG extends $l{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new LE[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],c=o.getLength(),f=c===0?0:1-s/c;return o.getPointAt(f,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let f=0;f<c.length;f++){const d=c[f];i&&i.equals(d)||(n.push(d),i=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new LE[r.type]().fromJSON(r))}return this}}class UE extends QG{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new aP(this.currentPoint.clone(),new He(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new sP(this.currentPoint.clone(),new He(e,n),new He(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,s){const o=new rP(this.currentPoint.clone(),new He(e,n),new He(i,r),new He(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new lP(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,s){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,n+c,i,r,a,s),this}absarc(e,n,i,r,a,s){return this.absellipse(e,n,i,i,r,a,s),this}ellipse(e,n,i,r,a,s,o,c){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,n+d,i,r,a,s,o,c),this}absellipse(e,n,i,r,a,s,o,c){const f=new nA(e,n,i,r,a,s,o,c);if(this.curves.length>0){const m=f.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Up extends UE{constructor(e){super(e),this.uuid=Mo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new UE().fromJSON(r))}return this}}function Rbe(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=JG(t,0,r,n,!0);const s=[];if(!a||a.next===a.prev)return s;let o,c,f;if(i&&(a=Lbe(t,e,a,n)),t.length>80*n){o=t[0],c=t[1];let d=o,m=c;for(let v=n;v<r;v+=n){const y=t[v],_=t[v+1];y<o&&(o=y),_<c&&(c=_),y>d&&(d=y),_>m&&(m=_)}f=Math.max(d-o,m-c),f=f!==0?32767/f:0}return zx(a,s,n,o,c,f,0),s}function JG(t,e,n,i,r){let a;if(r===qbe(t,e,n,i)>0)for(let s=e;s<n;s+=i)a=W5(s/i|0,t[s],t[s+1],a);else for(let s=n-i;s>=e;s-=i)a=W5(s/i|0,t[s],t[s+1],a);return a&&mg(a,a.next)&&(jx(a),a=a.next),a}function qp(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(mg(n,n.next)||Vi(n.prev,n,n.next)===0)){if(jx(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function zx(t,e,n,i,r,a,s){if(!t)return;!s&&a&&jbe(t,i,r,a);let o=t;for(;t.prev!==t.next;){const c=t.prev,f=t.next;if(a?Dbe(t,i,r,a):Obe(t)){e.push(c.i,t.i,f.i),jx(t),t=f.next,o=f.next;continue}if(t=f,t===o){s?s===1?(t=Nbe(qp(t),e),zx(t,e,n,i,r,a,2)):s===2&&Pbe(t,e,n,i,r,a):zx(qp(t),e,n,i,r,a,1);break}}}function Obe(t){const e=t.prev,n=t,i=t.next;if(Vi(e,n,i)>=0)return!1;const r=e.x,a=n.x,s=i.x,o=e.y,c=n.y,f=i.y,d=Math.min(r,a,s),m=Math.min(o,c,f),v=Math.max(r,a,s),y=Math.max(o,c,f);let _=i.next;for(;_!==e;){if(_.x>=d&&_.x<=v&&_.y>=m&&_.y<=y&&Uy(r,o,a,c,s,f,_.x,_.y)&&Vi(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Dbe(t,e,n,i){const r=t.prev,a=t,s=t.next;if(Vi(r,a,s)>=0)return!1;const o=r.x,c=a.x,f=s.x,d=r.y,m=a.y,v=s.y,y=Math.min(o,c,f),_=Math.min(d,m,v),E=Math.max(o,c,f),S=Math.max(d,m,v),M=nO(y,_,e,n,i),C=nO(E,S,e,n,i);let T=t.prevZ,L=t.nextZ;for(;T&&T.z>=M&&L&&L.z<=C;){if(T.x>=y&&T.x<=E&&T.y>=_&&T.y<=S&&T!==r&&T!==s&&Uy(o,d,c,m,f,v,T.x,T.y)&&Vi(T.prev,T,T.next)>=0||(T=T.prevZ,L.x>=y&&L.x<=E&&L.y>=_&&L.y<=S&&L!==r&&L!==s&&Uy(o,d,c,m,f,v,L.x,L.y)&&Vi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;T&&T.z>=M;){if(T.x>=y&&T.x<=E&&T.y>=_&&T.y<=S&&T!==r&&T!==s&&Uy(o,d,c,m,f,v,T.x,T.y)&&Vi(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;L&&L.z<=C;){if(L.x>=y&&L.x<=E&&L.y>=_&&L.y<=S&&L!==r&&L!==s&&Uy(o,d,c,m,f,v,L.x,L.y)&&Vi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function Nbe(t,e){let n=t;do{const i=n.prev,r=n.next.next;!mg(i,r)&&tq(i,n,n.next,r)&&Bx(i,r)&&Bx(r,i)&&(e.push(i.i,n.i,r.i),jx(n),jx(n.next),n=t=r),n=n.next}while(n!==t);return qp(n)}function Pbe(t,e,n,i,r,a){let s=t;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&Vbe(s,o)){let c=nq(s,o);s=qp(s,s.next),c=qp(c,c.next),zx(s,e,n,i,r,a,0),zx(c,e,n,i,r,a,0);return}o=o.next}s=s.next}while(s!==t)}function Lbe(t,e,n,i){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*i,c=a<s-1?e[a+1]*i:t.length,f=JG(t,o,c,i,!1);f===f.next&&(f.steiner=!0),r.push(kbe(f))}r.sort(Ube);for(let a=0;a<r.length;a++)n=Ibe(r[a],n);return n}function Ube(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function Ibe(t,e){const n=zbe(t,e);if(!n)return e;const i=nq(n,t);return qp(i,i.next),qp(n,n.next)}function zbe(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,s;if(mg(t,n))return n;do{if(mg(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const m=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=i&&m>a&&(a=m,s=n.x<n.next.x?n:n.next,m===i))return s}n=n.next}while(n!==e);if(!s)return null;const o=s,c=s.x,f=s.y;let d=1/0;n=s;do{if(i>=n.x&&n.x>=c&&i!==n.x&&eq(r<f?i:a,r,c,f,r<f?a:i,r,n.x,n.y)){const m=Math.abs(r-n.y)/(i-n.x);Bx(n,t)&&(m<d||m===d&&(n.x>s.x||n.x===s.x&&Bbe(s,n)))&&(s=n,d=m)}n=n.next}while(n!==o);return s}function Bbe(t,e){return Vi(t.prev,t,e.prev)<0&&Vi(e.next,t,t.next)<0}function jbe(t,e,n,i){let r=t;do r.z===0&&(r.z=nO(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Fbe(r)}function Fbe(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let s=i,o=0;for(let f=0;f<n&&(o++,s=s.nextZ,!!s);f++);let c=n;for(;o>0||c>0&&s;)o!==0&&(c===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=s}a.nextZ=null,n*=2}while(e>1);return t}function nO(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function kbe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function eq(t,e,n,i,r,a,s,o){return(r-s)*(e-o)>=(t-s)*(a-o)&&(t-s)*(i-o)>=(n-s)*(e-o)&&(n-s)*(a-o)>=(r-s)*(i-o)}function Uy(t,e,n,i,r,a,s,o){return!(t===s&&e===o)&&eq(t,e,n,i,r,a,s,o)}function Vbe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Hbe(t,e)&&(Bx(t,e)&&Bx(e,t)&&Gbe(t,e)&&(Vi(t.prev,t,e.prev)||Vi(t,e.prev,e))||mg(t,e)&&Vi(t.prev,t,t.next)>0&&Vi(e.prev,e,e.next)>0)}function Vi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function mg(t,e){return t.x===e.x&&t.y===e.y}function tq(t,e,n,i){const r=fS(Vi(t,e,n)),a=fS(Vi(t,e,i)),s=fS(Vi(n,i,t)),o=fS(Vi(n,i,e));return!!(r!==a&&s!==o||r===0&&uS(t,n,e)||a===0&&uS(t,i,e)||s===0&&uS(n,t,i)||o===0&&uS(n,e,i))}function uS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function fS(t){return t>0?1:t<0?-1:0}function Hbe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&tq(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Bx(t,e){return Vi(t.prev,t,t.next)<0?Vi(t,e,t.next)>=0&&Vi(t,t.prev,e)>=0:Vi(t,e,t.prev)<0||Vi(t,t.next,e)<0}function Gbe(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function nq(t,e){const n=iO(t.i,t.x,t.y),i=iO(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function W5(t,e,n,i){const r=iO(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function jx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function iO(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qbe(t,e,n,i){let r=0;for(let a=e,s=n-i;a<n;a+=i)r+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return r}class Xbe{static triangulate(e,n,i=2){return Rbe(e,n,i)}}class Xl{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Xl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];Y5(e),K5(i,e);let s=e.length;n.forEach(Y5);for(let c=0;c<n.length;c++)r.push(s),s+=n[c].length,K5(i,n[c]);const o=Xbe.triangulate(i,r);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}}function Y5(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function K5(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class iA extends un{constructor(e=new Up([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,c=e.length;o<c;o++){const f=e[o];s(f)}this.setAttribute("position",new Rt(r,3)),this.setAttribute("uv",new Rt(a,2)),this.computeVertexNormals();function s(o){const c=[],f=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,m=n.depth!==void 0?n.depth:1;let v=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:y-.1,E=n.bevelOffset!==void 0?n.bevelOffset:0,S=n.bevelSegments!==void 0?n.bevelSegments:3;const M=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:Wbe;let T,L=!1,P,N,z,F;M&&(T=M.getSpacedPoints(d),L=!0,v=!1,P=M.computeFrenetFrames(d,!1),N=new te,z=new te,F=new te),v||(S=0,y=0,_=0,E=0);const I=o.extractPoints(f);let j=I.shape;const k=I.holes;if(!Xl.isClockWise(j)){j=j.reverse();for(let De=0,Q=k.length;De<Q;De++){const Fe=k[De];Xl.isClockWise(Fe)&&(k[De]=Fe.reverse())}}function ee(De){const Fe=10000000000000001e-36;let je=De[0];for(let at=1;at<=De.length;at++){const Ze=at%De.length,dt=De[Ze],ot=dt.x-je.x,vt=dt.y-je.y,J=ot*ot+vt*vt,G=Math.max(Math.abs(dt.x),Math.abs(dt.y),Math.abs(je.x),Math.abs(je.y)),ye=Fe*G*G;if(J<=ye){De.splice(Ze,1),at--;continue}je=dt}}ee(j),k.forEach(ee);const re=k.length,ae=j;for(let De=0;De<re;De++){const Q=k[De];j=j.concat(Q)}function H(De,Q,Fe){return Q||en("ExtrudeGeometry: vec does not exist"),De.clone().addScaledVector(Q,Fe)}const X=j.length;function K(De,Q,Fe){let je,at,Ze;const dt=De.x-Q.x,ot=De.y-Q.y,vt=Fe.x-De.x,J=Fe.y-De.y,G=dt*dt+ot*ot,ye=dt*J-ot*vt;if(Math.abs(ye)>Number.EPSILON){const Ie=Math.sqrt(G),ze=Math.sqrt(vt*vt+J*J),Oe=Q.x-ot/Ie,mt=Q.y+dt/Ie,ht=Fe.x-J/ze,Dt=Fe.y+vt/ze,wt=((ht-Oe)*J-(Dt-mt)*vt)/(dt*J-ot*vt);je=Oe+dt*wt-De.x,at=mt+ot*wt-De.y;const We=je*je+at*at;if(We<=2)return new He(je,at);Ze=Math.sqrt(We/2)}else{let Ie=!1;dt>Number.EPSILON?vt>Number.EPSILON&&(Ie=!0):dt<-Number.EPSILON?vt<-Number.EPSILON&&(Ie=!0):Math.sign(ot)===Math.sign(J)&&(Ie=!0),Ie?(je=-ot,at=dt,Ze=Math.sqrt(G)):(je=dt,at=ot,Ze=Math.sqrt(G/2))}return new He(je/Ze,at/Ze)}const ne=[];for(let De=0,Q=ae.length,Fe=Q-1,je=De+1;De<Q;De++,Fe++,je++)Fe===Q&&(Fe=0),je===Q&&(je=0),ne[De]=K(ae[De],ae[Fe],ae[je]);const q=[];let se,ge=ne.concat();for(let De=0,Q=re;De<Q;De++){const Fe=k[De];se=[];for(let je=0,at=Fe.length,Ze=at-1,dt=je+1;je<at;je++,Ze++,dt++)Ze===at&&(Ze=0),dt===at&&(dt=0),se[je]=K(Fe[je],Fe[Ze],Fe[dt]);q.push(se),ge=ge.concat(se)}let _e;if(S===0)_e=Xl.triangulateShape(ae,k);else{const De=[],Q=[];for(let Fe=0;Fe<S;Fe++){const je=Fe/S,at=y*Math.cos(je*Math.PI/2),Ze=_*Math.sin(je*Math.PI/2)+E;for(let dt=0,ot=ae.length;dt<ot;dt++){const vt=H(ae[dt],ne[dt],Ze);xe(vt.x,vt.y,-at),je===0&&De.push(vt)}for(let dt=0,ot=re;dt<ot;dt++){const vt=k[dt];se=q[dt];const J=[];for(let G=0,ye=vt.length;G<ye;G++){const Ie=H(vt[G],se[G],Ze);xe(Ie.x,Ie.y,-at),je===0&&J.push(Ie)}je===0&&Q.push(J)}}_e=Xl.triangulateShape(De,Q)}const Ae=_e.length,Qe=_+E;for(let De=0;De<X;De++){const Q=v?H(j[De],ge[De],Qe):j[De];L?(z.copy(P.normals[0]).multiplyScalar(Q.x),N.copy(P.binormals[0]).multiplyScalar(Q.y),F.copy(T[0]).add(z).add(N),xe(F.x,F.y,F.z)):xe(Q.x,Q.y,0)}for(let De=1;De<=d;De++)for(let Q=0;Q<X;Q++){const Fe=v?H(j[Q],ge[Q],Qe):j[Q];L?(z.copy(P.normals[De]).multiplyScalar(Fe.x),N.copy(P.binormals[De]).multiplyScalar(Fe.y),F.copy(T[De]).add(z).add(N),xe(F.x,F.y,F.z)):xe(Fe.x,Fe.y,m/d*De)}for(let De=S-1;De>=0;De--){const Q=De/S,Fe=y*Math.cos(Q*Math.PI/2),je=_*Math.sin(Q*Math.PI/2)+E;for(let at=0,Ze=ae.length;at<Ze;at++){const dt=H(ae[at],ne[at],je);xe(dt.x,dt.y,m+Fe)}for(let at=0,Ze=k.length;at<Ze;at++){const dt=k[at];se=q[at];for(let ot=0,vt=dt.length;ot<vt;ot++){const J=H(dt[ot],se[ot],je);L?xe(J.x,J.y+T[d-1].y,T[d-1].x+Fe):xe(J.x,J.y,m+Fe)}}}pe(),Le();function pe(){const De=r.length/3;if(v){let Q=0,Fe=X*Q;for(let je=0;je<Ae;je++){const at=_e[je];Ge(at[2]+Fe,at[1]+Fe,at[0]+Fe)}Q=d+S*2,Fe=X*Q;for(let je=0;je<Ae;je++){const at=_e[je];Ge(at[0]+Fe,at[1]+Fe,at[2]+Fe)}}else{for(let Q=0;Q<Ae;Q++){const Fe=_e[Q];Ge(Fe[2],Fe[1],Fe[0])}for(let Q=0;Q<Ae;Q++){const Fe=_e[Q];Ge(Fe[0]+X*d,Fe[1]+X*d,Fe[2]+X*d)}}i.addGroup(De,r.length/3-De,0)}function Le(){const De=r.length/3;let Q=0;Ye(ae,Q),Q+=ae.length;for(let Fe=0,je=k.length;Fe<je;Fe++){const at=k[Fe];Ye(at,Q),Q+=at.length}i.addGroup(De,r.length/3-De,1)}function Ye(De,Q){let Fe=De.length;for(;--Fe>=0;){const je=Fe;let at=Fe-1;at<0&&(at=De.length-1);for(let Ze=0,dt=d+S*2;Ze<dt;Ze++){const ot=X*Ze,vt=X*(Ze+1),J=Q+je+ot,G=Q+at+ot,ye=Q+at+vt,Ie=Q+je+vt;$e(J,G,ye,Ie)}}}function xe(De,Q,Fe){c.push(De),c.push(Q),c.push(Fe)}function Ge(De,Q,Fe){Ue(De),Ue(Q),Ue(Fe);const je=r.length/3,at=C.generateTopUV(i,r,je-3,je-2,je-1);ut(at[0]),ut(at[1]),ut(at[2])}function $e(De,Q,Fe,je){Ue(De),Ue(Q),Ue(je),Ue(Q),Ue(Fe),Ue(je);const at=r.length/3,Ze=C.generateSideWallUV(i,r,at-6,at-3,at-2,at-1);ut(Ze[0]),ut(Ze[1]),ut(Ze[3]),ut(Ze[1]),ut(Ze[2]),ut(Ze[3])}function Ue(De){r.push(c[De*3+0]),r.push(c[De*3+1]),r.push(c[De*3+2])}function ut(De){a.push(De.x),a.push(De.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return Ybe(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=n[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new LE[r.type]().fromJSON(r)),new iA(i,e.options)}}const Wbe={generateTopUV:function(t,e,n,i,r){const a=e[n*3],s=e[n*3+1],o=e[i*3],c=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new He(a,s),new He(o,c),new He(f,d)]},generateSideWallUV:function(t,e,n,i,r,a){const s=e[n*3],o=e[n*3+1],c=e[n*3+2],f=e[i*3],d=e[i*3+1],m=e[i*3+2],v=e[r*3],y=e[r*3+1],_=e[r*3+2],E=e[a*3],S=e[a*3+1],M=e[a*3+2];return Math.abs(o-d)<Math.abs(s-f)?[new He(s,1-c),new He(f,1-m),new He(v,1-_),new He(E,1-M)]:[new He(o,1-c),new He(d,1-m),new He(y,1-_),new He(S,1-M)]}};function Ybe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class rA extends $d{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rA(e.radius,e.detail)}}class aA extends un{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=$t(r,0,Math.PI*2);const a=[],s=[],o=[],c=[],f=[],d=1/n,m=new te,v=new He,y=new te,_=new te,E=new te;let S=0,M=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:S=e[C+1].x-e[C].x,M=e[C+1].y-e[C].y,y.x=M*1,y.y=-S,y.z=M*0,E.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(E.x,E.y,E.z);break;default:S=e[C+1].x-e[C].x,M=e[C+1].y-e[C].y,y.x=M*1,y.y=-S,y.z=M*0,_.copy(y),y.x+=E.x,y.y+=E.y,y.z+=E.z,y.normalize(),c.push(y.x,y.y,y.z),E.copy(_)}for(let C=0;C<=n;C++){const T=i+C*d*r,L=Math.sin(T),P=Math.cos(T);for(let N=0;N<=e.length-1;N++){m.x=e[N].x*L,m.y=e[N].y,m.z=e[N].x*P,s.push(m.x,m.y,m.z),v.x=C/n,v.y=N/(e.length-1),o.push(v.x,v.y);const z=c[3*N+0]*L,F=c[3*N+1],I=c[3*N+0]*P;f.push(z,F,I)}}for(let C=0;C<n;C++)for(let T=0;T<e.length-1;T++){const L=T+C*e.length,P=L,N=L+e.length,z=L+e.length+1,F=L+1;a.push(P,N,F),a.push(z,F,N)}this.setIndex(a),this.setAttribute("position",new Rt(s,3)),this.setAttribute("uv",new Rt(o,2)),this.setAttribute("normal",new Rt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new aA(e.points,e.segments,e.phiStart,e.phiLength)}}class Tb extends $d{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tb(e.radius,e.detail)}}class Ig extends un{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,s=n/2,o=Math.floor(i),c=Math.floor(r),f=o+1,d=c+1,m=e/o,v=n/c,y=[],_=[],E=[],S=[];for(let M=0;M<d;M++){const C=M*v-s;for(let T=0;T<f;T++){const L=T*m-a;_.push(L,-C,0),E.push(0,0,1),S.push(T/o),S.push(1-M/c)}}for(let M=0;M<c;M++)for(let C=0;C<o;C++){const T=C+f*M,L=C+f*(M+1),P=C+1+f*(M+1),N=C+1+f*M;y.push(T,L,N),y.push(L,P,N)}this.setIndex(y),this.setAttribute("position",new Rt(_,3)),this.setAttribute("normal",new Rt(E,3)),this.setAttribute("uv",new Rt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ig(e.width,e.height,e.widthSegments,e.heightSegments)}}class sA extends un{constructor(e=.5,n=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],c=[],f=[],d=[];let m=e;const v=(n-e)/r,y=new te,_=new He;for(let E=0;E<=r;E++){for(let S=0;S<=i;S++){const M=a+S/i*s;y.x=m*Math.cos(M),y.y=m*Math.sin(M),c.push(y.x,y.y,y.z),f.push(0,0,1),_.x=(y.x/n+1)/2,_.y=(y.y/n+1)/2,d.push(_.x,_.y)}m+=v}for(let E=0;E<r;E++){const S=E*(i+1);for(let M=0;M<i;M++){const C=M+S,T=C,L=C+i+1,P=C+i+2,N=C+1;o.push(T,L,N),o.push(L,P,N)}}this.setIndex(o),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(f,3)),this.setAttribute("uv",new Rt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class oA extends un{constructor(e=new Up([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],s=[];let o=0,c=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(o,c,d),o+=c,c=0;this.setIndex(i),this.setAttribute("position",new Rt(r,3)),this.setAttribute("normal",new Rt(a,3)),this.setAttribute("uv",new Rt(s,2));function f(d){const m=r.length/3,v=d.extractPoints(n);let y=v.shape;const _=v.holes;Xl.isClockWise(y)===!1&&(y=y.reverse());for(let S=0,M=_.length;S<M;S++){const C=_[S];Xl.isClockWise(C)===!0&&(_[S]=C.reverse())}const E=Xl.triangulateShape(y,_);for(let S=0,M=_.length;S<M;S++){const C=_[S];y=y.concat(C)}for(let S=0,M=y.length;S<M;S++){const C=y[S];r.push(C.x,C.y,0),a.push(0,0,1),s.push(C.x,C.y)}for(let S=0,M=E.length;S<M;S++){const C=E[S],T=C[0]+m,L=C[1]+m,P=C[2]+m;i.push(T,L,P),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Kbe(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=n[e.shapes[r]];i.push(s)}return new oA(i,e.curveSegments)}}function Kbe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class Cb extends un{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const c=Math.min(s+o,Math.PI);let f=0;const d=[],m=new te,v=new te,y=[],_=[],E=[],S=[];for(let M=0;M<=i;M++){const C=[],T=M/i;let L=0;M===0&&s===0?L=.5/n:M===i&&c===Math.PI&&(L=-.5/n);for(let P=0;P<=n;P++){const N=P/n;m.x=-e*Math.cos(r+N*a)*Math.sin(s+T*o),m.y=e*Math.cos(s+T*o),m.z=e*Math.sin(r+N*a)*Math.sin(s+T*o),_.push(m.x,m.y,m.z),v.copy(m).normalize(),E.push(v.x,v.y,v.z),S.push(N+L,1-T),C.push(f++)}d.push(C)}for(let M=0;M<i;M++)for(let C=0;C<n;C++){const T=d[M][C+1],L=d[M][C],P=d[M+1][C],N=d[M+1][C+1];(M!==0||s>0)&&y.push(T,L,N),(M!==i-1||c<Math.PI)&&y.push(L,P,N)}this.setIndex(y),this.setAttribute("position",new Rt(_,3)),this.setAttribute("normal",new Rt(E,3)),this.setAttribute("uv",new Rt(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class lA extends $d{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new lA(e.radius,e.detail)}}class cA extends un{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],c=[],f=[],d=new te,m=new te,v=new te;for(let y=0;y<=i;y++)for(let _=0;_<=r;_++){const E=_/r*a,S=y/i*Math.PI*2;m.x=(e+n*Math.cos(S))*Math.cos(E),m.y=(e+n*Math.cos(S))*Math.sin(E),m.z=n*Math.sin(S),o.push(m.x,m.y,m.z),d.x=e*Math.cos(E),d.y=e*Math.sin(E),v.subVectors(m,d).normalize(),c.push(v.x,v.y,v.z),f.push(_/r),f.push(y/i)}for(let y=1;y<=i;y++)for(let _=1;_<=r;_++){const E=(r+1)*y+_-1,S=(r+1)*(y-1)+_-1,M=(r+1)*(y-1)+_,C=(r+1)*y+_;s.push(E,S,C),s.push(S,M,C)}this.setIndex(s),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class uA extends un{constructor(e=1,n=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],f=[],d=[],m=new te,v=new te,y=new te,_=new te,E=new te,S=new te,M=new te;for(let T=0;T<=i;++T){const L=T/i*a*Math.PI*2;C(L,a,s,e,y),C(L+.01,a,s,e,_),S.subVectors(_,y),M.addVectors(_,y),E.crossVectors(S,M),M.crossVectors(E,S),E.normalize(),M.normalize();for(let P=0;P<=r;++P){const N=P/r*Math.PI*2,z=-n*Math.cos(N),F=n*Math.sin(N);m.x=y.x+(z*M.x+F*E.x),m.y=y.y+(z*M.y+F*E.y),m.z=y.z+(z*M.z+F*E.z),c.push(m.x,m.y,m.z),v.subVectors(m,y).normalize(),f.push(v.x,v.y,v.z),d.push(T/i),d.push(P/r)}}for(let T=1;T<=i;T++)for(let L=1;L<=r;L++){const P=(r+1)*(T-1)+(L-1),N=(r+1)*T+(L-1),z=(r+1)*T+L,F=(r+1)*(T-1)+L;o.push(P,N,F),o.push(N,z,F)}this.setIndex(o),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(f,3)),this.setAttribute("uv",new Rt(d,2));function C(T,L,P,N,z){const F=Math.cos(T),I=Math.sin(T),j=P/L*T,k=Math.cos(j);z.x=N*(2+k)*.5*F,z.y=N*(2+k)*I*.5,z.z=N*Math.sin(j)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fA extends un{constructor(e=new oP(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(n,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new te,c=new te,f=new He;let d=new te;const m=[],v=[],y=[],_=[];E(),this.setIndex(_),this.setAttribute("position",new Rt(m,3)),this.setAttribute("normal",new Rt(v,3)),this.setAttribute("uv",new Rt(y,2));function E(){for(let T=0;T<n;T++)S(T);S(a===!1?n:0),C(),M()}function S(T){d=e.getPointAt(T/n,d);const L=s.normals[T],P=s.binormals[T];for(let N=0;N<=r;N++){const z=N/r*Math.PI*2,F=Math.sin(z),I=-Math.cos(z);c.x=I*L.x+F*P.x,c.y=I*L.y+F*P.y,c.z=I*L.z+F*P.z,c.normalize(),v.push(c.x,c.y,c.z),o.x=d.x+i*c.x,o.y=d.y+i*c.y,o.z=d.z+i*c.z,m.push(o.x,o.y,o.z)}}function M(){for(let T=1;T<=n;T++)for(let L=1;L<=r;L++){const P=(r+1)*(T-1)+(L-1),N=(r+1)*T+(L-1),z=(r+1)*T+L,F=(r+1)*(T-1)+L;_.push(P,N,F),_.push(N,z,F)}}function C(){for(let T=0;T<=n;T++)for(let L=0;L<=r;L++)f.x=T/n,f.y=L/r,y.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fA(new LE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class iq extends un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new te,a=new te;if(e.index!==null){const s=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let f=0,d=c.length;f<d;++f){const m=c[f],v=m.start,y=m.count;for(let _=v,E=v+y;_<E;_+=3)for(let S=0;S<3;S++){const M=o.getX(_+S),C=o.getX(_+(S+1)%3);r.fromBufferAttribute(s,M),a.fromBufferAttribute(s,C),$5(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let f=0;f<3;f++){const d=3*o+f,m=3*o+(f+1)%3;r.fromBufferAttribute(s,d),a.fromBufferAttribute(s,m),$5(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $5(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var Z5=Object.freeze({__proto__:null,BoxGeometry:Qp,CapsuleGeometry:Jw,CircleGeometry:eA,ConeGeometry:Ab,CylinderGeometry:wb,DodecahedronGeometry:tA,EdgesGeometry:WG,ExtrudeGeometry:iA,IcosahedronGeometry:rA,LatheGeometry:aA,OctahedronGeometry:Tb,PlaneGeometry:Ig,PolyhedronGeometry:$d,RingGeometry:sA,ShapeGeometry:oA,SphereGeometry:Cb,TetrahedronGeometry:lA,TorusGeometry:cA,TorusKnotGeometry:uA,TubeGeometry:fA,WireframeGeometry:iq});class rq extends ja{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Mt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class aq extends rl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Fx extends ja{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Mt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sq extends Fx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $t(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class oq extends ja{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Mt(16777215),this.specular=new Mt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Sb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lq extends ja{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Mt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cq extends ja{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uq extends ja{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Mt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qs,this.combine=Sb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cP extends ja{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=bG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class uP extends ja{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class fq extends ja{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dq extends gs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ep(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function hq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pq(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function rO(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,s=0;s!==i;++a){const o=n[a]*e;for(let c=0;c!==e;++c)r[s++]=t[o+c]}return r}function fP(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),n.push(...s)),a=t[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),n.push(s)),a=t[r++];while(a!==void 0)}function $be(t,e,n,i,r=30){const a=t.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const f=a.tracks[c],d=f.getValueSize(),m=[],v=[];for(let y=0;y<f.times.length;++y){const _=f.times[y]*r;if(!(_<n||_>=i)){m.push(f.times[y]);for(let E=0;E<d;++E)v.push(f.values[y*d+E])}}m.length!==0&&(f.times=Ep(m,f.times.constructor),f.values=Ep(v,f.values.constructor),s.push(f))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a}function Zbe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=n.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const f=t.tracks.find(function(M){return M.name===o.name&&M.ValueTypeName===c});if(f===void 0)continue;let d=0;const m=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);let v=0;const y=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const _=o.times.length-1;let E;if(a<=o.times[0]){const M=d,C=m-d;E=o.values.slice(M,C)}else if(a>=o.times[_]){const M=_*m+d,C=M+m-d;E=o.values.slice(M,C)}else{const M=o.createInterpolant(),C=d,T=m-d;M.evaluate(a),E=M.resultBuffer.slice(C,T)}c==="quaternion"&&new za().fromArray(E).normalize().conjugate().toArray(E);const S=f.times.length;for(let M=0;M<S;++M){const C=M*y+v;if(c==="quaternion")za.multiplyQuaternionsFlat(f.values,C,E,0,f.values,C);else{const T=y-v*2;for(let L=0;L<T;++L)f.values[C+L]-=E[L]}}}return t.blendMode=qN,t}class Qbe{static convertArray(e,n){return Ep(e,n)}static isTypedArray(e){return hq(e)}static getKeyframeOrder(e){return pq(e)}static sortedArray(e,n,i){return rO(e,n,i)}static flattenJSON(e,n,i,r){fP(e,n,i,r)}static subclip(e,n,i,r,a=30){return $be(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return Zbe(e,n,i,r)}}class Rb{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=a)){const o=n[1];e<o&&(i=2,a=o);for(let c=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=a,a=n[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<n[o]?s=o:i=o+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)n[s]=i[a+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mq extends Rb{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sp,endingEnd:Sp}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],c=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case Mp:a=e,o=2*n-i;break;case Nx:a=r.length-2,o=n+r[a]-r[a+1];break;default:a=e,o=i}if(c===void 0)switch(this.getSettings_().endingEnd){case Mp:s=e,c=2*i-n;break;case Nx:s=1,c=i+r[1]-r[0];break;default:s=e-1,c=n}const f=(i-n)*.5,d=this.valueSize;this._weightPrev=f/(n-o),this._weightNext=f/(c-i),this._offsetPrev=a*d,this._offsetNext=s*d}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,f=c-o,d=this._offsetPrev,m=this._offsetNext,v=this._weightPrev,y=this._weightNext,_=(i-n)/(r-n),E=_*_,S=E*_,M=-v*S+2*v*E-v*_,C=(1+v)*S+(-1.5-2*v)*E+(-.5+v)*_+1,T=(-1-y)*S+(1.5+y)*E+.5*_,L=y*S-y*E;for(let P=0;P!==o;++P)a[P]=M*s[d+P]+C*s[f+P]+T*s[c+P]+L*s[m+P];return a}}class dP extends Rb{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,f=c-o,d=(i-n)/(r-n),m=1-d;for(let v=0;v!==o;++v)a[v]=s[f+v]*m+s[c+v]*d;return a}}class gq extends Rb{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ol{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ep(n,this.TimeBufferType),this.values=Ep(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Ep(e.times,Array),values:Ep(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new dP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Dx:n=this.InterpolantFactoryMethodDiscrete;break;case DE:n=this.InterpolantFactoryMethodLinear;break;case HS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return bt("KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Dx;case this.InterpolantFactoryMethodLinear:return DE;case this.InterpolantFactoryMethodSmooth:return HS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>n;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(en("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(en("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const c=i[o];if(typeof c=="number"&&isNaN(c)){en("KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){en("KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(r!==void 0&&hq(r))for(let o=0,c=r.length;o!==c;++o){const f=r[o];if(isNaN(f)){en("KeyframeTrack: Value is not a valid number.",this,o,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===HS,a=e.length-1;let s=1;for(let o=1;o<a;++o){let c=!1;const f=e[o],d=e[o+1];if(f!==d&&(o!==1||f!==e[0]))if(r)c=!0;else{const m=o*i,v=m-i,y=m+i;for(let _=0;_!==i;++_){const E=n[m+_];if(E!==n[v+_]||E!==n[y+_]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];const m=o*i,v=s*i;for(let y=0;y!==i;++y)n[v+y]=n[m+y]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,c=s*i,f=0;f!==i;++f)n[c+f]=n[o+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}ol.prototype.ValueTypeName="";ol.prototype.TimeBufferType=Float32Array;ol.prototype.ValueBufferType=Float32Array;ol.prototype.DefaultInterpolation=DE;class Jp extends ol{constructor(e,n,i){super(e,n,i)}}Jp.prototype.ValueTypeName="bool";Jp.prototype.ValueBufferType=Array;Jp.prototype.DefaultInterpolation=Dx;Jp.prototype.InterpolantFactoryMethodLinear=void 0;Jp.prototype.InterpolantFactoryMethodSmooth=void 0;class hP extends ol{constructor(e,n,i,r){super(e,n,i,r)}}hP.prototype.ValueTypeName="color";class kx extends ol{constructor(e,n,i,r){super(e,n,i,r)}}kx.prototype.ValueTypeName="number";class vq extends Rb{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(i-n)/(r-n);let f=e*o;for(let d=f+o;f!==d;f+=4)za.slerpFlat(a,0,s,f-o,s,f,c);return a}}class Ob extends ol{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new vq(this.times,this.values,this.getValueSize(),e)}}Ob.prototype.ValueTypeName="quaternion";Ob.prototype.InterpolantFactoryMethodSmooth=void 0;class em extends ol{constructor(e,n,i){super(e,n,i)}}em.prototype.ValueTypeName="string";em.prototype.ValueBufferType=Array;em.prototype.DefaultInterpolation=Dx;em.prototype.InterpolantFactoryMethodLinear=void 0;em.prototype.InterpolantFactoryMethodSmooth=void 0;class Vx extends ol{constructor(e,n,i,r){super(e,n,i,r)}}Vx.prototype.ValueTypeName="vector";class Hx{constructor(e="",n=-1,i=[],r=Hw){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Mo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)n.push(e1e(i[s]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)n.push(ol.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,s=[];for(let o=0;o<a;o++){let c=[],f=[];c.push((o+a-1)%a,o,(o+1)%a),f.push(0,1,0);const d=pq(c);c=rO(c,1,d),f=rO(f,1,d),!r&&c[0]===0&&(c.push(a),f.push(f[0])),s.push(new kx(".morphTargetInfluences["+n[o].name+"]",c,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const f=e[o],d=f.name.match(a);if(d&&d.length>1){const m=d[1];let v=r[m];v||(r[m]=v=[]),v.push(f)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return s}static parseAnimation(e,n){if(bt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return en("AnimationClip: No animation in JSONLoader data."),null;const i=function(m,v,y,_,E){if(y.length!==0){const S=[],M=[];fP(y,S,M,_),S.length!==0&&E.push(new m(v,S,M))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let c=e.length||-1;const f=e.hierarchy||[];for(let m=0;m<f.length;m++){const v=f[m].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let _;for(_=0;_<v.length;_++)if(v[_].morphTargets)for(let E=0;E<v[_].morphTargets.length;E++)y[v[_].morphTargets[E]]=-1;for(const E in y){const S=[],M=[];for(let C=0;C!==v[_].morphTargets.length;++C){const T=v[_];S.push(T.time),M.push(T.morphTarget===E?1:0)}r.push(new kx(".morphTargetInfluence["+E+"]",S,M))}c=y.length*s}else{const y=".bones["+n[m].name+"]";i(Vx,y+".position",v,"pos",r),i(Ob,y+".quaternion",v,"rot",r),i(Vx,y+".scale",v,"scl",r)}}return r.length===0?null:new this(a,c,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Jbe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return kx;case"vector":case"vector2":case"vector3":case"vector4":return Vx;case"color":return hP;case"quaternion":return Ob;case"bool":case"boolean":return Jp;case"string":return em}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function e1e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Jbe(t.type);if(t.times===void 0){const n=[],i=[];fP(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const jc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class pP{constructor(e,n,i){const r=this;let a=!1,s=0,o=0,c;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this._abortController=null,this.itemStart=function(d){o++,a===!1&&r.onStart!==void 0&&r.onStart(d,s,o),a=!0},this.itemEnd=function(d){s++,r.onProgress!==void 0&&r.onProgress(d,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,m){return f.push(d,m),this},this.removeHandler=function(d){const m=f.indexOf(d);return m!==-1&&f.splice(m,2),this},this.getHandler=function(d){for(let m=0,v=f.length;m<v;m+=2){const y=f[m],_=f[m+1];if(y.global&&(y.lastIndex=0),y.test(d))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const yq=new pP;class Ks{constructor(e){this.manager=e!==void 0?e:yq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ks.DEFAULT_MATERIAL_NAME="__DEFAULT";const Pu={};class t1e extends Error{constructor(e,n){super(e),this.response=n}}class lf extends Ks{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=jc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Pu[e]!==void 0){Pu[e].push({onLoad:n,onProgress:i,onError:r});return}Pu[e]=[],Pu[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,c=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&bt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=Pu[e],m=f.body.getReader(),v=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),y=v?parseInt(v):0,_=y!==0;let E=0;const S=new ReadableStream({start(M){C();function C(){m.read().then(({done:T,value:L})=>{if(T)M.close();else{E+=L.byteLength;const P=new ProgressEvent("progress",{lengthComputable:_,loaded:E,total:y});for(let N=0,z=d.length;N<z;N++){const F=d[N];F.onProgress&&F.onProgress(P)}M.enqueue(L),C()}},T=>{M.error(T)})}}});return new Response(S)}else throw new t1e(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(c){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return f.json();default:if(o==="")return f.text();{const m=/charset="?([^;"\s]*)"?/i.exec(o),v=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(v);return f.arrayBuffer().then(_=>y.decode(_))}}}).then(f=>{jc.add(`file:${e}`,f);const d=Pu[e];delete Pu[e];for(let m=0,v=d.length;m<v;m++){const y=d[m];y.onLoad&&y.onLoad(f)}}).catch(f=>{const d=Pu[e];if(d===void 0)throw this.manager.itemError(e),f;delete Pu[e];for(let m=0,v=d.length;m<v;m++){const y=d[m];y.onError&&y.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class n1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new lf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(c){r?r(c):en(c),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Hx.parse(e[i]);n.push(r)}return n}}class i1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=[],o=new Qw,c=new lf(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let f=0;function d(m){c.load(e[m],function(v){const y=a.parse(v,!0);s[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},f+=1,f===6&&(y.mipmapCount===1&&(o.minFilter=dr),o.image=s,o.format=y.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let m=0,v=e.length;m<v;++m)d(m);else c.load(e,function(m){const v=a.parse(m,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let _=0;_<y;_++){s[_]={mipmaps:[]};for(let E=0;E<v.mipmapCount;E++)s[_].mipmaps.push(v.mipmaps[_*v.mipmapCount+E]),s[_].format=v.format,s[_].width=v.width,s[_].height=v.height}o.image=s}else o.image.width=v.width,o.image.height=v.height,o.mipmaps=v.mipmaps;v.mipmapCount===1&&(o.minFilter=dr),o.format=v.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}const A0=new WeakMap;class Gx extends Ks{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=jc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0);else{let m=A0.get(s);m===void 0&&(m=[],A0.set(s,m)),m.push({onLoad:n,onError:r})}return s}const o=Ux("img");function c(){d(),n&&n(this);const m=A0.get(this)||[];for(let v=0;v<m.length;v++){const y=m[v];y.onLoad&&y.onLoad(this)}A0.delete(this),a.manager.itemEnd(e)}function f(m){d(),r&&r(m),jc.remove(`image:${e}`);const v=A0.get(this)||[];for(let y=0;y<v.length;y++){const _=v[y];_.onError&&_.onError(m)}A0.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){o.removeEventListener("load",c,!1),o.removeEventListener("error",f,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),jc.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class r1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=new Eb;a.colorSpace=Na;const s=new Gx(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(f){s.load(e[f],function(d){a.images[f]=d,o++,o===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let f=0;f<e.length;++f)c(f);return a}}class a1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new Wl,o=new lf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let f;try{f=a.parse(c)}catch(d){if(r!==void 0)r(d);else{d(d);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:ks,s.wrapT=f.wrapT!==void 0?f.wrapT:ks,s.magFilter=f.magFilter!==void 0?f.magFilter:dr,s.minFilter=f.minFilter!==void 0?f.minFilter:dr,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=Bc),f.mipmapCount===1&&(s.minFilter=dr),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,n&&n(s,f)},i,r),s}}class s1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=new er,s=new Gx(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Zd extends Bn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Mt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class xq extends Zd{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Mt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const q3=new Jt,Q5=new te,J5=new te;class mP{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.mapType=il,this.map=null,this.mapPass=null,this.matrix=new Jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ug,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new zn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Q5.setFromMatrixPosition(e.matrixWorld),n.position.copy(Q5),J5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(J5),n.updateMatrixWorld(),q3.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(q3,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(q3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class o1e extends mP{constructor(){super(new Fi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=fg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bq extends Zd{constructor(e,n,i=0,r=Math.PI/3,a=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new o1e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ej=new Jt,Ey=new te,X3=new te;class l1e extends mP{constructor(){super(new Fi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new zn(2,1,1,1),new zn(0,1,1,1),new zn(3,1,1,1),new zn(1,1,1,1),new zn(3,0,1,1),new zn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Ey.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ey),X3.copy(i.position),X3.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(X3),i.updateMatrixWorld(),r.makeTranslation(-Ey.x,-Ey.y,-Ey.z),ej.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ej,i.coordinateSystem,i.reversedDepth)}}class _q extends Zd{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new l1e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Xc extends Xw{constructor(e=-1,n=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+n,c=r-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,o-=d*this.view.offsetY,c=o-d*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class c1e extends mP{constructor(){super(new Xc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Sq extends Zd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.shadow=new c1e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Mq extends Zd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Eq extends Zd{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class wq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*a),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*a)),n.addScaledVector(s[6],.315392*(3*a*a-1)),n.addScaledVector(s[7],1.092548*(i*a)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*a),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*a),n.addScaledVector(s[6],.743125*a*a-.247708),n.addScaledVector(s[7],2*.429043*i*a),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class Aq extends Zd{constructor(e=new wq,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class dA extends Ks{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,s=new lf(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(c){r?r(c):en(c),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&bt("MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Mt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new Mt().setHex(s.value);break;case"v2":r.uniforms[a].value=new He().fromArray(s.value);break;case"v3":r.uniforms[a].value=new te().fromArray(s.value);break;case"v4":r.uniforms[a].value=new zn().fromArray(s.value);break;case"m3":r.uniforms[a].value=new cn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new Jt().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new He().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return dA.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:rq,SpriteMaterial:QN,RawShaderMaterial:aq,ShaderMaterial:rl,PointsMaterial:eP,MeshPhysicalMaterial:sq,MeshStandardMaterial:Fx,MeshPhongMaterial:oq,MeshToonMaterial:lq,MeshNormalMaterial:cq,MeshLambertMaterial:uq,MeshDepthMaterial:cP,MeshDistanceMaterial:uP,MeshBasicMaterial:Kd,MeshMatcapMaterial:fq,LineDashedMaterial:dq,LineBasicMaterial:gs,Material:ja};return new n[e]}}class aO{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Tq extends un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Cq extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new lf(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{n(a.parse(JSON.parse(o)))}catch(c){r?r(c):en(c),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(y,_){if(n[_]!==void 0)return n[_];const S=y.interleavedBuffers[_],M=a(y,S.buffer),C=H0(S.type,M),T=new Kw(C,S.stride);return T.uuid=S.uuid,n[_]=T,T}function a(y,_){if(i[_]!==void 0)return i[_];const S=y.arrayBuffers[_],M=new Uint32Array(S).buffer;return i[_]=M,M}const s=e.isInstancedBufferGeometry?new Tq:new un,o=e.data.index;if(o!==void 0){const y=H0(o.type,o.array);s.setIndex(new ui(y,1))}const c=e.data.attributes;for(const y in c){const _=c[y];let E;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);E=new Gp(S,_.itemSize,_.offset,_.normalized)}else{const S=H0(_.type,_.array),M=_.isInstancedBufferAttribute?pg:ui;E=new M(S,_.itemSize,_.normalized)}_.name!==void 0&&(E.name=_.name),_.usage!==void 0&&E.setUsage(_.usage),s.setAttribute(y,E)}const f=e.data.morphAttributes;if(f)for(const y in f){const _=f[y],E=[];for(let S=0,M=_.length;S<M;S++){const C=_[S];let T;if(C.isInterleavedBufferAttribute){const L=r(e.data,C.data);T=new Gp(L,C.itemSize,C.offset,C.normalized)}else{const L=H0(C.type,C.array);T=new ui(L,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),E.push(T)}s.morphAttributes[y]=E}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,_=m.length;y!==_;++y){const E=m[y];s.addGroup(E.start,E.count,E.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(s.boundingSphere=new ga().fromJSON(v)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class u1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=this.path===""?aO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new lf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let f=null;try{f=JSON.parse(c)}catch(m){r!==void 0&&r(m),m("ObjectLoader: Can't parse "+e+".",m.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),en("ObjectLoader: Can't load "+e);return}a.parse(f,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?aO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new lf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,n),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(f)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,a,c,o,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),this.bindLightTargets(f),n!==void 0){let m=!1;for(const v in s)if(s[v].data instanceof HTMLImageElement){m=!0;break}m===!1&&n(f)}return f}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,o,s,n),f=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,f),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Up().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new $w().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new Cq;for(let a=0,s=e.length;a<s;a++){let o;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in Z5?o=Z5[c.type].fromJSON(c,n):bt(`ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),i[c.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new dA;a.setTextures(n);for(let s=0,o=e.length;s<o;s++){const c=e[s];i[c.uuid]===void 0&&(i[c.uuid]=a.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Hx.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function s(c){return i.manager.itemStart(c),a.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const f=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(d)}else return c.data?{data:H0(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new pP(n);a=new Gx(c),a.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const m=e[f],v=m.url;if(Array.isArray(v)){const y=[];for(let _=0,E=v.length;_<E;_++){const S=v[_],M=o(S);M!==null&&(M instanceof HTMLImageElement?y.push(M):y.push(new Wl(M.data,M.width,M.height)))}r[m.uuid]=new Od(y)}else{const y=o(m.url);r[m.uuid]=new Od(y)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(c)}else return s.data?{data:H0(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new Gx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const c=e[s],f=c.url;if(Array.isArray(f)){const d=[];for(let m=0,v=f.length;m<v;m++){const y=f[m],_=await a(y);_!==null&&(_ instanceof HTMLImageElement?d.push(_):d.push(new Wl(_.data,_.width,_.height)))}i[c.uuid]=new Od(d)}else{const d=await a(c.url);i[c.uuid]=new Od(d)}}}return i}parseTextures(e,n){function i(a,s){return typeof a=="number"?a:(bt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&bt('ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&bt("ObjectLoader: Undefined image",o.image);const c=n[o.image],f=c.data;let d;Array.isArray(f)?(d=new Eb,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new Wl:d=new er,f&&(d.needsUpdate=!0)),d.source=c,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,f1e)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],tj),d.wrapT=i(o.wrap[1],tj)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,nj)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,nj)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,n,i,r,a){let s;function o(v){return n[v]===void 0&&bt("ObjectLoader: Undefined geometry",v),n[v]}function c(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let _=0,E=v.length;_<E;_++){const S=v[_];i[S]===void 0&&bt("ObjectLoader: Undefined material",S),y.push(i[S])}return y}return i[v]===void 0&&bt("ObjectLoader: Undefined material",v),i[v]}}function f(v){return r[v]===void 0&&bt("ObjectLoader: Undefined texture",v),r[v]}let d,m;switch(e.type){case"Scene":s=new ZN,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Mt(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Yw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Ww(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Fi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Xc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Mq(e.color,e.intensity);break;case"DirectionalLight":s=new Sq(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new _q(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Eq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new bq(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new xq(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Aq().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),m=c(e.material),s=new kG(d,m),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),m=c(e.material),s=new Ir(d,m);break;case"InstancedMesh":d=o(e.geometry),m=c(e.material);const v=e.count,y=e.instanceMatrix,_=e.instanceColor;s=new VG(d,m,v),s.instanceMatrix=new pg(new Float32Array(y.array),16),_!==void 0&&(s.instanceColor=new pg(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":d=o(e.geometry),m=c(e.material),s=new HG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),s.geometry=d,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(E=>{let S=null,M=null;return E.boundingBox!==void 0&&(S=new Ba().fromJSON(E.boundingBox)),E.boundingSphere!==void 0&&(M=new ga().fromJSON(E.boundingSphere)),{...E,boundingBox:S,boundingSphere:M}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new ga().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new Ba().fromJSON(e.boundingBox));break;case"LOD":s=new FG;break;case"Line":s=new Fd(o(e.geometry),c(e.material));break;case"LineLoop":s=new GG(o(e.geometry),c(e.material));break;case"LineSegments":s=new iu(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new qG(o(e.geometry),c(e.material));break;case"Sprite":s=new jG(c(e.material));break;case"Group":s=new G0;break;case"Bone":s=new JN;break;default:s=new Bn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)s.add(this.parseObject(v[y],n,i,r,a))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const _=v[y];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const _=v[y],E=s.getObjectByProperty("uuid",_.object);E!==void 0&&s.addLevel(E,_.distance,_.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?bt("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new Bn}})}}const f1e={UVMapping:Uw,CubeReflectionMapping:sf,CubeRefractionMapping:zd,EquirectangularReflectionMapping:Tx,EquirectangularRefractionMapping:Cx,CubeUVReflectionMapping:Lg},tj={RepeatWrapping:Rx,ClampToEdgeWrapping:ks,MirroredRepeatWrapping:Ox},nj={NearestFilter:ma,NearestMipmapNearestFilter:BN,NearestMipmapLinearFilter:V0,LinearFilter:dr,LinearMipmapNearestFilter:Ky,LinearMipmapLinearFilter:Bc},W3=new WeakMap;class d1e extends Ks{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&bt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&bt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=jc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(W3.has(s)===!0)r&&r(W3.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){n&&n(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,o).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return jc.add(`image-bitmap:${e}`,f),n&&n(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),W3.set(c,f),jc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});jc.add(`image-bitmap:${e}`,c),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let dS;class gP{static getContext(){return dS===void 0&&(dS=new(window.AudioContext||window.webkitAudioContext)),dS}static setContext(e){dS=e}}class h1e extends Ks{constructor(e){super(e)}load(e,n,i,r){const a=this,s=new lf(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const f=c.slice(0);gP.getContext().decodeAudioData(f,function(m){n(m)}).catch(o)}catch(f){o(f)}},i,r);function o(c){r?r(c):en(c),a.manager.itemError(e)}}}const ij=new Jt,rj=new Jt,Zh=new Jt;class p1e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Fi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Fi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Zh.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,s=n.near*Math.tan(Lp*n.fov*.5)/n.zoom;let o,c;rj.elements[12]=-r,ij.elements[12]=r,o=-s*n.aspect+a,c=s*n.aspect+a,Zh.elements[0]=2*n.near/(c-o),Zh.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy(Zh),o=-s*n.aspect-a,c=s*n.aspect-a,Zh.elements[0]=2*n.near/(c-o),Zh.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy(Zh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(rj),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ij)}}class Rq extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class vP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Qh=new te,Y3=new za,m1e=new te,Jh=new te,ep=new te;class g1e extends Bn{constructor(){super(),this.type="AudioListener",this.context=gP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Qh,Y3,m1e),Jh.set(0,0,-1).applyQuaternion(Y3),ep.set(0,1,0).applyQuaternion(Y3),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Qh.x,i),n.positionY.linearRampToValueAtTime(Qh.y,i),n.positionZ.linearRampToValueAtTime(Qh.z,i),n.forwardX.linearRampToValueAtTime(Jh.x,i),n.forwardY.linearRampToValueAtTime(Jh.y,i),n.forwardZ.linearRampToValueAtTime(Jh.z,i),n.upX.linearRampToValueAtTime(ep.x,i),n.upY.linearRampToValueAtTime(ep.y,i),n.upZ.linearRampToValueAtTime(ep.z,i)}else n.setPosition(Qh.x,Qh.y,Qh.z),n.setOrientation(Jh.x,Jh.y,Jh.z,ep.x,ep.y,ep.z)}}class Oq extends Bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){bt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){bt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){bt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){bt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){bt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(bt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){bt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(bt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const tp=new te,aj=new za,v1e=new te,np=new te;class y1e extends Oq{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(tp,aj,v1e),np.set(0,0,1).applyQuaternion(aj);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(tp.x,i),n.positionY.linearRampToValueAtTime(tp.y,i),n.positionZ.linearRampToValueAtTime(tp.z,i),n.orientationX.linearRampToValueAtTime(np.x,i),n.orientationY.linearRampToValueAtTime(np.y,i),n.orientationZ.linearRampToValueAtTime(np.z,i)}else n.setPosition(tp.x,tp.y,tp.z),n.setOrientation(np.x,np.y,np.z)}}class x1e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class Dq{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,s;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=n}else{s+=n;const o=n/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=n*this._origIndex;this._mixBufferRegion(i,r,c,1-a,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let c=n,f=n+n;c!==f;++c)if(i[c]!==i[c+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,s=r;a!==s;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){za.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const s=this._workIndex*a;za.multiplyQuaternionsFlat(e,s,e,n,e,i),za.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const c=n+o;e[c]=e[c]*s+e[i+o]*r}}_lerpAdditive(e,n,i,r,a){for(let s=0;s!==a;++s){const o=n+s;e[o]=e[o]+e[i+s]*r}}}const yP="\\[\\]\\.:\\/",b1e=new RegExp("["+yP+"]","g"),xP="[^"+yP+"]",_1e="[^"+yP.replace("\\.","")+"]",S1e=/((?:WC+[\/:])*)/.source.replace("WC",xP),M1e=/(WCOD+)?/.source.replace("WCOD",_1e),E1e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xP),w1e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xP),A1e=new RegExp("^"+S1e+M1e+E1e+w1e+"$"),T1e=["material","materials","bones","map"];class C1e{constructor(e,n,i){const r=i||In.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class In{constructor(e,n,i){this.path=n,this.parsedPath=i||In.parseTrackName(n),this.node=In.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new In.Composite(e,n,i):new In(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(b1e,"")}static parseTrackName(e){const n=A1e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);T1e.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===n||o.uuid===n)return o;const c=i(o.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=In.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){bt("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=n.objectIndex;switch(i){case"materials":if(!e.material){en("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){en("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){en("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){en("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){en("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){en("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){en("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=n.nodeName;en("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){en("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){en("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}In.Composite=C1e;In.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};In.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};In.prototype.GetterByBindingType=[In.prototype._getValue_direct,In.prototype._getValue_array,In.prototype._getValue_arrayElement,In.prototype._getValue_toArray];In.prototype.SetterByBindingTypeAndVersioning=[[In.prototype._setValue_direct,In.prototype._setValue_direct_setNeedsUpdate,In.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[In.prototype._setValue_array,In.prototype._setValue_array_setNeedsUpdate,In.prototype._setValue_array_setMatrixWorldNeedsUpdate],[In.prototype._setValue_arrayElement,In.prototype._setValue_arrayElement_setNeedsUpdate,In.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[In.prototype._setValue_fromArray,In.prototype._setValue_fromArray_setNeedsUpdate,In.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class R1e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Mo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,c=e.length,f=this.nCachedObjects_;for(let d=0,m=arguments.length;d!==m;++d){const v=arguments[d],y=v.uuid;let _=n[y];if(_===void 0){_=c++,n[y]=_,e.push(v);for(let E=0,S=s;E!==S;++E)a[E].push(new In(v,i[E],r[E]))}else if(_<f){o=e[_];const E=--f,S=e[E];n[S.uuid]=_,e[_]=S,n[y]=E,e[E]=v;for(let M=0,C=s;M!==C;++M){const T=a[M],L=T[E];let P=T[_];T[_]=L,P===void 0&&(P=new In(v,i[M],r[M])),T[E]=P}}else e[_]!==o&&en("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const c=arguments[s],f=c.uuid,d=n[f];if(d!==void 0&&d>=a){const m=a++,v=e[m];n[v.uuid]=d,e[d]=v,n[f]=m,e[m]=c;for(let y=0,_=r;y!==_;++y){const E=i[y],S=E[m],M=E[d];E[d]=S,E[m]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],d=f.uuid,m=n[d];if(m!==void 0)if(delete n[d],m<a){const v=--a,y=e[v],_=--s,E=e[_];n[y.uuid]=m,e[m]=y,n[E.uuid]=v,e[v]=E,e.pop();for(let S=0,M=r;S!==M;++S){const C=i[S],T=C[v],L=C[_];C[m]=T,C[v]=L,C.pop()}}else{const v=--s,y=e[v];v>0&&(n[y.uuid]=m),e[m]=y,e.pop();for(let _=0,E=r;_!==E;++_){const S=i[_];S[m]=S[v],S.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,c=this._objects,f=c.length,d=this.nCachedObjects_,m=new Array(f);r=a.length,i[e]=r,s.push(e),o.push(n),a.push(m);for(let v=d,y=c.length;v!==y;++v){const _=c[v];m[v]=new In(_,e,n)}return m}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],f=e[o];n[f]=i,s[i]=c,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class Nq{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,s=a.length,o=new Array(s),c={endingStart:Sp,endingEnd:Sp};for(let f=0;f!==s;++f){const d=a[f].createInterpolant(null);o[f]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=yG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=a,c[1]=a+i,f[0]=e/s,f[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*i;c<0||i===0?n=0:(this._startTime=null,n=i*c)}n*=this._updateTimeScale(e);const s=this._updateTime(n),o=this._updateWeight(e);if(o>0){const c=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case qN:for(let d=0,m=c.length;d!==m;++d)c[d].evaluate(s),f[d].accumulateAdditive(o);break;case Hw:default:for(let d=0,m=c.length;d!==m;++d)c[d].evaluate(s),f[d].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===xG;if(e===0)return a===-1?r:s&&(a&1)===1?n-r:r;if(i===vG){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,a+=Math.abs(o);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Mp,r.endingEnd=Mp):(e?r.endingStart=this.zeroSlopeAtStart?Mp:Sp:r.endingStart=Nx,n?r.endingEnd=this.zeroSlopeAtEnd?Mp:Sp:r.endingEnd=Nx)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=n,o[1]=a+e,c[1]=i,this}}const O1e=new Float32Array(1);class D1e extends nu{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,c=i.uuid,f=this._bindingsByRootAndName;let d=f[c];d===void 0&&(d={},f[c]=d);for(let m=0;m!==a;++m){const v=r[m],y=v.name;let _=d[y];if(_!==void 0)++_.referenceCount,s[m]=_;else{if(_=s[m],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,y));continue}const E=n&&n._propertyBindings[m].binding.parsedPath;_=new Dq(In.create(i,y,E),v.ValueTypeName,v.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,y),s[m]=_}o[m].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let s=a[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,f=c[c.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,c[d]=f,c.pop(),e._byClipCacheIndex=null;const m=o.actionByRoot,v=(e._localRoot||this._root).uuid;delete m[v],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],c=n[n.length-1],f=e._cacheIndex;c._cacheIndex=f,n[f]=c,n.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new dP(new Float32Array(2),new Float32Array(2),1,O1e),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let s=typeof e=="string"?Hx.findByName(r,e):e;const o=s!==null?s.uuid:e,c=this._actionsByClip[o];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=Hw),c!==void 0){const m=c.actionByRoot[a];if(m!==void 0&&m.blendMode===i)return m;f=c.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const d=new Nq(this,s,n,i);return this._bindAction(d,f),this._addInactiveAction(d,o,a),d}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?Hx.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)n[f]._update(r,e,a,s);const o=this._bindings,c=this._nActiveBindings;for(let f=0;f!==c;++f)o[f].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){const f=s[o];this._deactivateAction(f);const d=f._cacheIndex,m=n[n.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,m._cacheIndex=d,n[d]=m,n.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,c=o[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class N1e extends YN{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new qw(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class bP{constructor(e){this.value=e}clone(){return new bP(this.value.clone===void 0?this.value:this.value.clone())}}let P1e=0;class L1e extends nu{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:P1e++}),this.name="",this.usage=Lx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class U1e extends Kw{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class I1e{constructor(e,n,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const sj=new Jt;class Pq{constructor(e,n,i=0,r=1/0){this.ray=new Zp(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new dg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):en("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return sj.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(sj),this}intersectObject(e,n=!0,i=[]){return sO(e,this,i,n),i.sort(oj),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)sO(e[r],this,i,n);return i.sort(oj),i}}function oj(t,e){return t.distance-e.distance}function sO(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let s=0,o=a.length;s<o;s++)sO(a[s],e,n,!0)}}class z1e{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=B1e.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function B1e(){this._document.hidden===!1&&this.reset()}class oO{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=$t(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos($t(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class j1e{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class _P{constructor(e,n,i,r){_P.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const lj=new He;class F1e{constructor(e=new He(1/0,1/0),n=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=lj.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,lj).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const cj=new te,hS=new te,T0=new te,C0=new te,K3=new te,k1e=new te,V1e=new te;class H1e{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){cj.subVectors(e,this.start),hS.subVectors(this.end,this.start);const i=hS.dot(hS);let a=hS.dot(cj)/i;return n&&(a=$t(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=k1e,i=V1e){const r=10000000000000001e-32;let a,s;const o=this.start,c=e.start,f=this.end,d=e.end;T0.subVectors(f,o),C0.subVectors(d,c),K3.subVectors(o,c);const m=T0.dot(T0),v=C0.dot(C0),y=C0.dot(K3);if(m<=r&&v<=r)return n.copy(o),i.copy(c),n.sub(i),n.dot(n);if(m<=r)a=0,s=y/v,s=$t(s,0,1);else{const _=T0.dot(K3);if(v<=r)s=0,a=$t(-_/m,0,1);else{const E=T0.dot(C0),S=m*v-E*E;S!==0?a=$t((E*y-_*v)/S,0,1):a=0,s=(E*a+y)/v,s<0?(s=0,a=$t(-_/m,0,1)):s>1&&(s=1,a=$t((E-_)/m,0,1))}}return n.copy(o).add(T0.multiplyScalar(a)),i.copy(c).add(C0.multiplyScalar(s)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const uj=new te;class G1e extends Bn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new un,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){const f=s/c*Math.PI*2,d=o/c*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Rt(r,3));const a=new gs({fog:!1,toneMapped:!1});this.cone=new iu(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),uj.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(uj),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bd=new te,pS=new Jt,$3=new Jt;class q1e extends iu{constructor(e){const n=Lq(e),i=new un,r=[],a=[];for(let f=0;f<n.length;f++){const d=n[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Rt(r,3)),i.setAttribute("color",new Rt(a,3));const s=new gs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Mt(255),c=new Mt(65280);this.setColors(o,c)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");$3.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<n.length;a++){const o=n[a];o.parent&&o.parent.isBone&&(pS.multiplyMatrices($3,o.matrixWorld),bd.setFromMatrixPosition(pS),r.setXYZ(s,bd.x,bd.y,bd.z),pS.multiplyMatrices($3,o.parent.matrixWorld),bd.setFromMatrixPosition(pS),r.setXYZ(s+1,bd.x,bd.y,bd.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lq(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Lq(t.children[n]));return e}class X1e extends Ir{constructor(e,n,i){const r=new Cb(n,4,2),a=new Kd({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const W1e=new te,fj=new Mt,dj=new Mt;class Y1e extends Bn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Tb(n);r.rotateY(Math.PI*.5),this.material=new Kd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new ui(s,3)),this.add(new Ir(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");fj.copy(this.light.color),dj.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?fj:dj;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(W1e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class K1e extends iu{constructor(e=10,n=10,i=4473924,r=8947848){i=new Mt(i),r=new Mt(r);const a=n/2,s=e/n,o=e/2,c=[],f=[];for(let v=0,y=0,_=-o;v<=n;v++,_+=s){c.push(-o,0,_,o,0,_),c.push(_,0,-o,_,0,o);const E=v===a?i:r;E.toArray(f,y),y+=3,E.toArray(f,y),y+=3,E.toArray(f,y),y+=3,E.toArray(f,y),y+=3}const d=new un;d.setAttribute("position",new Rt(c,3)),d.setAttribute("color",new Rt(f,3));const m=new gs({vertexColors:!0,toneMapped:!1});super(d,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $1e extends iu{constructor(e=10,n=16,i=8,r=64,a=4473924,s=8947848){a=new Mt(a),s=new Mt(s);const o=[],c=[];if(n>1)for(let m=0;m<n;m++){const v=m/n*(Math.PI*2),y=Math.sin(v)*e,_=Math.cos(v)*e;o.push(0,0,0),o.push(y,0,_);const E=m&1?a:s;c.push(E.r,E.g,E.b),c.push(E.r,E.g,E.b)}for(let m=0;m<i;m++){const v=m&1?a:s,y=e-e/i*m;for(let _=0;_<r;_++){let E=_/r*(Math.PI*2),S=Math.sin(E)*y,M=Math.cos(E)*y;o.push(S,0,M),c.push(v.r,v.g,v.b),E=(_+1)/r*(Math.PI*2),S=Math.sin(E)*y,M=Math.cos(E)*y,o.push(S,0,M),c.push(v.r,v.g,v.b)}}const f=new un;f.setAttribute("position",new Rt(o,3)),f.setAttribute("color",new Rt(c,3));const d=new gs({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const hj=new te,mS=new te,pj=new te;class Z1e extends Bn{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new un;r.setAttribute("position",new Rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new gs({fog:!1,toneMapped:!1});this.lightPlane=new Fd(r,a),this.add(this.lightPlane),r=new un,r.setAttribute("position",new Rt([0,0,0,0,0,1],3)),this.targetLine=new Fd(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),hj.setFromMatrixPosition(this.light.matrixWorld),mS.setFromMatrixPosition(this.light.target.matrixWorld),pj.subVectors(mS,hj),this.lightPlane.lookAt(mS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(mS),this.targetLine.scale.z=pj.length()}}const gS=new te,$i=new Xw;class Q1e extends iu{constructor(e){const n=new un,i=new gs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,E){c(_),c(E)}function c(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}n.setAttribute("position",new Rt(r,3)),n.setAttribute("color",new Rt(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new Mt(16755200),d=new Mt(16711680),m=new Mt(43775),v=new Mt(16777215),y=new Mt(3355443);this.setColors(f,d,m,v,y)}setColors(e,n,i,r,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,s;if($i.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===_o)a=-1,s=1;else if(this.camera.coordinateSystem===cg)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);cr("c",n,e,$i,0,0,a),cr("t",n,e,$i,0,0,s),cr("n1",n,e,$i,-i,-r,a),cr("n2",n,e,$i,i,-r,a),cr("n3",n,e,$i,-i,r,a),cr("n4",n,e,$i,i,r,a),cr("f1",n,e,$i,-i,-r,s),cr("f2",n,e,$i,i,-r,s),cr("f3",n,e,$i,-i,r,s),cr("f4",n,e,$i,i,r,s),cr("u1",n,e,$i,i*.7,r*1.1,a),cr("u2",n,e,$i,-i*.7,r*1.1,a),cr("u3",n,e,$i,0,r*2,a),cr("cf1",n,e,$i,-i,0,s),cr("cf2",n,e,$i,i,0,s),cr("cf3",n,e,$i,0,-r,s),cr("cf4",n,e,$i,0,r,s),cr("cn1",n,e,$i,-i,0,a),cr("cn2",n,e,$i,i,0,a),cr("cn3",n,e,$i,0,-r,a),cr("cn4",n,e,$i,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function cr(t,e,n,i,r,a,s){gS.set(r,a,s).unproject(i);const o=e[t];if(o!==void 0){const c=n.getAttribute("position");for(let f=0,d=o.length;f<d;f++)c.setXYZ(o[f],gS.x,gS.y,gS.z)}}const vS=new Ba;class J1e extends iu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new un;a.setIndex(new ui(i,1)),a.setAttribute("position",new ui(r,3)),super(a,new gs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&vS.setFromObject(this.object),vS.isEmpty())return;const e=vS.min,n=vS.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class e_e extends iu{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new un;a.setIndex(new ui(i,1)),a.setAttribute("position",new Rt(r,3)),super(a,new gs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class t_e extends Fd{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new un;s.setAttribute("position",new Rt(a,3)),s.computeBoundingSphere(),super(s,new gs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new un;c.setAttribute("position",new Rt(o,3)),c.computeBoundingSphere(),this.add(new Ir(c,new Kd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const mj=new te;let yS,Z3;class n_e extends Bn{constructor(e=new te(0,0,1),n=new te(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",yS===void 0&&(yS=new un,yS.setAttribute("position",new Rt([0,0,0,0,1,0],3)),Z3=new Ab(.5,1,5,1),Z3.translate(0,-.5,0)),this.position.copy(n),this.line=new Fd(yS,new gs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ir(Z3,new Kd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{mj.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(mj,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class i_e extends iu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new un;r.setAttribute("position",new Rt(n,3)),r.setAttribute("color",new Rt(i,3));const a=new gs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new Mt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class r_e{constructor(){this.type="ShapePath",this.color=new Mt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new UE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,s){return this.currentPath.bezierCurveTo(e,n,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(M){const C=[];for(let T=0,L=M.length;T<L;T++){const P=M[T],N=new Up;N.curves=P.curves,C.push(N)}return C}function i(M,C){const T=C.length;let L=!1;for(let P=T-1,N=0;N<T;P=N++){let z=C[P],F=C[N],I=F.x-z.x,j=F.y-z.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(z=C[N],I=-I,F=C[P],j=-j),M.y<z.y||M.y>F.y)continue;if(M.y===z.y){if(M.x===z.x)return!0}else{const k=j*(M.x-z.x)-I*(M.y-z.y);if(k===0)return!0;if(k<0)continue;L=!L}}else{if(M.y!==z.y)continue;if(F.x<=M.x&&M.x<=z.x||z.x<=M.x&&M.x<=F.x)return!0}}return L}const r=Xl.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,c;const f=[];if(a.length===1)return o=a[0],c=new Up,c.curves=o.curves,f.push(c),f;let d=!r(a[0].getPoints());d=e?!d:d;const m=[],v=[];let y=[],_=0,E;v[_]=void 0,y[_]=[];for(let M=0,C=a.length;M<C;M++)o=a[M],E=o.getPoints(),s=r(E),s=e?!s:s,s?(!d&&v[_]&&_++,v[_]={s:new Up,p:E},v[_].s.curves=o.curves,d&&_++,y[_]=[]):y[_].push({h:o,p:E[0]});if(!v[0])return n(a);if(v.length>1){let M=!1,C=0;for(let T=0,L=v.length;T<L;T++)m[T]=[];for(let T=0,L=v.length;T<L;T++){const P=y[T];for(let N=0;N<P.length;N++){const z=P[N];let F=!0;for(let I=0;I<v.length;I++)i(z.p,v[I].p)&&(T!==I&&C++,F?(F=!1,m[I].push(z)):M=!0);F&&m[T].push(z)}}C>0&&M===!1&&(y=m)}let S;for(let M=0,C=v.length;M<C;M++){c=v[M].s,f.push(c),S=y[M];for(let T=0,L=S.length;T<L;T++)c.holes.push(S[T].h)}return f}}class a_e extends nu{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){bt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function s_e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function o_e(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function l_e(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function lO(t,e,n,i){const r=c_e(i);switch(n){case HN:return t*e;case jw:return t*e/r.components*r.byteLength;case Mb:return t*e/r.components*r.byteLength;case Fw:return t*e*2/r.components*r.byteLength;case kw:return t*e*2/r.components*r.byteLength;case GN:return t*e*3/r.components*r.byteLength;case Ia:return t*e*4/r.components*r.byteLength;case Vw:return t*e*4/r.components*r.byteLength;case $y:case Zy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qy:case Jy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rE:case sE:return Math.max(t,16)*Math.max(e,8)/4;case iE:case aE:return Math.max(t,8)*Math.max(e,8)/2;case oE:case lE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case cE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case uE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case fE:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case dE:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case hE:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case pE:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case mE:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case gE:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case vE:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case yE:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case xE:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case bE:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case _E:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case SE:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case ME:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case EE:case wE:case AE:return Math.ceil(t/4)*Math.ceil(e/4)*16;case TE:case CE:return Math.ceil(t/4)*Math.ceil(e/4)*8;case RE:case OE:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function c_e(t){switch(t){case il:case jN:return{byteLength:1,components:1};case ag:case FN:case $p:return{byteLength:2,components:1};case zw:case Bw:return{byteLength:2,components:4};case of:case Iw:case Vs:return{byteLength:4,components:1};case kN:case VN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class u_e{static contain(e,n){return s_e(e,n)}static cover(e,n){return o_e(e,n)}static fill(e){return l_e(e)}static getByteLength(e,n,i,r){return lO(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Pw}}));typeof window<"u"&&(window.__THREE__?bt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Pw);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Uq(){let t=null,e=!1,n=null,i=null;function r(a,s){n(a,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function f_e(t){const e=new WeakMap;function n(o,c){const f=o.array,d=o.usage,m=f.byteLength,v=t.createBuffer();t.bindBuffer(c,v),t.bufferData(c,f,d),o.onUploadCallback();let y;if(f instanceof Float32Array)y=t.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)y=t.HALF_FLOAT;else if(f instanceof Uint16Array)o.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=t.SHORT;else if(f instanceof Uint32Array)y=t.UNSIGNED_INT;else if(f instanceof Int32Array)y=t.INT;else if(f instanceof Int8Array)y=t.BYTE;else if(f instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:v,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:o.version,size:m}}function i(o,c,f){const d=c.array,m=c.updateRanges;if(t.bindBuffer(f,o),m.length===0)t.bufferSubData(f,0,d);else{m.sort((y,_)=>y.start-_.start);let v=0;for(let y=1;y<m.length;y++){const _=m[v],E=m[y];E.start<=_.start+_.count+1?_.count=Math.max(_.count,E.start+E.count-_.start):(++v,m[v]=E)}m.length=v+1;for(let y=0,_=m.length;y<_;y++){const E=m[y];t.bufferSubData(f,E.start*d.BYTES_PER_ELEMENT,d,E.start,E.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(t.deleteBuffer(c.buffer),e.delete(o))}function s(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const f=e.get(o);if(f===void 0)e.set(o,n(o,c));else if(f.version<o.version){if(f.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,o,c),f.version=o.version}}return{get:r,remove:a,update:s}}var d_e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,h_e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,p_e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,m_e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,g_e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,v_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,y_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,x_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,b_e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,__e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,S_e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,M_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,E_e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,w_e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,A_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,T_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,C_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,R_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,O_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,D_e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,N_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,P_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,L_e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,U_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,I_e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,z_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,B_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,j_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,F_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,k_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,V_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",H_e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,G_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,q_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,X_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,W_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Y_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,K_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Z_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Q_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,J_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,eSe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tSe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nSe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,iSe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,rSe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,aSe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sSe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,oSe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lSe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,cSe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,uSe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fSe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dSe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,hSe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pSe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mSe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gSe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vSe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ySe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xSe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bSe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_Se=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SSe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MSe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ESe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,wSe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ASe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,TSe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,CSe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,RSe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,OSe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,DSe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NSe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PSe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LSe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,USe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ISe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zSe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,BSe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jSe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,FSe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,kSe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VSe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,HSe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GSe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,qSe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XSe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,WSe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,YSe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,KSe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$Se=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ZSe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,QSe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,JSe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,iMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,rMe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aMe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,sMe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,oMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,lMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,uMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dMe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gMe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,yMe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xMe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bMe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_Me=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SMe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,MMe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EMe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,AMe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TMe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CMe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RMe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,OMe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DMe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NMe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,PMe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LMe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UMe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,IMe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zMe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BMe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jMe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kMe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VMe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,HMe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GMe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yn={alphahash_fragment:d_e,alphahash_pars_fragment:h_e,alphamap_fragment:p_e,alphamap_pars_fragment:m_e,alphatest_fragment:g_e,alphatest_pars_fragment:v_e,aomap_fragment:y_e,aomap_pars_fragment:x_e,batching_pars_vertex:b_e,batching_vertex:__e,begin_vertex:S_e,beginnormal_vertex:M_e,bsdfs:E_e,iridescence_fragment:w_e,bumpmap_pars_fragment:A_e,clipping_planes_fragment:T_e,clipping_planes_pars_fragment:C_e,clipping_planes_pars_vertex:R_e,clipping_planes_vertex:O_e,color_fragment:D_e,color_pars_fragment:N_e,color_pars_vertex:P_e,color_vertex:L_e,common:U_e,cube_uv_reflection_fragment:I_e,defaultnormal_vertex:z_e,displacementmap_pars_vertex:B_e,displacementmap_vertex:j_e,emissivemap_fragment:F_e,emissivemap_pars_fragment:k_e,colorspace_fragment:V_e,colorspace_pars_fragment:H_e,envmap_fragment:G_e,envmap_common_pars_fragment:q_e,envmap_pars_fragment:X_e,envmap_pars_vertex:W_e,envmap_physical_pars_fragment:rSe,envmap_vertex:Y_e,fog_vertex:K_e,fog_pars_vertex:$_e,fog_fragment:Z_e,fog_pars_fragment:Q_e,gradientmap_pars_fragment:J_e,lightmap_pars_fragment:eSe,lights_lambert_fragment:tSe,lights_lambert_pars_fragment:nSe,lights_pars_begin:iSe,lights_toon_fragment:aSe,lights_toon_pars_fragment:sSe,lights_phong_fragment:oSe,lights_phong_pars_fragment:lSe,lights_physical_fragment:cSe,lights_physical_pars_fragment:uSe,lights_fragment_begin:fSe,lights_fragment_maps:dSe,lights_fragment_end:hSe,logdepthbuf_fragment:pSe,logdepthbuf_pars_fragment:mSe,logdepthbuf_pars_vertex:gSe,logdepthbuf_vertex:vSe,map_fragment:ySe,map_pars_fragment:xSe,map_particle_fragment:bSe,map_particle_pars_fragment:_Se,metalnessmap_fragment:SSe,metalnessmap_pars_fragment:MSe,morphinstance_vertex:ESe,morphcolor_vertex:wSe,morphnormal_vertex:ASe,morphtarget_pars_vertex:TSe,morphtarget_vertex:CSe,normal_fragment_begin:RSe,normal_fragment_maps:OSe,normal_pars_fragment:DSe,normal_pars_vertex:NSe,normal_vertex:PSe,normalmap_pars_fragment:LSe,clearcoat_normal_fragment_begin:USe,clearcoat_normal_fragment_maps:ISe,clearcoat_pars_fragment:zSe,iridescence_pars_fragment:BSe,opaque_fragment:jSe,packing:FSe,premultiplied_alpha_fragment:kSe,project_vertex:VSe,dithering_fragment:HSe,dithering_pars_fragment:GSe,roughnessmap_fragment:qSe,roughnessmap_pars_fragment:XSe,shadowmap_pars_fragment:WSe,shadowmap_pars_vertex:YSe,shadowmap_vertex:KSe,shadowmask_pars_fragment:$Se,skinbase_vertex:ZSe,skinning_pars_vertex:QSe,skinning_vertex:JSe,skinnormal_vertex:eMe,specularmap_fragment:tMe,specularmap_pars_fragment:nMe,tonemapping_fragment:iMe,tonemapping_pars_fragment:rMe,transmission_fragment:aMe,transmission_pars_fragment:sMe,uv_pars_fragment:oMe,uv_pars_vertex:lMe,uv_vertex:cMe,worldpos_vertex:uMe,background_vert:fMe,background_frag:dMe,backgroundCube_vert:hMe,backgroundCube_frag:pMe,cube_vert:mMe,cube_frag:gMe,depth_vert:vMe,depth_frag:yMe,distanceRGBA_vert:xMe,distanceRGBA_frag:bMe,equirect_vert:_Me,equirect_frag:SMe,linedashed_vert:MMe,linedashed_frag:EMe,meshbasic_vert:wMe,meshbasic_frag:AMe,meshlambert_vert:TMe,meshlambert_frag:CMe,meshmatcap_vert:RMe,meshmatcap_frag:OMe,meshnormal_vert:DMe,meshnormal_frag:NMe,meshphong_vert:PMe,meshphong_frag:LMe,meshphysical_vert:UMe,meshphysical_frag:IMe,meshtoon_vert:zMe,meshtoon_frag:BMe,points_vert:jMe,points_frag:FMe,shadow_vert:kMe,shadow_frag:VMe,sprite_vert:HMe,sprite_frag:GMe},xt={common:{diffuse:{value:new Mt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cn},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cn}},envmap:{envMap:{value:null},envMapRotation:{value:new cn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cn},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0},uvTransform:{value:new cn}},sprite:{diffuse:{value:new Mt(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cn},alphaMap:{value:null},alphaMapTransform:{value:new cn},alphaTest:{value:0}}},Vl={basic:{uniforms:os([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.fog]),vertexShader:yn.meshbasic_vert,fragmentShader:yn.meshbasic_frag},lambert:{uniforms:os([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:yn.meshlambert_vert,fragmentShader:yn.meshlambert_frag},phong:{uniforms:os([xt.common,xt.specularmap,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,xt.lights,{emissive:{value:new Mt(0)},specular:{value:new Mt(1118481)},shininess:{value:30}}]),vertexShader:yn.meshphong_vert,fragmentShader:yn.meshphong_frag},standard:{uniforms:os([xt.common,xt.envmap,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.roughnessmap,xt.metalnessmap,xt.fog,xt.lights,{emissive:{value:new Mt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag},toon:{uniforms:os([xt.common,xt.aomap,xt.lightmap,xt.emissivemap,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.gradientmap,xt.fog,xt.lights,{emissive:{value:new Mt(0)}}]),vertexShader:yn.meshtoon_vert,fragmentShader:yn.meshtoon_frag},matcap:{uniforms:os([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,xt.fog,{matcap:{value:null}}]),vertexShader:yn.meshmatcap_vert,fragmentShader:yn.meshmatcap_frag},points:{uniforms:os([xt.points,xt.fog]),vertexShader:yn.points_vert,fragmentShader:yn.points_frag},dashed:{uniforms:os([xt.common,xt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yn.linedashed_vert,fragmentShader:yn.linedashed_frag},depth:{uniforms:os([xt.common,xt.displacementmap]),vertexShader:yn.depth_vert,fragmentShader:yn.depth_frag},normal:{uniforms:os([xt.common,xt.bumpmap,xt.normalmap,xt.displacementmap,{opacity:{value:1}}]),vertexShader:yn.meshnormal_vert,fragmentShader:yn.meshnormal_frag},sprite:{uniforms:os([xt.sprite,xt.fog]),vertexShader:yn.sprite_vert,fragmentShader:yn.sprite_frag},background:{uniforms:{uvTransform:{value:new cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yn.background_vert,fragmentShader:yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cn}},vertexShader:yn.backgroundCube_vert,fragmentShader:yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yn.cube_vert,fragmentShader:yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yn.equirect_vert,fragmentShader:yn.equirect_frag},distanceRGBA:{uniforms:os([xt.common,xt.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yn.distanceRGBA_vert,fragmentShader:yn.distanceRGBA_frag},shadow:{uniforms:os([xt.lights,xt.fog,{color:{value:new Mt(0)},opacity:{value:1}}]),vertexShader:yn.shadow_vert,fragmentShader:yn.shadow_frag}};Vl.physical={uniforms:os([Vl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cn},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cn},sheen:{value:0},sheenColor:{value:new Mt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cn},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cn},attenuationDistance:{value:0},attenuationColor:{value:new Mt(0)},specularColor:{value:new Mt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cn},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cn}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag};const xS={r:0,b:0,g:0},ip=new qs,qMe=new Jt;function XMe(t,e,n,i,r,a,s){const o=new Mt(0);let c=a===!0?0:1,f,d,m=null,v=0,y=null;function _(T){let L=T.isScene===!0?T.background:null;return L&&L.isTexture&&(L=(T.backgroundBlurriness>0?n:e).get(L)),L}function E(T){let L=!1;const P=_(T);P===null?M(o,c):P&&P.isColor&&(M(P,1),L=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,s):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||L)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(T,L){const P=_(L);P&&(P.isCubeTexture||P.mapping===Lg)?(d===void 0&&(d=new Ir(new Qp(1,1,1),new rl({name:"BackgroundCubeMaterial",uniforms:hg(Vl.backgroundCube.uniforms),vertexShader:Vl.backgroundCube.vertexShader,fragmentShader:Vl.backgroundCube.fragmentShader,side:hs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,z,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),ip.copy(L.backgroundRotation),ip.x*=-1,ip.y*=-1,ip.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(ip.y*=-1,ip.z*=-1),d.material.uniforms.envMap.value=P,d.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(qMe.makeRotationFromEuler(ip)),d.material.toneMapped=Nn.getTransfer(P.colorSpace)!==Jn,(m!==P||v!==P.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,m=P,v=P.version,y=t.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null)):P&&P.isTexture&&(f===void 0&&(f=new Ir(new Ig(2,2),new rl({name:"BackgroundMaterial",uniforms:hg(Vl.background.uniforms),vertexShader:Vl.background.vertexShader,fragmentShader:Vl.background.fragmentShader,side:af,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=P,f.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,f.material.toneMapped=Nn.getTransfer(P.colorSpace)!==Jn,P.matrixAutoUpdate===!0&&P.updateMatrix(),f.material.uniforms.uvTransform.value.copy(P.matrix),(m!==P||v!==P.version||y!==t.toneMapping)&&(f.material.needsUpdate=!0,m=P,v=P.version,y=t.toneMapping),f.layers.enableAll(),T.unshift(f,f.geometry,f.material,0,0,null))}function M(T,L){T.getRGB(xS,LG(t)),i.buffers.color.setClear(xS.r,xS.g,xS.b,L,s)}function C(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return o},setClearColor:function(T,L=1){o.set(T),c=L,M(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(T){c=T,M(o,c)},render:E,addToRenderList:S,dispose:C}}function WMe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=v(null);let a=r,s=!1;function o(j,k,Z,ee,re){let ae=!1;const H=m(ee,Z,k);a!==H&&(a=H,f(a.object)),ae=y(j,ee,Z,re),ae&&_(j,ee,Z,re),re!==null&&e.update(re,t.ELEMENT_ARRAY_BUFFER),(ae||s)&&(s=!1,L(j,k,Z,ee),re!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(re).buffer))}function c(){return t.createVertexArray()}function f(j){return t.bindVertexArray(j)}function d(j){return t.deleteVertexArray(j)}function m(j,k,Z){const ee=Z.wireframe===!0;let re=i[j.id];re===void 0&&(re={},i[j.id]=re);let ae=re[k.id];ae===void 0&&(ae={},re[k.id]=ae);let H=ae[ee];return H===void 0&&(H=v(c()),ae[ee]=H),H}function v(j){const k=[],Z=[],ee=[];for(let re=0;re<n;re++)k[re]=0,Z[re]=0,ee[re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:Z,attributeDivisors:ee,object:j,attributes:{},index:null}}function y(j,k,Z,ee){const re=a.attributes,ae=k.attributes;let H=0;const X=Z.getAttributes();for(const K in X)if(X[K].location>=0){const q=re[K];let se=ae[K];if(se===void 0&&(K==="instanceMatrix"&&j.instanceMatrix&&(se=j.instanceMatrix),K==="instanceColor"&&j.instanceColor&&(se=j.instanceColor)),q===void 0||q.attribute!==se||se&&q.data!==se.data)return!0;H++}return a.attributesNum!==H||a.index!==ee}function _(j,k,Z,ee){const re={},ae=k.attributes;let H=0;const X=Z.getAttributes();for(const K in X)if(X[K].location>=0){let q=ae[K];q===void 0&&(K==="instanceMatrix"&&j.instanceMatrix&&(q=j.instanceMatrix),K==="instanceColor"&&j.instanceColor&&(q=j.instanceColor));const se={};se.attribute=q,q&&q.data&&(se.data=q.data),re[K]=se,H++}a.attributes=re,a.attributesNum=H,a.index=ee}function E(){const j=a.newAttributes;for(let k=0,Z=j.length;k<Z;k++)j[k]=0}function S(j){M(j,0)}function M(j,k){const Z=a.newAttributes,ee=a.enabledAttributes,re=a.attributeDivisors;Z[j]=1,ee[j]===0&&(t.enableVertexAttribArray(j),ee[j]=1),re[j]!==k&&(t.vertexAttribDivisor(j,k),re[j]=k)}function C(){const j=a.newAttributes,k=a.enabledAttributes;for(let Z=0,ee=k.length;Z<ee;Z++)k[Z]!==j[Z]&&(t.disableVertexAttribArray(Z),k[Z]=0)}function T(j,k,Z,ee,re,ae,H){H===!0?t.vertexAttribIPointer(j,k,Z,re,ae):t.vertexAttribPointer(j,k,Z,ee,re,ae)}function L(j,k,Z,ee){E();const re=ee.attributes,ae=Z.getAttributes(),H=k.defaultAttributeValues;for(const X in ae){const K=ae[X];if(K.location>=0){let ne=re[X];if(ne===void 0&&(X==="instanceMatrix"&&j.instanceMatrix&&(ne=j.instanceMatrix),X==="instanceColor"&&j.instanceColor&&(ne=j.instanceColor)),ne!==void 0){const q=ne.normalized,se=ne.itemSize,ge=e.get(ne);if(ge===void 0)continue;const _e=ge.buffer,Ae=ge.type,Qe=ge.bytesPerElement,pe=Ae===t.INT||Ae===t.UNSIGNED_INT||ne.gpuType===Iw;if(ne.isInterleavedBufferAttribute){const Le=ne.data,Ye=Le.stride,xe=ne.offset;if(Le.isInstancedInterleavedBuffer){for(let Ge=0;Ge<K.locationSize;Ge++)M(K.location+Ge,Le.meshPerAttribute);j.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let Ge=0;Ge<K.locationSize;Ge++)S(K.location+Ge);t.bindBuffer(t.ARRAY_BUFFER,_e);for(let Ge=0;Ge<K.locationSize;Ge++)T(K.location+Ge,se/K.locationSize,Ae,q,Ye*Qe,(xe+se/K.locationSize*Ge)*Qe,pe)}else{if(ne.isInstancedBufferAttribute){for(let Le=0;Le<K.locationSize;Le++)M(K.location+Le,ne.meshPerAttribute);j.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Le=0;Le<K.locationSize;Le++)S(K.location+Le);t.bindBuffer(t.ARRAY_BUFFER,_e);for(let Le=0;Le<K.locationSize;Le++)T(K.location+Le,se/K.locationSize,Ae,q,se*Qe,se/K.locationSize*Le*Qe,pe)}}else if(H!==void 0){const q=H[X];if(q!==void 0)switch(q.length){case 2:t.vertexAttrib2fv(K.location,q);break;case 3:t.vertexAttrib3fv(K.location,q);break;case 4:t.vertexAttrib4fv(K.location,q);break;default:t.vertexAttrib1fv(K.location,q)}}}}C()}function P(){F();for(const j in i){const k=i[j];for(const Z in k){const ee=k[Z];for(const re in ee)d(ee[re].object),delete ee[re];delete k[Z]}delete i[j]}}function N(j){if(i[j.id]===void 0)return;const k=i[j.id];for(const Z in k){const ee=k[Z];for(const re in ee)d(ee[re].object),delete ee[re];delete k[Z]}delete i[j.id]}function z(j){for(const k in i){const Z=i[k];if(Z[j.id]===void 0)continue;const ee=Z[j.id];for(const re in ee)d(ee[re].object),delete ee[re];delete Z[j.id]}}function F(){I(),s=!0,a!==r&&(a=r,f(a.object))}function I(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:F,resetDefaultState:I,dispose:P,releaseStatesOfGeometry:N,releaseStatesOfProgram:z,initAttributes:E,enableAttribute:S,disableUnusedAttributes:C}}function YMe(t,e,n){let i;function r(f){i=f}function a(f,d){t.drawArrays(i,f,d),n.update(d,i,1)}function s(f,d,m){m!==0&&(t.drawArraysInstanced(i,f,d,m),n.update(d,i,m))}function o(f,d,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,d,0,m);let y=0;for(let _=0;_<m;_++)y+=d[_];n.update(y,i,1)}function c(f,d,m,v){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let _=0;_<f.length;_++)s(f[_],d[_],v[_]);else{y.multiDrawArraysInstancedWEBGL(i,f,0,d,0,v,0,m);let _=0;for(let E=0;E<m;E++)_+=d[E]*v[E];n.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function KMe(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(z){return!(z!==Ia&&i.convert(z)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(z){const F=z===$p&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(z!==il&&i.convert(z)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&z!==Vs&&!F)}function c(z){if(z==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=n.precision!==void 0?n.precision:"highp";const d=c(f);d!==f&&(bt("WebGLRenderer:",f,"not supported, using",d,"instead."),f=d);const m=n.logarithmicDepthBuffer===!0,v=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),M=t.getParameter(t.MAX_VERTEX_ATTRIBS),C=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),L=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=_>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:o,precision:f,logarithmicDepthBuffer:m,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:_,maxTextureSize:E,maxCubemapSize:S,maxAttributes:M,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:L,vertexTextures:P,maxSamples:N}}function $Me(t){const e=this;let n=null,i=0,r=!1,a=!1;const s=new zu,o=new cn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,v){const y=m.length!==0||v||i!==0||r;return r=v,i=m.length,y},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(m,v){n=d(m,v,0)},this.setState=function(m,v,y){const _=m.clippingPlanes,E=m.clipIntersection,S=m.clipShadows,M=t.get(m);if(!r||_===null||_.length===0||a&&!S)a?d(null):f();else{const C=a?0:i,T=C*4;let L=M.clippingState||null;c.value=L,L=d(_,v,T,y);for(let P=0;P!==T;++P)L[P]=n[P];M.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=C}};function f(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(m,v,y,_){const E=m!==null?m.length:0;let S=null;if(E!==0){if(S=c.value,_!==!0||S===null){const M=y+E*4,C=v.matrixWorldInverse;o.getNormalMatrix(C),(S===null||S.length<M)&&(S=new Float32Array(M));for(let T=0,L=y;T!==E;++T,L+=4)s.copy(m[T]).applyMatrix4(C,o),s.normal.toArray(S,L),S[L+3]=s.constant}c.value=S,c.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,S}}function ZMe(t){let e=new WeakMap;function n(s,o){return o===Tx?s.mapping=sf:o===Cx&&(s.mapping=zd),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===Tx||o===Cx)if(e.has(s)){const c=e.get(s).texture;return n(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const f=new zG(c.height);return f.fromEquirectangularTexture(t,s),e.set(s,f),s.addEventListener("dispose",r),n(f.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Dd=4,gj=[.125,.215,.35,.446,.526,.582],pp=20,QMe=256,wy=new Xc,vj=new Mt;let Q3=null,J3=0,eC=0,tC=!1;const JMe=new te;class cO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,a={}){const{size:s=256,position:o=JMe}=a;Q3=this._renderer.getRenderTarget(),J3=this._renderer.getActiveCubeFace(),eC=this._renderer.getActiveMipmapLevel(),tC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,i,r,c,o),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=xj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Q3,J3,eC),this._renderer.xr.enabled=tC,e.scissorTest=!1,R0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===sf||e.mapping===zd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Q3=this._renderer.getRenderTarget(),J3=this._renderer.getActiveCubeFace(),eC=this._renderer.getActiveMipmapLevel(),tC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:dr,minFilter:dr,generateMipmaps:!1,type:$p,format:Ia,colorSpace:Bd,depthBuffer:!1},r=yj(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=yj(e,n,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=eEe(a)),this._blurMaterial=nEe(a,e,n)}return r}_compileMaterial(e){const n=new Ir(new un,e);this._renderer.compile(n,wy)}_sceneToCubeUV(e,n,i,r,a){const c=new Fi(90,1,n,i),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,y=m.toneMapping;m.getClearColor(vj),m.toneMapping=qc,m.autoClear=!1,m.state.buffers.depth.getReversed()&&(m.setRenderTarget(r),m.clearDepth(),m.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ir(new Qp,new Kd({name:"PMREM.Background",side:hs,depthWrite:!1,depthTest:!1})));const E=this._backgroundBox,S=E.material;let M=!1;const C=e.background;C?C.isColor&&(S.color.copy(C),e.background=null,M=!0):(S.color.copy(vj),M=!0);for(let T=0;T<6;T++){const L=T%3;L===0?(c.up.set(0,f[T],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+d[T],a.y,a.z)):L===1?(c.up.set(0,0,f[T]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+d[T],a.z)):(c.up.set(0,f[T],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+d[T]));const P=this._cubeSize;R0(r,L*P,T>2?P:0,P,P),m.setRenderTarget(r),M&&m.render(E,c),m.render(e,c)}m.toneMapping=y,m.autoClear=v,e.background=C}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===sf||e.mapping===zd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=bj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=xj());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const c=this._cubeSize;R0(n,0,0,3*c,2*c),i.setRenderTarget(n),i.render(s,wy)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,a=this._pingPongRenderTarget;if(this._ggxMaterial===null){const C=3*Math.max(this._cubeSize,16),T=4*this._cubeSize;this._ggxMaterial=tEe(this._lodMax,C,T)}const s=this._ggxMaterial,o=this._lodMeshes[i];o.material=s;const c=s.uniforms,f=i/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),m=Math.sqrt(f*f-d*d),v=.05+f*.95,y=m*v,{_lodMax:_}=this,E=this._sizeLods[i],S=3*E*(i>_-Dd?i-_+Dd:0),M=4*(this._cubeSize-E);c.envMap.value=e.texture,c.roughness.value=y,c.mipInt.value=_-n,R0(a,S,M,3*E,2*E),r.setRenderTarget(a),r.render(o,wy),c.envMap.value=a.texture,c.roughness.value=0,c.mipInt.value=_-i,R0(e,S,M,3*E,2*E),r.setRenderTarget(e),r.render(o,wy)}_blur(e,n,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,s,o){const c=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&en("blur direction must be either latitudinal or longitudinal!");const d=3,m=this._lodMeshes[r];m.material=f;const v=f.uniforms,y=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*y):2*Math.PI/(2*pp-1),E=a/_,S=isFinite(a)?1+Math.floor(d*E):pp;S>pp&&bt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${pp}`);const M=[];let C=0;for(let z=0;z<pp;++z){const F=z/E,I=Math.exp(-F*F/2);M.push(I),z===0?C+=I:z<S&&(C+=2*I)}for(let z=0;z<M.length;z++)M[z]=M[z]/C;v.envMap.value=e.texture,v.samples.value=S,v.weights.value=M,v.latitudinal.value=s==="latitudinal",o&&(v.poleAxis.value=o);const{_lodMax:T}=this;v.dTheta.value=_,v.mipInt.value=T-i;const L=this._sizeLods[r],P=3*L*(r>T-Dd?r-T+Dd:0),N=4*(this._cubeSize-L);R0(n,P,N,3*L,2*L),c.setRenderTarget(n),c.render(m,wy)}}function eEe(t){const e=[],n=[],i=[];let r=t;const a=t-Dd+1+gj.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);e.push(o);let c=1/o;s>t-Dd?c=gj[s-t+Dd-1]:s===0&&(c=0),n.push(c);const f=1/(o-2),d=-f,m=1+f,v=[d,d,m,d,m,m,d,d,m,m,d,m],y=6,_=6,E=3,S=2,M=1,C=new Float32Array(E*_*y),T=new Float32Array(S*_*y),L=new Float32Array(M*_*y);for(let N=0;N<y;N++){const z=N%3*2/3-1,F=N>2?0:-1,I=[z,F,0,z+2/3,F,0,z+2/3,F+1,0,z,F,0,z+2/3,F+1,0,z,F+1,0];C.set(I,E*_*N),T.set(v,S*_*N);const j=[N,N,N,N,N,N];L.set(j,M*_*N)}const P=new un;P.setAttribute("position",new ui(C,E)),P.setAttribute("uv",new ui(T,S)),P.setAttribute("faceIndex",new ui(L,M)),i.push(new Ir(P,null)),r>Dd&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function yj(t,e,n){const i=new eu(t,e,n);return i.texture.mapping=Lg,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function R0(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function tEe(t,e,n){return new rl({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:QMe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:hA(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function nEe(t,e,n){const i=new Float32Array(pp),r=new te(0,1,0);return new rl({name:"SphericalGaussianBlur",defines:{n:pp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:hA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function xj(){return new rl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function bj(){return new rl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function hA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function iEe(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const c=o.mapping,f=c===Tx||c===Cx,d=c===sf||c===zd;if(f||d){let m=e.get(o);const v=m!==void 0?m.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==v)return n===null&&(n=new cO(t)),m=f?n.fromEquirectangular(o,m):n.fromCubemap(o,m),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),m.texture;if(m!==void 0)return m.texture;{const y=o.image;return f&&y&&y.height>0||d&&y&&r(y)?(n===null&&(n=new cO(t)),m=f?n.fromEquirectangular(o):n.fromCubemap(o),m.texture.pmremVersion=o.pmremVersion,e.set(o,m),o.addEventListener("dispose",a),m.texture):null}}}return o}function r(o){let c=0;const f=6;for(let d=0;d<f;d++)o[d]!==void 0&&c++;return c===f}function a(o){const c=o.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function rEe(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&ug("WebGLRenderer: "+i+" extension not supported."),r}}}function aEe(t,e,n,i){const r={},a=new WeakMap;function s(m){const v=m.target;v.index!==null&&e.remove(v.index);for(const _ in v.attributes)e.remove(v.attributes[_]);v.removeEventListener("dispose",s),delete r[v.id];const y=a.get(v);y&&(e.remove(y),a.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,n.memory.geometries--}function o(m,v){return r[v.id]===!0||(v.addEventListener("dispose",s),r[v.id]=!0,n.memory.geometries++),v}function c(m){const v=m.attributes;for(const y in v)e.update(v[y],t.ARRAY_BUFFER)}function f(m){const v=[],y=m.index,_=m.attributes.position;let E=0;if(y!==null){const C=y.array;E=y.version;for(let T=0,L=C.length;T<L;T+=3){const P=C[T+0],N=C[T+1],z=C[T+2];v.push(P,N,N,z,z,P)}}else if(_!==void 0){const C=_.array;E=_.version;for(let T=0,L=C.length/3-1;T<L;T+=3){const P=T+0,N=T+1,z=T+2;v.push(P,N,N,z,z,P)}}else return;const S=new(OG(v)?$N:KN)(v,1);S.version=E;const M=a.get(m);M&&e.remove(M),a.set(m,S)}function d(m){const v=a.get(m);if(v){const y=m.index;y!==null&&v.version<y.version&&f(m)}else f(m);return a.get(m)}return{get:o,update:c,getWireframeAttribute:d}}function sEe(t,e,n){let i;function r(v){i=v}let a,s;function o(v){a=v.type,s=v.bytesPerElement}function c(v,y){t.drawElements(i,y,a,v*s),n.update(y,i,1)}function f(v,y,_){_!==0&&(t.drawElementsInstanced(i,y,a,v*s,_),n.update(y,i,_))}function d(v,y,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,a,v,0,_);let S=0;for(let M=0;M<_;M++)S+=y[M];n.update(S,i,1)}function m(v,y,_,E){if(_===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let M=0;M<v.length;M++)f(v[M]/s,y[M],E[M]);else{S.multiDrawElementsInstancedWEBGL(i,y,0,a,v,0,E,0,_);let M=0;for(let C=0;C<_;C++)M+=y[C]*E[C];n.update(M,i,1)}}this.setMode=r,this.setIndex=o,this.render=c,this.renderInstances=f,this.renderMultiDraw=d,this.renderMultiDrawInstances=m}function oEe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=o*(a/3);break;case t.LINES:n.lines+=o*(a/2);break;case t.LINE_STRIP:n.lines+=o*(a-1);break;case t.LINE_LOOP:n.lines+=o*a;break;case t.POINTS:n.points+=o*a;break;default:en("WebGLInfo: Unknown draw mode:",s);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function lEe(t,e,n){const i=new WeakMap,r=new zn;function a(s,o,c){const f=s.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,m=d!==void 0?d.length:0;let v=i.get(o);if(v===void 0||v.count!==m){let j=function(){F.dispose(),i.delete(o),o.removeEventListener("dispose",j)};var y=j;v!==void 0&&v.texture.dispose();const _=o.morphAttributes.position!==void 0,E=o.morphAttributes.normal!==void 0,S=o.morphAttributes.color!==void 0,M=o.morphAttributes.position||[],C=o.morphAttributes.normal||[],T=o.morphAttributes.color||[];let L=0;_===!0&&(L=1),E===!0&&(L=2),S===!0&&(L=3);let P=o.attributes.position.count*L,N=1;P>e.maxTextureSize&&(N=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const z=new Float32Array(P*N*4*m),F=new Gw(z,P,N,m);F.type=Vs,F.needsUpdate=!0;const I=L*4;for(let k=0;k<m;k++){const Z=M[k],ee=C[k],re=T[k],ae=P*N*4*k;for(let H=0;H<Z.count;H++){const X=H*I;_===!0&&(r.fromBufferAttribute(Z,H),z[ae+X+0]=r.x,z[ae+X+1]=r.y,z[ae+X+2]=r.z,z[ae+X+3]=0),E===!0&&(r.fromBufferAttribute(ee,H),z[ae+X+4]=r.x,z[ae+X+5]=r.y,z[ae+X+6]=r.z,z[ae+X+7]=0),S===!0&&(r.fromBufferAttribute(re,H),z[ae+X+8]=r.x,z[ae+X+9]=r.y,z[ae+X+10]=r.z,z[ae+X+11]=re.itemSize===4?r.w:1)}}v={count:m,texture:F,size:new He(P,N)},i.set(o,v),o.addEventListener("dispose",j)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let _=0;for(let S=0;S<f.length;S++)_+=f[S];const E=o.morphTargetsRelative?1:1-_;c.getUniforms().setValue(t,"morphTargetBaseInfluence",E),c.getUniforms().setValue(t,"morphTargetInfluences",f)}c.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:a}}function cEe(t,e,n,i){let r=new WeakMap;function a(c){const f=i.render.frame,d=c.geometry,m=e.get(c,d);if(r.get(m)!==f&&(e.update(m),r.set(m,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==f&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),r.set(c,f))),c.isSkinnedMesh){const v=c.skeleton;r.get(v)!==f&&(v.update(),r.set(v,f))}return m}function s(){r=new WeakMap}function o(c){const f=c.target;f.removeEventListener("dispose",o),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:a,dispose:s}}const Iq=new er,_j=new tP(1,1),zq=new Gw,Bq=new qw,jq=new Eb,Sj=[],Mj=[],Ej=new Float32Array(16),wj=new Float32Array(9),Aj=new Float32Array(4);function zg(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=Sj[r];if(a===void 0&&(a=new Float32Array(r),Sj[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=n,t[s].toArray(a,o)}return a}function zr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Br(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function pA(t,e){let n=Mj[e];n===void 0&&(n=new Int32Array(e),Mj[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function uEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2fv(this.addr,e),Br(n,e)}}function dEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(zr(n,e))return;t.uniform3fv(this.addr,e),Br(n,e)}}function hEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4fv(this.addr,e),Br(n,e)}}function pEe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,i))return;Aj.set(i),t.uniformMatrix2fv(this.addr,!1,Aj),Br(n,i)}}function mEe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,i))return;wj.set(i),t.uniformMatrix3fv(this.addr,!1,wj),Br(n,i)}}function gEe(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(zr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Br(n,e)}else{if(zr(n,i))return;Ej.set(i),t.uniformMatrix4fv(this.addr,!1,Ej),Br(n,i)}}function vEe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function yEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2iv(this.addr,e),Br(n,e)}}function xEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3iv(this.addr,e),Br(n,e)}}function bEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4iv(this.addr,e),Br(n,e)}}function _Ee(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function SEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zr(n,e))return;t.uniform2uiv(this.addr,e),Br(n,e)}}function MEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zr(n,e))return;t.uniform3uiv(this.addr,e),Br(n,e)}}function EEe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zr(n,e))return;t.uniform4uiv(this.addr,e),Br(n,e)}}function wEe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(_j.compareFunction=XN,a=_j):a=Iq,n.setTexture2D(e||a,r)}function AEe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Bq,r)}function TEe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||jq,r)}function CEe(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||zq,r)}function REe(t){switch(t){case 5126:return uEe;case 35664:return fEe;case 35665:return dEe;case 35666:return hEe;case 35674:return pEe;case 35675:return mEe;case 35676:return gEe;case 5124:case 35670:return vEe;case 35667:case 35671:return yEe;case 35668:case 35672:return xEe;case 35669:case 35673:return bEe;case 5125:return _Ee;case 36294:return SEe;case 36295:return MEe;case 36296:return EEe;case 35678:case 36198:case 36298:case 36306:case 35682:return wEe;case 35679:case 36299:case 36307:return AEe;case 35680:case 36300:case 36308:case 36293:return TEe;case 36289:case 36303:case 36311:case 36292:return CEe}}function OEe(t,e){t.uniform1fv(this.addr,e)}function DEe(t,e){const n=zg(e,this.size,2);t.uniform2fv(this.addr,n)}function NEe(t,e){const n=zg(e,this.size,3);t.uniform3fv(this.addr,n)}function PEe(t,e){const n=zg(e,this.size,4);t.uniform4fv(this.addr,n)}function LEe(t,e){const n=zg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function UEe(t,e){const n=zg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function IEe(t,e){const n=zg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function zEe(t,e){t.uniform1iv(this.addr,e)}function BEe(t,e){t.uniform2iv(this.addr,e)}function jEe(t,e){t.uniform3iv(this.addr,e)}function FEe(t,e){t.uniform4iv(this.addr,e)}function kEe(t,e){t.uniform1uiv(this.addr,e)}function VEe(t,e){t.uniform2uiv(this.addr,e)}function HEe(t,e){t.uniform3uiv(this.addr,e)}function GEe(t,e){t.uniform4uiv(this.addr,e)}function qEe(t,e,n){const i=this.cache,r=e.length,a=pA(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Br(i,a));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||Iq,a[s])}function XEe(t,e,n){const i=this.cache,r=e.length,a=pA(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Br(i,a));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||Bq,a[s])}function WEe(t,e,n){const i=this.cache,r=e.length,a=pA(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Br(i,a));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||jq,a[s])}function YEe(t,e,n){const i=this.cache,r=e.length,a=pA(n,r);zr(i,a)||(t.uniform1iv(this.addr,a),Br(i,a));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||zq,a[s])}function KEe(t){switch(t){case 5126:return OEe;case 35664:return DEe;case 35665:return NEe;case 35666:return PEe;case 35674:return LEe;case 35675:return UEe;case 35676:return IEe;case 5124:case 35670:return zEe;case 35667:case 35671:return BEe;case 35668:case 35672:return jEe;case 35669:case 35673:return FEe;case 5125:return kEe;case 36294:return VEe;case 36295:return HEe;case 36296:return GEe;case 35678:case 36198:case 36298:case 36306:case 35682:return qEe;case 35679:case 36299:case 36307:return XEe;case 35680:case 36300:case 36308:case 36293:return WEe;case 36289:case 36303:case 36311:case 36292:return YEe}}class $Ee{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=REe(n.type)}}class ZEe{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=KEe(n.type)}}class QEe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,n[o.id],i)}}}const nC=/(\w+)(\])?(\[|\.)?/g;function Tj(t,e){t.seq.push(e),t.map[e.id]=e}function JEe(t,e,n){const i=t.name,r=i.length;for(nC.lastIndex=0;;){const a=nC.exec(i),s=nC.lastIndex;let o=a[1];const c=a[2]==="]",f=a[3];if(c&&(o=o|0),f===void 0||f==="["&&s+2===r){Tj(n,f===void 0?new $Ee(o,t,e):new ZEe(o,t,e));break}else{let m=n.map[o];m===void 0&&(m=new QEe(o),Tj(n,m)),n=m}}}class qS{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),s=e.getUniformLocation(n,a.name);JEe(a,s,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,s=n.length;a!==s;++a){const o=n[a],c=i[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function Cj(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const ewe=37297;let twe=0;function nwe(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${n[s]}`)}return i.join(`
`)}const Rj=new cn;function iwe(t){Nn._getMatrix(Rj,Nn.workingColorSpace,t);const e=`mat3( ${Rj.elements.map(n=>n.toFixed(4))} )`;switch(Nn.getTransfer(t)){case Px:return[e,"LinearTransferOETF"];case Jn:return[e,"sRGBTransferOETF"];default:return bt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function Oj(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+a+`

`+nwe(t.getShaderSource(e),o)}else return a}function rwe(t,e){const n=iwe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function awe(t,e){let n;switch(e){case uG:n="Linear";break;case fG:n="Reinhard";break;case dG:n="Cineon";break;case zN:n="ACESFilmic";break;case pG:n="AgX";break;case mG:n="Neutral";break;case hG:n="Custom";break;default:bt("WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const bS=new te;function swe(){Nn.getLuminanceCoefficients(bS);const t=bS.x.toFixed(4),e=bS.y.toFixed(4),n=bS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function owe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Iy).join(`
`)}function lwe(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function cwe(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),s=a.name;let o=1;a.type===t.FLOAT_MAT2&&(o=2),a.type===t.FLOAT_MAT3&&(o=3),a.type===t.FLOAT_MAT4&&(o=4),n[s]={type:a.type,location:t.getAttribLocation(e,s),locationSize:o}}return n}function Iy(t){return t!==""}function Dj(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Nj(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const uwe=/^[ \t]*#include +<([\w\d./]+)>/gm;function uO(t){return t.replace(uwe,dwe)}const fwe=new Map;function dwe(t,e){let n=yn[e];if(n===void 0){const i=fwe.get(e);if(i!==void 0)n=yn[i],bt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return uO(n)}const hwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Pj(t){return t.replace(hwe,pwe)}function pwe(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Lj(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function mwe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Lw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Yy?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===kl&&(e="SHADOWMAP_TYPE_VSM"),e}function gwe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case sf:case zd:e="ENVMAP_TYPE_CUBE";break;case Lg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function vwe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case zd:e="ENVMAP_MODE_REFRACTION";break}return e}function ywe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Sb:e="ENVMAP_BLENDING_MULTIPLY";break;case lG:e="ENVMAP_BLENDING_MIX";break;case cG:e="ENVMAP_BLENDING_ADD";break}return e}function xwe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function bwe(t,e,n,i){const r=t.getContext(),a=n.defines;let s=n.vertexShader,o=n.fragmentShader;const c=mwe(n),f=gwe(n),d=vwe(n),m=ywe(n),v=xwe(n),y=owe(n),_=lwe(a),E=r.createProgram();let S,M,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Iy).join(`
`),S.length>0&&(S+=`
`),M=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Iy).join(`
`),M.length>0&&(M+=`
`)):(S=[Lj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Iy).join(`
`),M=[Lj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+m:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==qc?"#define TONE_MAPPING":"",n.toneMapping!==qc?yn.tonemapping_pars_fragment:"",n.toneMapping!==qc?awe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",yn.colorspace_pars_fragment,rwe("linearToOutputTexel",n.outputColorSpace),swe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Iy).join(`
`)),s=uO(s),s=Dj(s,n),s=Nj(s,n),o=uO(o),o=Dj(o,n),o=Nj(o,n),s=Pj(s),o=Pj(o),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,S=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,M=["#define varying in",n.glslVersion===eO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===eO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const T=C+S+s,L=C+M+o,P=Cj(r,r.VERTEX_SHADER,T),N=Cj(r,r.FRAGMENT_SHADER,L);r.attachShader(E,P),r.attachShader(E,N),n.index0AttributeName!==void 0?r.bindAttribLocation(E,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E);function z(k){if(t.debug.checkShaderErrors){const Z=r.getProgramInfoLog(E)||"",ee=r.getShaderInfoLog(P)||"",re=r.getShaderInfoLog(N)||"",ae=Z.trim(),H=ee.trim(),X=re.trim();let K=!0,ne=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,E,P,N);else{const q=Oj(r,P,"vertex"),se=Oj(r,N,"fragment");en("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+ae+`
`+q+`
`+se)}else ae!==""?bt("WebGLProgram: Program Info Log:",ae):(H===""||X==="")&&(ne=!1);ne&&(k.diagnostics={runnable:K,programLog:ae,vertexShader:{log:H,prefix:S},fragmentShader:{log:X,prefix:M}})}r.deleteShader(P),r.deleteShader(N),F=new qS(r,E),I=cwe(r,E)}let F;this.getUniforms=function(){return F===void 0&&z(this),F};let I;this.getAttributes=function(){return I===void 0&&z(this),I};let j=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return j===!1&&(j=r.getProgramParameter(E,ewe)),j},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=twe++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=P,this.fragmentShader=N,this}let _we=0;class Swe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Mwe(e),n.set(e,i)),i}}class Mwe{constructor(e){this.id=_we++,this.code=e,this.usedTimes=0}}function Ewe(t,e,n,i,r,a,s){const o=new dg,c=new Swe,f=new Set,d=[],m=r.logarithmicDepthBuffer,v=r.vertexTextures;let y=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(I){return f.add(I),I===0?"uv":`uv${I}`}function S(I,j,k,Z,ee){const re=Z.fog,ae=ee.geometry,H=I.isMeshStandardMaterial?Z.environment:null,X=(I.isMeshStandardMaterial?n:e).get(I.envMap||H),K=X&&X.mapping===Lg?X.image.height:null,ne=_[I.type];I.precision!==null&&(y=r.getMaxPrecision(I.precision),y!==I.precision&&bt("WebGLProgram.getParameters:",I.precision,"not supported, using",y,"instead."));const q=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,se=q!==void 0?q.length:0;let ge=0;ae.morphAttributes.position!==void 0&&(ge=1),ae.morphAttributes.normal!==void 0&&(ge=2),ae.morphAttributes.color!==void 0&&(ge=3);let _e,Ae,Qe,pe;if(ne){const fn=Vl[ne];_e=fn.vertexShader,Ae=fn.fragmentShader}else _e=I.vertexShader,Ae=I.fragmentShader,c.update(I),Qe=c.getVertexShaderID(I),pe=c.getFragmentShaderID(I);const Le=t.getRenderTarget(),Ye=t.state.buffers.depth.getReversed(),xe=ee.isInstancedMesh===!0,Ge=ee.isBatchedMesh===!0,$e=!!I.map,Ue=!!I.matcap,ut=!!X,De=!!I.aoMap,Q=!!I.lightMap,Fe=!!I.bumpMap,je=!!I.normalMap,at=!!I.displacementMap,Ze=!!I.emissiveMap,dt=!!I.metalnessMap,ot=!!I.roughnessMap,vt=I.anisotropy>0,J=I.clearcoat>0,G=I.dispersion>0,ye=I.iridescence>0,Ie=I.sheen>0,ze=I.transmission>0,Oe=vt&&!!I.anisotropyMap,mt=J&&!!I.clearcoatMap,ht=J&&!!I.clearcoatNormalMap,Dt=J&&!!I.clearcoatRoughnessMap,wt=ye&&!!I.iridescenceMap,We=ye&&!!I.iridescenceThicknessMap,nt=Ie&&!!I.sheenColorMap,At=Ie&&!!I.sheenRoughnessMap,ce=!!I.specularMap,Me=!!I.specularColorMap,Je=!!I.specularIntensityMap,ie=ze&&!!I.transmissionMap,et=ze&&!!I.thicknessMap,it=!!I.gradientMap,rt=!!I.alphaMap,tt=I.alphaTest>0,qe=!!I.alphaHash,gt=!!I.extensions;let Ot=qc;I.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(Ot=t.toneMapping);const mn={shaderID:ne,shaderType:I.type,shaderName:I.name,vertexShader:_e,fragmentShader:Ae,defines:I.defines,customVertexShaderID:Qe,customFragmentShaderID:pe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:y,batching:Ge,batchingColor:Ge&&ee._colorsTexture!==null,instancing:xe,instancingColor:xe&&ee.instanceColor!==null,instancingMorph:xe&&ee.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Le===null?t.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:Bd,alphaToCoverage:!!I.alphaToCoverage,map:$e,matcap:Ue,envMap:ut,envMapMode:ut&&X.mapping,envMapCubeUVHeight:K,aoMap:De,lightMap:Q,bumpMap:Fe,normalMap:je,displacementMap:v&&at,emissiveMap:Ze,normalMapObjectSpace:je&&I.normalMapType===SG,normalMapTangentSpace:je&&I.normalMapType===Yd,metalnessMap:dt,roughnessMap:ot,anisotropy:vt,anisotropyMap:Oe,clearcoat:J,clearcoatMap:mt,clearcoatNormalMap:ht,clearcoatRoughnessMap:Dt,dispersion:G,iridescence:ye,iridescenceMap:wt,iridescenceThicknessMap:We,sheen:Ie,sheenColorMap:nt,sheenRoughnessMap:At,specularMap:ce,specularColorMap:Me,specularIntensityMap:Je,transmission:ze,transmissionMap:ie,thicknessMap:et,gradientMap:it,opaque:I.transparent===!1&&I.blending===Pp&&I.alphaToCoverage===!1,alphaMap:rt,alphaTest:tt,alphaHash:qe,combine:I.combine,mapUv:$e&&E(I.map.channel),aoMapUv:De&&E(I.aoMap.channel),lightMapUv:Q&&E(I.lightMap.channel),bumpMapUv:Fe&&E(I.bumpMap.channel),normalMapUv:je&&E(I.normalMap.channel),displacementMapUv:at&&E(I.displacementMap.channel),emissiveMapUv:Ze&&E(I.emissiveMap.channel),metalnessMapUv:dt&&E(I.metalnessMap.channel),roughnessMapUv:ot&&E(I.roughnessMap.channel),anisotropyMapUv:Oe&&E(I.anisotropyMap.channel),clearcoatMapUv:mt&&E(I.clearcoatMap.channel),clearcoatNormalMapUv:ht&&E(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Dt&&E(I.clearcoatRoughnessMap.channel),iridescenceMapUv:wt&&E(I.iridescenceMap.channel),iridescenceThicknessMapUv:We&&E(I.iridescenceThicknessMap.channel),sheenColorMapUv:nt&&E(I.sheenColorMap.channel),sheenRoughnessMapUv:At&&E(I.sheenRoughnessMap.channel),specularMapUv:ce&&E(I.specularMap.channel),specularColorMapUv:Me&&E(I.specularColorMap.channel),specularIntensityMapUv:Je&&E(I.specularIntensityMap.channel),transmissionMapUv:ie&&E(I.transmissionMap.channel),thicknessMapUv:et&&E(I.thicknessMap.channel),alphaMapUv:rt&&E(I.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(je||vt),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!ae.attributes.uv&&($e||rt),fog:!!re,useFog:I.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:m,reversedDepthBuffer:Ye,skinning:ee.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:ge,numDirLights:j.directional.length,numPointLights:j.point.length,numSpotLights:j.spot.length,numSpotLightMaps:j.spotLightMap.length,numRectAreaLights:j.rectArea.length,numHemiLights:j.hemi.length,numDirLightShadows:j.directionalShadowMap.length,numPointLightShadows:j.pointShadowMap.length,numSpotLightShadows:j.spotShadowMap.length,numSpotLightShadowsWithMaps:j.numSpotLightShadowsWithMaps,numLightProbes:j.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ot,decodeVideoTexture:$e&&I.map.isVideoTexture===!0&&Nn.getTransfer(I.map.colorSpace)===Jn,decodeVideoTextureEmissive:Ze&&I.emissiveMap.isVideoTexture===!0&&Nn.getTransfer(I.emissiveMap.colorSpace)===Jn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===ql,flipSided:I.side===hs,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:gt&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(gt&&I.extensions.multiDraw===!0||Ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return mn.vertexUv1s=f.has(1),mn.vertexUv2s=f.has(2),mn.vertexUv3s=f.has(3),f.clear(),mn}function M(I){const j=[];if(I.shaderID?j.push(I.shaderID):(j.push(I.customVertexShaderID),j.push(I.customFragmentShaderID)),I.defines!==void 0)for(const k in I.defines)j.push(k),j.push(I.defines[k]);return I.isRawShaderMaterial===!1&&(C(j,I),T(j,I),j.push(t.outputColorSpace)),j.push(I.customProgramCacheKey),j.join()}function C(I,j){I.push(j.precision),I.push(j.outputColorSpace),I.push(j.envMapMode),I.push(j.envMapCubeUVHeight),I.push(j.mapUv),I.push(j.alphaMapUv),I.push(j.lightMapUv),I.push(j.aoMapUv),I.push(j.bumpMapUv),I.push(j.normalMapUv),I.push(j.displacementMapUv),I.push(j.emissiveMapUv),I.push(j.metalnessMapUv),I.push(j.roughnessMapUv),I.push(j.anisotropyMapUv),I.push(j.clearcoatMapUv),I.push(j.clearcoatNormalMapUv),I.push(j.clearcoatRoughnessMapUv),I.push(j.iridescenceMapUv),I.push(j.iridescenceThicknessMapUv),I.push(j.sheenColorMapUv),I.push(j.sheenRoughnessMapUv),I.push(j.specularMapUv),I.push(j.specularColorMapUv),I.push(j.specularIntensityMapUv),I.push(j.transmissionMapUv),I.push(j.thicknessMapUv),I.push(j.combine),I.push(j.fogExp2),I.push(j.sizeAttenuation),I.push(j.morphTargetsCount),I.push(j.morphAttributeCount),I.push(j.numDirLights),I.push(j.numPointLights),I.push(j.numSpotLights),I.push(j.numSpotLightMaps),I.push(j.numHemiLights),I.push(j.numRectAreaLights),I.push(j.numDirLightShadows),I.push(j.numPointLightShadows),I.push(j.numSpotLightShadows),I.push(j.numSpotLightShadowsWithMaps),I.push(j.numLightProbes),I.push(j.shadowMapType),I.push(j.toneMapping),I.push(j.numClippingPlanes),I.push(j.numClipIntersection),I.push(j.depthPacking)}function T(I,j){o.disableAll(),j.supportsVertexTextures&&o.enable(0),j.instancing&&o.enable(1),j.instancingColor&&o.enable(2),j.instancingMorph&&o.enable(3),j.matcap&&o.enable(4),j.envMap&&o.enable(5),j.normalMapObjectSpace&&o.enable(6),j.normalMapTangentSpace&&o.enable(7),j.clearcoat&&o.enable(8),j.iridescence&&o.enable(9),j.alphaTest&&o.enable(10),j.vertexColors&&o.enable(11),j.vertexAlphas&&o.enable(12),j.vertexUv1s&&o.enable(13),j.vertexUv2s&&o.enable(14),j.vertexUv3s&&o.enable(15),j.vertexTangents&&o.enable(16),j.anisotropy&&o.enable(17),j.alphaHash&&o.enable(18),j.batching&&o.enable(19),j.dispersion&&o.enable(20),j.batchingColor&&o.enable(21),j.gradientMap&&o.enable(22),I.push(o.mask),o.disableAll(),j.fog&&o.enable(0),j.useFog&&o.enable(1),j.flatShading&&o.enable(2),j.logarithmicDepthBuffer&&o.enable(3),j.reversedDepthBuffer&&o.enable(4),j.skinning&&o.enable(5),j.morphTargets&&o.enable(6),j.morphNormals&&o.enable(7),j.morphColors&&o.enable(8),j.premultipliedAlpha&&o.enable(9),j.shadowMapEnabled&&o.enable(10),j.doubleSided&&o.enable(11),j.flipSided&&o.enable(12),j.useDepthPacking&&o.enable(13),j.dithering&&o.enable(14),j.transmission&&o.enable(15),j.sheen&&o.enable(16),j.opaque&&o.enable(17),j.pointsUvs&&o.enable(18),j.decodeVideoTexture&&o.enable(19),j.decodeVideoTextureEmissive&&o.enable(20),j.alphaToCoverage&&o.enable(21),I.push(o.mask)}function L(I){const j=_[I.type];let k;if(j){const Z=Vl[j];k=UG.clone(Z.uniforms)}else k=I.uniforms;return k}function P(I,j){let k;for(let Z=0,ee=d.length;Z<ee;Z++){const re=d[Z];if(re.cacheKey===j){k=re,++k.usedTimes;break}}return k===void 0&&(k=new bwe(t,j,I,a),d.push(k)),k}function N(I){if(--I.usedTimes===0){const j=d.indexOf(I);d[j]=d[d.length-1],d.pop(),I.destroy()}}function z(I){c.remove(I)}function F(){c.dispose()}return{getParameters:S,getProgramCacheKey:M,getUniforms:L,acquireProgram:P,releaseProgram:N,releaseShaderCache:z,programs:d,dispose:F}}function wwe(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function i(s){t.delete(s)}function r(s,o,c){t.get(s)[o]=c}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function Awe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Uj(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ij(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function s(m,v,y,_,E,S){let M=t[e];return M===void 0?(M={id:m.id,object:m,geometry:v,material:y,groupOrder:_,renderOrder:m.renderOrder,z:E,group:S},t[e]=M):(M.id=m.id,M.object=m,M.geometry=v,M.material=y,M.groupOrder=_,M.renderOrder=m.renderOrder,M.z=E,M.group=S),e++,M}function o(m,v,y,_,E,S){const M=s(m,v,y,_,E,S);y.transmission>0?i.push(M):y.transparent===!0?r.push(M):n.push(M)}function c(m,v,y,_,E,S){const M=s(m,v,y,_,E,S);y.transmission>0?i.unshift(M):y.transparent===!0?r.unshift(M):n.unshift(M)}function f(m,v){n.length>1&&n.sort(m||Awe),i.length>1&&i.sort(v||Uj),r.length>1&&r.sort(v||Uj)}function d(){for(let m=e,v=t.length;m<v;m++){const y=t[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:o,unshift:c,finish:d,sort:f}}function Twe(){let t=new WeakMap;function e(i,r){const a=t.get(i);let s;return a===void 0?(s=new Ij,t.set(i,[s])):r>=a.length?(s=new Ij,a.push(s)):s=a[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Cwe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new Mt};break;case"SpotLight":n={position:new te,direction:new te,color:new Mt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new Mt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new Mt,groundColor:new Mt};break;case"RectAreaLight":n={color:new Mt,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function Rwe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Owe=0;function Dwe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Nwe(t){const e=new Cwe,n=Rwe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new te);const r=new te,a=new Jt,s=new Jt;function o(f){let d=0,m=0,v=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let y=0,_=0,E=0,S=0,M=0,C=0,T=0,L=0,P=0,N=0,z=0;f.sort(Dwe);for(let I=0,j=f.length;I<j;I++){const k=f[I],Z=k.color,ee=k.intensity,re=k.distance,ae=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)d+=Z.r*ee,m+=Z.g*ee,v+=Z.b*ee;else if(k.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(k.sh.coefficients[H],ee);z++}else if(k.isDirectionalLight){const H=e.get(k);if(H.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const X=k.shadow,K=n.get(k);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,i.directionalShadow[y]=K,i.directionalShadowMap[y]=ae,i.directionalShadowMatrix[y]=k.shadow.matrix,C++}i.directional[y]=H,y++}else if(k.isSpotLight){const H=e.get(k);H.position.setFromMatrixPosition(k.matrixWorld),H.color.copy(Z).multiplyScalar(ee),H.distance=re,H.coneCos=Math.cos(k.angle),H.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),H.decay=k.decay,i.spot[E]=H;const X=k.shadow;if(k.map&&(i.spotLightMap[P]=k.map,P++,X.updateMatrices(k),k.castShadow&&N++),i.spotLightMatrix[E]=X.matrix,k.castShadow){const K=n.get(k);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,i.spotShadow[E]=K,i.spotShadowMap[E]=ae,L++}E++}else if(k.isRectAreaLight){const H=e.get(k);H.color.copy(Z).multiplyScalar(ee),H.halfWidth.set(k.width*.5,0,0),H.halfHeight.set(0,k.height*.5,0),i.rectArea[S]=H,S++}else if(k.isPointLight){const H=e.get(k);if(H.color.copy(k.color).multiplyScalar(k.intensity),H.distance=k.distance,H.decay=k.decay,k.castShadow){const X=k.shadow,K=n.get(k);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,K.shadowCameraNear=X.camera.near,K.shadowCameraFar=X.camera.far,i.pointShadow[_]=K,i.pointShadowMap[_]=ae,i.pointShadowMatrix[_]=k.shadow.matrix,T++}i.point[_]=H,_++}else if(k.isHemisphereLight){const H=e.get(k);H.skyColor.copy(k.color).multiplyScalar(ee),H.groundColor.copy(k.groundColor).multiplyScalar(ee),i.hemi[M]=H,M++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=xt.LTC_FLOAT_1,i.rectAreaLTC2=xt.LTC_FLOAT_2):(i.rectAreaLTC1=xt.LTC_HALF_1,i.rectAreaLTC2=xt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=v;const F=i.hash;(F.directionalLength!==y||F.pointLength!==_||F.spotLength!==E||F.rectAreaLength!==S||F.hemiLength!==M||F.numDirectionalShadows!==C||F.numPointShadows!==T||F.numSpotShadows!==L||F.numSpotMaps!==P||F.numLightProbes!==z)&&(i.directional.length=y,i.spot.length=E,i.rectArea.length=S,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=L+P-N,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=z,F.directionalLength=y,F.pointLength=_,F.spotLength=E,F.rectAreaLength=S,F.hemiLength=M,F.numDirectionalShadows=C,F.numPointShadows=T,F.numSpotShadows=L,F.numSpotMaps=P,F.numLightProbes=z,i.version=Owe++)}function c(f,d){let m=0,v=0,y=0,_=0,E=0;const S=d.matrixWorldInverse;for(let M=0,C=f.length;M<C;M++){const T=f[M];if(T.isDirectionalLight){const L=i.directional[m];L.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(S),m++}else if(T.isSpotLight){const L=i.spot[y];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(S),L.direction.setFromMatrixPosition(T.matrixWorld),r.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(S),y++}else if(T.isRectAreaLight){const L=i.rectArea[_];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(S),s.identity(),a.copy(T.matrixWorld),a.premultiply(S),s.extractRotation(a),L.halfWidth.set(T.width*.5,0,0),L.halfHeight.set(0,T.height*.5,0),L.halfWidth.applyMatrix4(s),L.halfHeight.applyMatrix4(s),_++}else if(T.isPointLight){const L=i.point[v];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(S),v++}else if(T.isHemisphereLight){const L=i.hemi[E];L.direction.setFromMatrixPosition(T.matrixWorld),L.direction.transformDirection(S),E++}}}return{setup:o,setupView:c,state:i}}function zj(t){const e=new Nwe(t),n=[],i=[];function r(d){f.camera=d,n.length=0,i.length=0}function a(d){n.push(d)}function s(d){i.push(d)}function o(){e.setup(n)}function c(d){e.setupView(n,d)}const f={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:o,setupLightsView:c,pushLight:a,pushShadow:s}}function Pwe(t){let e=new WeakMap;function n(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new zj(t),e.set(r,[o])):a>=s.length?(o=new zj(t),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:n,dispose:i}}const Lwe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uwe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Iwe(t,e,n){let i=new Ug;const r=new He,a=new He,s=new zn,o=new cP({depthPacking:_G}),c=new uP,f={},d=n.maxTextureSize,m={[af]:hs,[hs]:af,[ql]:ql},v=new rl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:Lwe,fragmentShader:Uwe}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const _=new un;_.setAttribute("position",new ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Ir(_,v),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Lw;let M=this.type;this.render=function(N,z,F){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||N.length===0)return;const I=t.getRenderTarget(),j=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),Z=t.state;Z.setBlending(Gc),Z.buffers.depth.getReversed()===!0?Z.buffers.color.setClear(0,0,0,0):Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);const ee=M!==kl&&this.type===kl,re=M===kl&&this.type!==kl;for(let ae=0,H=N.length;ae<H;ae++){const X=N[ae],K=X.shadow;if(K===void 0){bt("WebGLShadowMap:",X,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;r.copy(K.mapSize);const ne=K.getFrameExtents();if(r.multiply(ne),a.copy(K.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(a.x=Math.floor(d/ne.x),r.x=a.x*ne.x,K.mapSize.x=a.x),r.y>d&&(a.y=Math.floor(d/ne.y),r.y=a.y*ne.y,K.mapSize.y=a.y)),K.map===null||ee===!0||re===!0){const se=this.type!==kl?{minFilter:ma,magFilter:ma}:{};K.map!==null&&K.map.dispose(),K.map=new eu(r.x,r.y,se),K.map.texture.name=X.name+".shadowMap",K.camera.updateProjectionMatrix()}t.setRenderTarget(K.map),t.clear();const q=K.getViewportCount();for(let se=0;se<q;se++){const ge=K.getViewport(se);s.set(a.x*ge.x,a.y*ge.y,a.x*ge.z,a.y*ge.w),Z.viewport(s),K.updateMatrices(X,se),i=K.getFrustum(),L(z,F,K.camera,X,this.type)}K.isPointLightShadow!==!0&&this.type===kl&&C(K,F),K.needsUpdate=!1}M=this.type,S.needsUpdate=!1,t.setRenderTarget(I,j,k)};function C(N,z){const F=e.update(E);v.defines.VSM_SAMPLES!==N.blurSamples&&(v.defines.VSM_SAMPLES=N.blurSamples,y.defines.VSM_SAMPLES=N.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new eu(r.x,r.y)),v.uniforms.shadow_pass.value=N.map.texture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(z,null,F,v,E,null),y.uniforms.shadow_pass.value=N.mapPass.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(z,null,F,y,E,null)}function T(N,z,F,I){let j=null;const k=F.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(k!==void 0)j=k;else if(j=F.isPointLight===!0?c:o,t.localClippingEnabled&&z.clipShadows===!0&&Array.isArray(z.clippingPlanes)&&z.clippingPlanes.length!==0||z.displacementMap&&z.displacementScale!==0||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0||z.alphaToCoverage===!0){const Z=j.uuid,ee=z.uuid;let re=f[Z];re===void 0&&(re={},f[Z]=re);let ae=re[ee];ae===void 0&&(ae=j.clone(),re[ee]=ae,z.addEventListener("dispose",P)),j=ae}if(j.visible=z.visible,j.wireframe=z.wireframe,I===kl?j.side=z.shadowSide!==null?z.shadowSide:z.side:j.side=z.shadowSide!==null?z.shadowSide:m[z.side],j.alphaMap=z.alphaMap,j.alphaTest=z.alphaToCoverage===!0?.5:z.alphaTest,j.map=z.map,j.clipShadows=z.clipShadows,j.clippingPlanes=z.clippingPlanes,j.clipIntersection=z.clipIntersection,j.displacementMap=z.displacementMap,j.displacementScale=z.displacementScale,j.displacementBias=z.displacementBias,j.wireframeLinewidth=z.wireframeLinewidth,j.linewidth=z.linewidth,F.isPointLight===!0&&j.isMeshDistanceMaterial===!0){const Z=t.properties.get(j);Z.light=F}return j}function L(N,z,F,I,j){if(N.visible===!1)return;if(N.layers.test(z.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&j===kl)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,N.matrixWorld);const ee=e.update(N),re=N.material;if(Array.isArray(re)){const ae=ee.groups;for(let H=0,X=ae.length;H<X;H++){const K=ae[H],ne=re[K.materialIndex];if(ne&&ne.visible){const q=T(N,ne,I,j);N.onBeforeShadow(t,N,z,F,ee,q,K),t.renderBufferDirect(F,null,ee,q,N,K),N.onAfterShadow(t,N,z,F,ee,q,K)}}}else if(re.visible){const ae=T(N,re,I,j);N.onBeforeShadow(t,N,z,F,ee,ae,null),t.renderBufferDirect(F,null,ee,ae,N,null),N.onAfterShadow(t,N,z,F,ee,ae,null)}}const Z=N.children;for(let ee=0,re=Z.length;ee<re;ee++)L(Z[ee],z,F,I,j)}function P(N){N.target.removeEventListener("dispose",P);for(const F in f){const I=f[F],j=N.target.uuid;j in I&&(I[j].dispose(),delete I[j])}}}const zwe={[$M]:ZM,[QM]:tE,[JM]:nE,[Hp]:eE,[ZM]:$M,[tE]:QM,[nE]:JM,[eE]:Hp};function Bwe(t,e){function n(){let ie=!1;const et=new zn;let it=null;const rt=new zn(0,0,0,0);return{setMask:function(tt){it!==tt&&!ie&&(t.colorMask(tt,tt,tt,tt),it=tt)},setLocked:function(tt){ie=tt},setClear:function(tt,qe,gt,Ot,mn){mn===!0&&(tt*=Ot,qe*=Ot,gt*=Ot),et.set(tt,qe,gt,Ot),rt.equals(et)===!1&&(t.clearColor(tt,qe,gt,Ot),rt.copy(et))},reset:function(){ie=!1,it=null,rt.set(-1,0,0,0)}}}function i(){let ie=!1,et=!1,it=null,rt=null,tt=null;return{setReversed:function(qe){if(et!==qe){const gt=e.get("EXT_clip_control");qe?gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.ZERO_TO_ONE_EXT):gt.clipControlEXT(gt.LOWER_LEFT_EXT,gt.NEGATIVE_ONE_TO_ONE_EXT),et=qe;const Ot=tt;tt=null,this.setClear(Ot)}},getReversed:function(){return et},setTest:function(qe){qe?Le(t.DEPTH_TEST):Ye(t.DEPTH_TEST)},setMask:function(qe){it!==qe&&!ie&&(t.depthMask(qe),it=qe)},setFunc:function(qe){if(et&&(qe=zwe[qe]),rt!==qe){switch(qe){case $M:t.depthFunc(t.NEVER);break;case ZM:t.depthFunc(t.ALWAYS);break;case QM:t.depthFunc(t.LESS);break;case Hp:t.depthFunc(t.LEQUAL);break;case JM:t.depthFunc(t.EQUAL);break;case eE:t.depthFunc(t.GEQUAL);break;case tE:t.depthFunc(t.GREATER);break;case nE:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}rt=qe}},setLocked:function(qe){ie=qe},setClear:function(qe){tt!==qe&&(et&&(qe=1-qe),t.clearDepth(qe),tt=qe)},reset:function(){ie=!1,it=null,rt=null,tt=null,et=!1}}}function r(){let ie=!1,et=null,it=null,rt=null,tt=null,qe=null,gt=null,Ot=null,mn=null;return{setTest:function(fn){ie||(fn?Le(t.STENCIL_TEST):Ye(t.STENCIL_TEST))},setMask:function(fn){et!==fn&&!ie&&(t.stencilMask(fn),et=fn)},setFunc:function(fn,tr,ti){(it!==fn||rt!==tr||tt!==ti)&&(t.stencilFunc(fn,tr,ti),it=fn,rt=tr,tt=ti)},setOp:function(fn,tr,ti){(qe!==fn||gt!==tr||Ot!==ti)&&(t.stencilOp(fn,tr,ti),qe=fn,gt=tr,Ot=ti)},setLocked:function(fn){ie=fn},setClear:function(fn){mn!==fn&&(t.clearStencil(fn),mn=fn)},reset:function(){ie=!1,et=null,it=null,rt=null,tt=null,qe=null,gt=null,Ot=null,mn=null}}}const a=new n,s=new i,o=new r,c=new WeakMap,f=new WeakMap;let d={},m={},v=new WeakMap,y=[],_=null,E=!1,S=null,M=null,C=null,T=null,L=null,P=null,N=null,z=new Mt(0,0,0),F=0,I=!1,j=null,k=null,Z=null,ee=null,re=null;const ae=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,X=0;const K=t.getParameter(t.VERSION);K.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(K)[1]),H=X>=1):K.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),H=X>=2);let ne=null,q={};const se=t.getParameter(t.SCISSOR_BOX),ge=t.getParameter(t.VIEWPORT),_e=new zn().fromArray(se),Ae=new zn().fromArray(ge);function Qe(ie,et,it,rt){const tt=new Uint8Array(4),qe=t.createTexture();t.bindTexture(ie,qe),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let gt=0;gt<it;gt++)ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY?t.texImage3D(et,0,t.RGBA,1,1,rt,0,t.RGBA,t.UNSIGNED_BYTE,tt):t.texImage2D(et+gt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,tt);return qe}const pe={};pe[t.TEXTURE_2D]=Qe(t.TEXTURE_2D,t.TEXTURE_2D,1),pe[t.TEXTURE_CUBE_MAP]=Qe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[t.TEXTURE_2D_ARRAY]=Qe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),pe[t.TEXTURE_3D]=Qe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Le(t.DEPTH_TEST),s.setFunc(Hp),Fe(!1),je(YR),Le(t.CULL_FACE),De(Gc);function Le(ie){d[ie]!==!0&&(t.enable(ie),d[ie]=!0)}function Ye(ie){d[ie]!==!1&&(t.disable(ie),d[ie]=!1)}function xe(ie,et){return m[ie]!==et?(t.bindFramebuffer(ie,et),m[ie]=et,ie===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=et),ie===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=et),!0):!1}function Ge(ie,et){let it=y,rt=!1;if(ie){it=v.get(et),it===void 0&&(it=[],v.set(et,it));const tt=ie.textures;if(it.length!==tt.length||it[0]!==t.COLOR_ATTACHMENT0){for(let qe=0,gt=tt.length;qe<gt;qe++)it[qe]=t.COLOR_ATTACHMENT0+qe;it.length=tt.length,rt=!0}}else it[0]!==t.BACK&&(it[0]=t.BACK,rt=!0);rt&&t.drawBuffers(it)}function $e(ie){return _!==ie?(t.useProgram(ie),_=ie,!0):!1}const Ue={[Td]:t.FUNC_ADD,[q7]:t.FUNC_SUBTRACT,[X7]:t.FUNC_REVERSE_SUBTRACT};Ue[W7]=t.MIN,Ue[Y7]=t.MAX;const ut={[K7]:t.ZERO,[$7]:t.ONE,[Z7]:t.SRC_COLOR,[YM]:t.SRC_ALPHA,[iG]:t.SRC_ALPHA_SATURATE,[tG]:t.DST_COLOR,[J7]:t.DST_ALPHA,[Q7]:t.ONE_MINUS_SRC_COLOR,[KM]:t.ONE_MINUS_SRC_ALPHA,[nG]:t.ONE_MINUS_DST_COLOR,[eG]:t.ONE_MINUS_DST_ALPHA,[rG]:t.CONSTANT_COLOR,[aG]:t.ONE_MINUS_CONSTANT_COLOR,[sG]:t.CONSTANT_ALPHA,[oG]:t.ONE_MINUS_CONSTANT_ALPHA};function De(ie,et,it,rt,tt,qe,gt,Ot,mn,fn){if(ie===Gc){E===!0&&(Ye(t.BLEND),E=!1);return}if(E===!1&&(Le(t.BLEND),E=!0),ie!==G7){if(ie!==S||fn!==I){if((M!==Td||L!==Td)&&(t.blendEquation(t.FUNC_ADD),M=Td,L=Td),fn)switch(ie){case Pp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case KR:t.blendFunc(t.ONE,t.ONE);break;case $R:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ZR:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:en("WebGLState: Invalid blending: ",ie);break}else switch(ie){case Pp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case KR:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case $R:en("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case ZR:en("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:en("WebGLState: Invalid blending: ",ie);break}C=null,T=null,P=null,N=null,z.set(0,0,0),F=0,S=ie,I=fn}return}tt=tt||et,qe=qe||it,gt=gt||rt,(et!==M||tt!==L)&&(t.blendEquationSeparate(Ue[et],Ue[tt]),M=et,L=tt),(it!==C||rt!==T||qe!==P||gt!==N)&&(t.blendFuncSeparate(ut[it],ut[rt],ut[qe],ut[gt]),C=it,T=rt,P=qe,N=gt),(Ot.equals(z)===!1||mn!==F)&&(t.blendColor(Ot.r,Ot.g,Ot.b,mn),z.copy(Ot),F=mn),S=ie,I=!1}function Q(ie,et){ie.side===ql?Ye(t.CULL_FACE):Le(t.CULL_FACE);let it=ie.side===hs;et&&(it=!it),Fe(it),ie.blending===Pp&&ie.transparent===!1?De(Gc):De(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.blendColor,ie.blendAlpha,ie.premultipliedAlpha),s.setFunc(ie.depthFunc),s.setTest(ie.depthTest),s.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const rt=ie.stencilWrite;o.setTest(rt),rt&&(o.setMask(ie.stencilWriteMask),o.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),o.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),Ze(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?Le(t.SAMPLE_ALPHA_TO_COVERAGE):Ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function Fe(ie){j!==ie&&(ie?t.frontFace(t.CW):t.frontFace(t.CCW),j=ie)}function je(ie){ie!==k7?(Le(t.CULL_FACE),ie!==k&&(ie===YR?t.cullFace(t.BACK):ie===V7?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ye(t.CULL_FACE),k=ie}function at(ie){ie!==Z&&(H&&t.lineWidth(ie),Z=ie)}function Ze(ie,et,it){ie?(Le(t.POLYGON_OFFSET_FILL),(ee!==et||re!==it)&&(t.polygonOffset(et,it),ee=et,re=it)):Ye(t.POLYGON_OFFSET_FILL)}function dt(ie){ie?Le(t.SCISSOR_TEST):Ye(t.SCISSOR_TEST)}function ot(ie){ie===void 0&&(ie=t.TEXTURE0+ae-1),ne!==ie&&(t.activeTexture(ie),ne=ie)}function vt(ie,et,it){it===void 0&&(ne===null?it=t.TEXTURE0+ae-1:it=ne);let rt=q[it];rt===void 0&&(rt={type:void 0,texture:void 0},q[it]=rt),(rt.type!==ie||rt.texture!==et)&&(ne!==it&&(t.activeTexture(it),ne=it),t.bindTexture(ie,et||pe[ie]),rt.type=ie,rt.texture=et)}function J(){const ie=q[ne];ie!==void 0&&ie.type!==void 0&&(t.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function G(){try{t.compressedTexImage2D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function ye(){try{t.compressedTexImage3D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function Ie(){try{t.texSubImage2D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function ze(){try{t.texSubImage3D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function Oe(){try{t.compressedTexSubImage2D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function mt(){try{t.compressedTexSubImage3D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function ht(){try{t.texStorage2D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function Dt(){try{t.texStorage3D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function wt(){try{t.texImage2D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function We(){try{t.texImage3D(...arguments)}catch(ie){ie("WebGLState:",ie)}}function nt(ie){_e.equals(ie)===!1&&(t.scissor(ie.x,ie.y,ie.z,ie.w),_e.copy(ie))}function At(ie){Ae.equals(ie)===!1&&(t.viewport(ie.x,ie.y,ie.z,ie.w),Ae.copy(ie))}function ce(ie,et){let it=f.get(et);it===void 0&&(it=new WeakMap,f.set(et,it));let rt=it.get(ie);rt===void 0&&(rt=t.getUniformBlockIndex(et,ie.name),it.set(ie,rt))}function Me(ie,et){const rt=f.get(et).get(ie);c.get(et)!==rt&&(t.uniformBlockBinding(et,rt,ie.__bindingPointIndex),c.set(et,rt))}function Je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},ne=null,q={},m={},v=new WeakMap,y=[],_=null,E=!1,S=null,M=null,C=null,T=null,L=null,P=null,N=null,z=new Mt(0,0,0),F=0,I=!1,j=null,k=null,Z=null,ee=null,re=null,_e.set(0,0,t.canvas.width,t.canvas.height),Ae.set(0,0,t.canvas.width,t.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:Le,disable:Ye,bindFramebuffer:xe,drawBuffers:Ge,useProgram:$e,setBlending:De,setMaterial:Q,setFlipSided:Fe,setCullFace:je,setLineWidth:at,setPolygonOffset:Ze,setScissorTest:dt,activeTexture:ot,bindTexture:vt,unbindTexture:J,compressedTexImage2D:G,compressedTexImage3D:ye,texImage2D:wt,texImage3D:We,updateUBOMapping:ce,uniformBlockBinding:Me,texStorage2D:ht,texStorage3D:Dt,texSubImage2D:Ie,texSubImage3D:ze,compressedTexSubImage2D:Oe,compressedTexSubImage3D:mt,scissor:nt,viewport:At,reset:Je}}function jwe(t,e,n,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new He,d=new WeakMap;let m;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(J,G){return y?new OffscreenCanvas(J,G):Ux("canvas")}function E(J,G,ye){let Ie=1;const ze=vt(J);if((ze.width>ye||ze.height>ye)&&(Ie=ye/Math.max(ze.width,ze.height)),Ie<1)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap||typeof VideoFrame<"u"&&J instanceof VideoFrame){const Oe=Math.floor(Ie*ze.width),mt=Math.floor(Ie*ze.height);m===void 0&&(m=_(Oe,mt));const ht=G?_(Oe,mt):m;return ht.width=Oe,ht.height=mt,ht.getContext("2d").drawImage(J,0,0,Oe,mt),bt("WebGLRenderer: Texture has been resized from ("+ze.width+"x"+ze.height+") to ("+Oe+"x"+mt+")."),ht}else return"data"in J&&bt("WebGLRenderer: Image in DataTexture is too big ("+ze.width+"x"+ze.height+")."),J;return J}function S(J){return J.generateMipmaps}function M(J){t.generateMipmap(J)}function C(J){return J.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:J.isWebGL3DRenderTarget?t.TEXTURE_3D:J.isWebGLArrayRenderTarget||J.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(J,G,ye,Ie,ze=!1){if(J!==null){if(t[J]!==void 0)return t[J];bt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Oe=G;if(G===t.RED&&(ye===t.FLOAT&&(Oe=t.R32F),ye===t.HALF_FLOAT&&(Oe=t.R16F),ye===t.UNSIGNED_BYTE&&(Oe=t.R8)),G===t.RED_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.R8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.R16UI),ye===t.UNSIGNED_INT&&(Oe=t.R32UI),ye===t.BYTE&&(Oe=t.R8I),ye===t.SHORT&&(Oe=t.R16I),ye===t.INT&&(Oe=t.R32I)),G===t.RG&&(ye===t.FLOAT&&(Oe=t.RG32F),ye===t.HALF_FLOAT&&(Oe=t.RG16F),ye===t.UNSIGNED_BYTE&&(Oe=t.RG8)),G===t.RG_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RG8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RG16UI),ye===t.UNSIGNED_INT&&(Oe=t.RG32UI),ye===t.BYTE&&(Oe=t.RG8I),ye===t.SHORT&&(Oe=t.RG16I),ye===t.INT&&(Oe=t.RG32I)),G===t.RGB_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RGB8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RGB16UI),ye===t.UNSIGNED_INT&&(Oe=t.RGB32UI),ye===t.BYTE&&(Oe=t.RGB8I),ye===t.SHORT&&(Oe=t.RGB16I),ye===t.INT&&(Oe=t.RGB32I)),G===t.RGBA_INTEGER&&(ye===t.UNSIGNED_BYTE&&(Oe=t.RGBA8UI),ye===t.UNSIGNED_SHORT&&(Oe=t.RGBA16UI),ye===t.UNSIGNED_INT&&(Oe=t.RGBA32UI),ye===t.BYTE&&(Oe=t.RGBA8I),ye===t.SHORT&&(Oe=t.RGBA16I),ye===t.INT&&(Oe=t.RGBA32I)),G===t.RGB&&(ye===t.UNSIGNED_INT_5_9_9_9_REV&&(Oe=t.RGB9_E5),ye===t.UNSIGNED_INT_10F_11F_11F_REV&&(Oe=t.R11F_G11F_B10F)),G===t.RGBA){const mt=ze?Px:Nn.getTransfer(Ie);ye===t.FLOAT&&(Oe=t.RGBA32F),ye===t.HALF_FLOAT&&(Oe=t.RGBA16F),ye===t.UNSIGNED_BYTE&&(Oe=mt===Jn?t.SRGB8_ALPHA8:t.RGBA8),ye===t.UNSIGNED_SHORT_4_4_4_4&&(Oe=t.RGBA4),ye===t.UNSIGNED_SHORT_5_5_5_1&&(Oe=t.RGB5_A1)}return(Oe===t.R16F||Oe===t.R32F||Oe===t.RG16F||Oe===t.RG32F||Oe===t.RGBA16F||Oe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function L(J,G){let ye;return J?G===null||G===of||G===sg?ye=t.DEPTH24_STENCIL8:G===Vs?ye=t.DEPTH32F_STENCIL8:G===ag&&(ye=t.DEPTH24_STENCIL8,bt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===of||G===sg?ye=t.DEPTH_COMPONENT24:G===Vs?ye=t.DEPTH_COMPONENT32F:G===ag&&(ye=t.DEPTH_COMPONENT16),ye}function P(J,G){return S(J)===!0||J.isFramebufferTexture&&J.minFilter!==ma&&J.minFilter!==dr?Math.log2(Math.max(G.width,G.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?G.mipmaps.length:1}function N(J){const G=J.target;G.removeEventListener("dispose",N),F(G),G.isVideoTexture&&d.delete(G)}function z(J){const G=J.target;G.removeEventListener("dispose",z),j(G)}function F(J){const G=i.get(J);if(G.__webglInit===void 0)return;const ye=J.source,Ie=v.get(ye);if(Ie){const ze=Ie[G.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&I(J),Object.keys(Ie).length===0&&v.delete(ye)}i.remove(J)}function I(J){const G=i.get(J);t.deleteTexture(G.__webglTexture);const ye=J.source,Ie=v.get(ye);delete Ie[G.__cacheKey],s.memory.textures--}function j(J){const G=i.get(J);if(J.depthTexture&&(J.depthTexture.dispose(),i.remove(J.depthTexture)),J.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++){if(Array.isArray(G.__webglFramebuffer[Ie]))for(let ze=0;ze<G.__webglFramebuffer[Ie].length;ze++)t.deleteFramebuffer(G.__webglFramebuffer[Ie][ze]);else t.deleteFramebuffer(G.__webglFramebuffer[Ie]);G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer[Ie])}else{if(Array.isArray(G.__webglFramebuffer))for(let Ie=0;Ie<G.__webglFramebuffer.length;Ie++)t.deleteFramebuffer(G.__webglFramebuffer[Ie]);else t.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&t.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Ie=0;Ie<G.__webglColorRenderbuffer.length;Ie++)G.__webglColorRenderbuffer[Ie]&&t.deleteRenderbuffer(G.__webglColorRenderbuffer[Ie]);G.__webglDepthRenderbuffer&&t.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const ye=J.textures;for(let Ie=0,ze=ye.length;Ie<ze;Ie++){const Oe=i.get(ye[Ie]);Oe.__webglTexture&&(t.deleteTexture(Oe.__webglTexture),s.memory.textures--),i.remove(ye[Ie])}i.remove(J)}let k=0;function Z(){k=0}function ee(){const J=k;return J>=r.maxTextures&&bt("WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+r.maxTextures),k+=1,J}function re(J){const G=[];return G.push(J.wrapS),G.push(J.wrapT),G.push(J.wrapR||0),G.push(J.magFilter),G.push(J.minFilter),G.push(J.anisotropy),G.push(J.internalFormat),G.push(J.format),G.push(J.type),G.push(J.generateMipmaps),G.push(J.premultiplyAlpha),G.push(J.flipY),G.push(J.unpackAlignment),G.push(J.colorSpace),G.join()}function ae(J,G){const ye=i.get(J);if(J.isVideoTexture&&dt(J),J.isRenderTargetTexture===!1&&J.isExternalTexture!==!0&&J.version>0&&ye.__version!==J.version){const Ie=J.image;if(Ie===null)bt("WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)bt("WebGLRenderer: Texture marked for update but image is incomplete");else{pe(ye,J,G);return}}else J.isExternalTexture&&(ye.__webglTexture=J.sourceTexture?J.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ye.__webglTexture,t.TEXTURE0+G)}function H(J,G){const ye=i.get(J);if(J.isRenderTargetTexture===!1&&J.version>0&&ye.__version!==J.version){pe(ye,J,G);return}else J.isExternalTexture&&(ye.__webglTexture=J.sourceTexture?J.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,ye.__webglTexture,t.TEXTURE0+G)}function X(J,G){const ye=i.get(J);if(J.isRenderTargetTexture===!1&&J.version>0&&ye.__version!==J.version){pe(ye,J,G);return}n.bindTexture(t.TEXTURE_3D,ye.__webglTexture,t.TEXTURE0+G)}function K(J,G){const ye=i.get(J);if(J.version>0&&ye.__version!==J.version){Le(ye,J,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ye.__webglTexture,t.TEXTURE0+G)}const ne={[Rx]:t.REPEAT,[ks]:t.CLAMP_TO_EDGE,[Ox]:t.MIRRORED_REPEAT},q={[ma]:t.NEAREST,[BN]:t.NEAREST_MIPMAP_NEAREST,[V0]:t.NEAREST_MIPMAP_LINEAR,[dr]:t.LINEAR,[Ky]:t.LINEAR_MIPMAP_NEAREST,[Bc]:t.LINEAR_MIPMAP_LINEAR},se={[MG]:t.NEVER,[RG]:t.ALWAYS,[EG]:t.LESS,[XN]:t.LEQUAL,[wG]:t.EQUAL,[CG]:t.GEQUAL,[AG]:t.GREATER,[TG]:t.NOTEQUAL};function ge(J,G){if(G.type===Vs&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===dr||G.magFilter===Ky||G.magFilter===V0||G.magFilter===Bc||G.minFilter===dr||G.minFilter===Ky||G.minFilter===V0||G.minFilter===Bc)&&bt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(J,t.TEXTURE_WRAP_S,ne[G.wrapS]),t.texParameteri(J,t.TEXTURE_WRAP_T,ne[G.wrapT]),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,ne[G.wrapR]),t.texParameteri(J,t.TEXTURE_MAG_FILTER,q[G.magFilter]),t.texParameteri(J,t.TEXTURE_MIN_FILTER,q[G.minFilter]),G.compareFunction&&(t.texParameteri(J,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(J,t.TEXTURE_COMPARE_FUNC,se[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===ma||G.minFilter!==V0&&G.minFilter!==Bc||G.type===Vs&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||i.get(G).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");t.texParameterf(J,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,r.getMaxAnisotropy())),i.get(G).__currentAnisotropy=G.anisotropy}}}function _e(J,G){let ye=!1;J.__webglInit===void 0&&(J.__webglInit=!0,G.addEventListener("dispose",N));const Ie=G.source;let ze=v.get(Ie);ze===void 0&&(ze={},v.set(Ie,ze));const Oe=re(G);if(Oe!==J.__cacheKey){ze[Oe]===void 0&&(ze[Oe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,ye=!0),ze[Oe].usedTimes++;const mt=ze[J.__cacheKey];mt!==void 0&&(ze[J.__cacheKey].usedTimes--,mt.usedTimes===0&&I(G)),J.__cacheKey=Oe,J.__webglTexture=ze[Oe].texture}return ye}function Ae(J,G,ye){return Math.floor(Math.floor(J/ye)/G)}function Qe(J,G,ye,Ie){const Oe=J.updateRanges;if(Oe.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,G.width,G.height,ye,Ie,G.data);else{Oe.sort((We,nt)=>We.start-nt.start);let mt=0;for(let We=1;We<Oe.length;We++){const nt=Oe[mt],At=Oe[We],ce=nt.start+nt.count,Me=Ae(At.start,G.width,4),Je=Ae(nt.start,G.width,4);At.start<=ce+1&&Me===Je&&Ae(At.start+At.count-1,G.width,4)===Me?nt.count=Math.max(nt.count,At.start+At.count-nt.start):(++mt,Oe[mt]=At)}Oe.length=mt+1;const ht=t.getParameter(t.UNPACK_ROW_LENGTH),Dt=t.getParameter(t.UNPACK_SKIP_PIXELS),wt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,G.width);for(let We=0,nt=Oe.length;We<nt;We++){const At=Oe[We],ce=Math.floor(At.start/4),Me=Math.ceil(At.count/4),Je=ce%G.width,ie=Math.floor(ce/G.width),et=Me,it=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Je),t.pixelStorei(t.UNPACK_SKIP_ROWS,ie),n.texSubImage2D(t.TEXTURE_2D,0,Je,ie,et,it,ye,Ie,G.data)}J.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,ht),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Dt),t.pixelStorei(t.UNPACK_SKIP_ROWS,wt)}}function pe(J,G,ye){let Ie=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Ie=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Ie=t.TEXTURE_3D);const ze=_e(J,G),Oe=G.source;n.bindTexture(Ie,J.__webglTexture,t.TEXTURE0+ye);const mt=i.get(Oe);if(Oe.version!==mt.__version||ze===!0){n.activeTexture(t.TEXTURE0+ye);const ht=Nn.getPrimaries(Nn.workingColorSpace),Dt=G.colorSpace===Fu?null:Nn.getPrimaries(G.colorSpace),wt=G.colorSpace===Fu||ht===Dt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let We=E(G.image,!1,r.maxTextureSize);We=ot(G,We);const nt=a.convert(G.format,G.colorSpace),At=a.convert(G.type);let ce=T(G.internalFormat,nt,At,G.colorSpace,G.isVideoTexture);ge(Ie,G);let Me;const Je=G.mipmaps,ie=G.isVideoTexture!==!0,et=mt.__version===void 0||ze===!0,it=Oe.dataReady,rt=P(G,We);if(G.isDepthTexture)ce=L(G.format===lg,G.type),et&&(ie?n.texStorage2D(t.TEXTURE_2D,1,ce,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,ce,We.width,We.height,0,nt,At,null));else if(G.isDataTexture)if(Je.length>0){ie&&et&&n.texStorage2D(t.TEXTURE_2D,rt,ce,Je[0].width,Je[0].height);for(let tt=0,qe=Je.length;tt<qe;tt++)Me=Je[tt],ie?it&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,Me.width,Me.height,nt,At,Me.data):n.texImage2D(t.TEXTURE_2D,tt,ce,Me.width,Me.height,0,nt,At,Me.data);G.generateMipmaps=!1}else ie?(et&&n.texStorage2D(t.TEXTURE_2D,rt,ce,We.width,We.height),it&&Qe(G,We,nt,At)):n.texImage2D(t.TEXTURE_2D,0,ce,We.width,We.height,0,nt,At,We.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){ie&&et&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,ce,Je[0].width,Je[0].height,We.depth);for(let tt=0,qe=Je.length;tt<qe;tt++)if(Me=Je[tt],G.format!==Ia)if(nt!==null)if(ie){if(it)if(G.layerUpdates.size>0){const gt=lO(Me.width,Me.height,G.format,G.type);for(const Ot of G.layerUpdates){const mn=Me.data.subarray(Ot*gt/Me.data.BYTES_PER_ELEMENT,(Ot+1)*gt/Me.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,Ot,Me.width,Me.height,1,nt,mn)}G.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,0,Me.width,Me.height,We.depth,nt,Me.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,tt,ce,Me.width,Me.height,We.depth,0,Me.data,0,0);else bt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ie?it&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,tt,0,0,0,Me.width,Me.height,We.depth,nt,At,Me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,tt,ce,Me.width,Me.height,We.depth,0,nt,At,Me.data)}else{ie&&et&&n.texStorage2D(t.TEXTURE_2D,rt,ce,Je[0].width,Je[0].height);for(let tt=0,qe=Je.length;tt<qe;tt++)Me=Je[tt],G.format!==Ia?nt!==null?ie?it&&n.compressedTexSubImage2D(t.TEXTURE_2D,tt,0,0,Me.width,Me.height,nt,Me.data):n.compressedTexImage2D(t.TEXTURE_2D,tt,ce,Me.width,Me.height,0,Me.data):bt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ie?it&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,Me.width,Me.height,nt,At,Me.data):n.texImage2D(t.TEXTURE_2D,tt,ce,Me.width,Me.height,0,nt,At,Me.data)}else if(G.isDataArrayTexture)if(ie){if(et&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,ce,We.width,We.height,We.depth),it)if(G.layerUpdates.size>0){const tt=lO(We.width,We.height,G.format,G.type);for(const qe of G.layerUpdates){const gt=We.data.subarray(qe*tt/We.data.BYTES_PER_ELEMENT,(qe+1)*tt/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,qe,We.width,We.height,1,nt,At,gt)}G.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,nt,At,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ce,We.width,We.height,We.depth,0,nt,At,We.data);else if(G.isData3DTexture)ie?(et&&n.texStorage3D(t.TEXTURE_3D,rt,ce,We.width,We.height,We.depth),it&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,nt,At,We.data)):n.texImage3D(t.TEXTURE_3D,0,ce,We.width,We.height,We.depth,0,nt,At,We.data);else if(G.isFramebufferTexture){if(et)if(ie)n.texStorage2D(t.TEXTURE_2D,rt,ce,We.width,We.height);else{let tt=We.width,qe=We.height;for(let gt=0;gt<rt;gt++)n.texImage2D(t.TEXTURE_2D,gt,ce,tt,qe,0,nt,At,null),tt>>=1,qe>>=1}}else if(Je.length>0){if(ie&&et){const tt=vt(Je[0]);n.texStorage2D(t.TEXTURE_2D,rt,ce,tt.width,tt.height)}for(let tt=0,qe=Je.length;tt<qe;tt++)Me=Je[tt],ie?it&&n.texSubImage2D(t.TEXTURE_2D,tt,0,0,nt,At,Me):n.texImage2D(t.TEXTURE_2D,tt,ce,nt,At,Me);G.generateMipmaps=!1}else if(ie){if(et){const tt=vt(We);n.texStorage2D(t.TEXTURE_2D,rt,ce,tt.width,tt.height)}it&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,nt,At,We)}else n.texImage2D(t.TEXTURE_2D,0,ce,nt,At,We);S(G)&&M(Ie),mt.__version=Oe.version,G.onUpdate&&G.onUpdate(G)}J.__version=G.version}function Le(J,G,ye){if(G.image.length!==6)return;const Ie=_e(J,G),ze=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+ye);const Oe=i.get(ze);if(ze.version!==Oe.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ye);const mt=Nn.getPrimaries(Nn.workingColorSpace),ht=G.colorSpace===Fu?null:Nn.getPrimaries(G.colorSpace),Dt=G.colorSpace===Fu||mt===ht?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const wt=G.isCompressedTexture||G.image[0].isCompressedTexture,We=G.image[0]&&G.image[0].isDataTexture,nt=[];for(let qe=0;qe<6;qe++)!wt&&!We?nt[qe]=E(G.image[qe],!0,r.maxCubemapSize):nt[qe]=We?G.image[qe].image:G.image[qe],nt[qe]=ot(G,nt[qe]);const At=nt[0],ce=a.convert(G.format,G.colorSpace),Me=a.convert(G.type),Je=T(G.internalFormat,ce,Me,G.colorSpace),ie=G.isVideoTexture!==!0,et=Oe.__version===void 0||Ie===!0,it=ze.dataReady;let rt=P(G,At);ge(t.TEXTURE_CUBE_MAP,G);let tt;if(wt){ie&&et&&n.texStorage2D(t.TEXTURE_CUBE_MAP,rt,Je,At.width,At.height);for(let qe=0;qe<6;qe++){tt=nt[qe].mipmaps;for(let gt=0;gt<tt.length;gt++){const Ot=tt[gt];G.format!==Ia?ce!==null?ie?it&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,0,0,Ot.width,Ot.height,ce,Ot.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,Je,Ot.width,Ot.height,0,Ot.data):bt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,0,0,Ot.width,Ot.height,ce,Me,Ot.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt,Je,Ot.width,Ot.height,0,ce,Me,Ot.data)}}}else{if(tt=G.mipmaps,ie&&et){tt.length>0&&rt++;const qe=vt(nt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,rt,Je,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(We){ie?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,nt[qe].width,nt[qe].height,ce,Me,nt[qe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Je,nt[qe].width,nt[qe].height,0,ce,Me,nt[qe].data);for(let gt=0;gt<tt.length;gt++){const mn=tt[gt].image[qe].image;ie?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,0,0,mn.width,mn.height,ce,Me,mn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,Je,mn.width,mn.height,0,ce,Me,mn.data)}}else{ie?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,ce,Me,nt[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Je,ce,Me,nt[qe]);for(let gt=0;gt<tt.length;gt++){const Ot=tt[gt];ie?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,0,0,ce,Me,Ot.image[qe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+qe,gt+1,Je,ce,Me,Ot.image[qe])}}}S(G)&&M(t.TEXTURE_CUBE_MAP),Oe.__version=ze.version,G.onUpdate&&G.onUpdate(G)}J.__version=G.version}function Ye(J,G,ye,Ie,ze,Oe){const mt=a.convert(ye.format,ye.colorSpace),ht=a.convert(ye.type),Dt=T(ye.internalFormat,mt,ht,ye.colorSpace),wt=i.get(G),We=i.get(ye);if(We.__renderTarget=G,!wt.__hasExternalTextures){const nt=Math.max(1,G.width>>Oe),At=Math.max(1,G.height>>Oe);ze===t.TEXTURE_3D||ze===t.TEXTURE_2D_ARRAY?n.texImage3D(ze,Oe,Dt,nt,At,G.depth,0,mt,ht,null):n.texImage2D(ze,Oe,Dt,nt,At,0,mt,ht,null)}n.bindFramebuffer(t.FRAMEBUFFER,J),Ze(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ie,ze,We.__webglTexture,0,at(G)):(ze===t.TEXTURE_2D||ze>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ie,ze,We.__webglTexture,Oe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(J,G,ye){if(t.bindRenderbuffer(t.RENDERBUFFER,J),G.depthBuffer){const Ie=G.depthTexture,ze=Ie&&Ie.isDepthTexture?Ie.type:null,Oe=L(G.stencilBuffer,ze),mt=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ht=at(G);Ze(G)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ht,Oe,G.width,G.height):ye?t.renderbufferStorageMultisample(t.RENDERBUFFER,ht,Oe,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,Oe,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,mt,t.RENDERBUFFER,J)}else{const Ie=G.textures;for(let ze=0;ze<Ie.length;ze++){const Oe=Ie[ze],mt=a.convert(Oe.format,Oe.colorSpace),ht=a.convert(Oe.type),Dt=T(Oe.internalFormat,mt,ht,Oe.colorSpace),wt=at(G);ye&&Ze(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,wt,Dt,G.width,G.height):Ze(G)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,wt,Dt,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,Dt,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ge(J,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,J),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ie=i.get(G.depthTexture);Ie.__renderTarget=G,(!Ie.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),ae(G.depthTexture,0);const ze=Ie.__webglTexture,Oe=at(G);if(G.depthTexture.format===og)Ze(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ze,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ze,0);else if(G.depthTexture.format===lg)Ze(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ze,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function $e(J){const G=i.get(J),ye=J.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==J.depthTexture){const Ie=J.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Ie){const ze=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Ie.removeEventListener("dispose",ze)};Ie.addEventListener("dispose",ze),G.__depthDisposeCallback=ze}G.__boundDepthTexture=Ie}if(J.depthTexture&&!G.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");const Ie=J.texture.mipmaps;Ie&&Ie.length>0?Ge(G.__webglFramebuffer[0],J):Ge(G.__webglFramebuffer,J)}else if(ye){G.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[Ie]),G.__webglDepthbuffer[Ie]===void 0)G.__webglDepthbuffer[Ie]=t.createRenderbuffer(),xe(G.__webglDepthbuffer[Ie],J,!1);else{const ze=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=G.__webglDepthbuffer[Ie];t.bindRenderbuffer(t.RENDERBUFFER,Oe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ze,t.RENDERBUFFER,Oe)}}else{const Ie=J.texture.mipmaps;if(Ie&&Ie.length>0?n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=t.createRenderbuffer(),xe(G.__webglDepthbuffer,J,!1);else{const ze=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=G.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Oe),t.framebufferRenderbuffer(t.FRAMEBUFFER,ze,t.RENDERBUFFER,Oe)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ue(J,G,ye){const Ie=i.get(J);G!==void 0&&Ye(Ie.__webglFramebuffer,J,J.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ye!==void 0&&$e(J)}function ut(J){const G=J.texture,ye=i.get(J),Ie=i.get(G);J.addEventListener("dispose",z);const ze=J.textures,Oe=J.isWebGLCubeRenderTarget===!0,mt=ze.length>1;if(mt||(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=G.version,s.memory.textures++),Oe){ye.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(G.mipmaps&&G.mipmaps.length>0){ye.__webglFramebuffer[ht]=[];for(let Dt=0;Dt<G.mipmaps.length;Dt++)ye.__webglFramebuffer[ht][Dt]=t.createFramebuffer()}else ye.__webglFramebuffer[ht]=t.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){ye.__webglFramebuffer=[];for(let ht=0;ht<G.mipmaps.length;ht++)ye.__webglFramebuffer[ht]=t.createFramebuffer()}else ye.__webglFramebuffer=t.createFramebuffer();if(mt)for(let ht=0,Dt=ze.length;ht<Dt;ht++){const wt=i.get(ze[ht]);wt.__webglTexture===void 0&&(wt.__webglTexture=t.createTexture(),s.memory.textures++)}if(J.samples>0&&Ze(J)===!1){ye.__webglMultisampledFramebuffer=t.createFramebuffer(),ye.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let ht=0;ht<ze.length;ht++){const Dt=ze[ht];ye.__webglColorRenderbuffer[ht]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ye.__webglColorRenderbuffer[ht]);const wt=a.convert(Dt.format,Dt.colorSpace),We=a.convert(Dt.type),nt=T(Dt.internalFormat,wt,We,Dt.colorSpace,J.isXRRenderTarget===!0),At=at(J);t.renderbufferStorageMultisample(t.RENDERBUFFER,At,nt,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ht,t.RENDERBUFFER,ye.__webglColorRenderbuffer[ht])}t.bindRenderbuffer(t.RENDERBUFFER,null),J.depthBuffer&&(ye.__webglDepthRenderbuffer=t.createRenderbuffer(),xe(ye.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Oe){n.bindTexture(t.TEXTURE_CUBE_MAP,Ie.__webglTexture),ge(t.TEXTURE_CUBE_MAP,G);for(let ht=0;ht<6;ht++)if(G.mipmaps&&G.mipmaps.length>0)for(let Dt=0;Dt<G.mipmaps.length;Dt++)Ye(ye.__webglFramebuffer[ht][Dt],J,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ht,Dt);else Ye(ye.__webglFramebuffer[ht],J,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);S(G)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(mt){for(let ht=0,Dt=ze.length;ht<Dt;ht++){const wt=ze[ht],We=i.get(wt);let nt=t.TEXTURE_2D;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(nt=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(nt,We.__webglTexture),ge(nt,wt),Ye(ye.__webglFramebuffer,J,wt,t.COLOR_ATTACHMENT0+ht,nt,0),S(wt)&&M(nt)}n.unbindTexture()}else{let ht=t.TEXTURE_2D;if((J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(ht=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ht,Ie.__webglTexture),ge(ht,G),G.mipmaps&&G.mipmaps.length>0)for(let Dt=0;Dt<G.mipmaps.length;Dt++)Ye(ye.__webglFramebuffer[Dt],J,G,t.COLOR_ATTACHMENT0,ht,Dt);else Ye(ye.__webglFramebuffer,J,G,t.COLOR_ATTACHMENT0,ht,0);S(G)&&M(ht),n.unbindTexture()}J.depthBuffer&&$e(J)}function De(J){const G=J.textures;for(let ye=0,Ie=G.length;ye<Ie;ye++){const ze=G[ye];if(S(ze)){const Oe=C(J),mt=i.get(ze).__webglTexture;n.bindTexture(Oe,mt),M(Oe),n.unbindTexture()}}}const Q=[],Fe=[];function je(J){if(J.samples>0){if(Ze(J)===!1){const G=J.textures,ye=J.width,Ie=J.height;let ze=t.COLOR_BUFFER_BIT;const Oe=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,mt=i.get(J),ht=G.length>1;if(ht)for(let wt=0;wt<G.length;wt++)n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer);const Dt=J.texture.mipmaps;Dt&&Dt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let wt=0;wt<G.length;wt++){if(J.resolveDepthBuffer&&(J.depthBuffer&&(ze|=t.DEPTH_BUFFER_BIT),J.stencilBuffer&&J.resolveStencilBuffer&&(ze|=t.STENCIL_BUFFER_BIT)),ht){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,mt.__webglColorRenderbuffer[wt]);const We=i.get(G[wt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,ye,Ie,0,0,ye,Ie,ze,t.NEAREST),c===!0&&(Q.length=0,Fe.length=0,Q.push(t.COLOR_ATTACHMENT0+wt),J.depthBuffer&&J.resolveDepthBuffer===!1&&(Q.push(Oe),Fe.push(Oe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Fe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Q))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ht)for(let wt=0;wt<G.length;wt++){n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.RENDERBUFFER,mt.__webglColorRenderbuffer[wt]);const We=i.get(G[wt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,mt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+wt,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(J.depthBuffer&&J.resolveDepthBuffer===!1&&c){const G=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[G])}}}function at(J){return Math.min(r.maxSamples,J.samples)}function Ze(J){const G=i.get(J);return J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function dt(J){const G=s.render.frame;d.get(J)!==G&&(d.set(J,G),J.update())}function ot(J,G){const ye=J.colorSpace,Ie=J.format,ze=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||ye!==Bd&&ye!==Fu&&(Nn.getTransfer(ye)===Jn?(Ie!==Ia||ze!==il)&&bt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):en("WebGLTextures: Unsupported texture color space:",ye)),G}function vt(J){return typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement?(f.width=J.naturalWidth||J.width,f.height=J.naturalHeight||J.height):typeof VideoFrame<"u"&&J instanceof VideoFrame?(f.width=J.displayWidth,f.height=J.displayHeight):(f.width=J.width,f.height=J.height),f}this.allocateTextureUnit=ee,this.resetTextureUnits=Z,this.setTexture2D=ae,this.setTexture2DArray=H,this.setTexture3D=X,this.setTextureCube=K,this.rebindTextures=Ue,this.setupRenderTarget=ut,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=Ze}function Fq(t,e){function n(i,r=Fu){let a;const s=Nn.getTransfer(r);if(i===il)return t.UNSIGNED_BYTE;if(i===zw)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Bw)return t.UNSIGNED_SHORT_5_5_5_1;if(i===kN)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===VN)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===jN)return t.BYTE;if(i===FN)return t.SHORT;if(i===ag)return t.UNSIGNED_SHORT;if(i===Iw)return t.INT;if(i===of)return t.UNSIGNED_INT;if(i===Vs)return t.FLOAT;if(i===$p)return t.HALF_FLOAT;if(i===HN)return t.ALPHA;if(i===GN)return t.RGB;if(i===Ia)return t.RGBA;if(i===og)return t.DEPTH_COMPONENT;if(i===lg)return t.DEPTH_STENCIL;if(i===jw)return t.RED;if(i===Mb)return t.RED_INTEGER;if(i===Fw)return t.RG;if(i===kw)return t.RG_INTEGER;if(i===Vw)return t.RGBA_INTEGER;if(i===$y||i===Zy||i===Qy||i===Jy)if(s===Jn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===$y)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Qy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===$y)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Qy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Jy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===iE||i===rE||i===aE||i===sE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===iE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===rE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===aE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===sE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===oE||i===lE||i===cE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===oE||i===lE)return s===Jn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===cE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===uE||i===fE||i===dE||i===hE||i===pE||i===mE||i===gE||i===vE||i===yE||i===xE||i===bE||i===_E||i===SE||i===ME)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===uE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===fE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===dE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===hE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===pE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===mE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===gE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===vE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===yE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===xE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===bE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===_E)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===SE)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===ME)return s===Jn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===EE||i===wE||i===AE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===EE)return s===Jn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===wE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===AE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===TE||i===CE||i===RE||i===OE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===TE)return a.COMPRESSED_RED_RGTC1_EXT;if(i===CE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===RE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===OE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===sg?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const Fwe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,kwe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Vwe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new nP(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new rl({vertexShader:Fwe,fragmentShader:kwe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ir(new Ig(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Hwe extends nu{constructor(e,n){super();const i=this;let r=null,a=1,s=null,o="local-floor",c=1,f=null,d=null,m=null,v=null,y=null,_=null;const E=typeof XRWebGLBinding<"u",S=new Vwe,M={},C=n.getContextAttributes();let T=null,L=null;const P=[],N=[],z=new He;let F=null;const I=new Fi;I.viewport=new zn;const j=new Fi;j.viewport=new zn;const k=[I,j],Z=new Rq;let ee=null,re=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let Le=P[pe];return Le===void 0&&(Le=new GS,P[pe]=Le),Le.getTargetRaySpace()},this.getControllerGrip=function(pe){let Le=P[pe];return Le===void 0&&(Le=new GS,P[pe]=Le),Le.getGripSpace()},this.getHand=function(pe){let Le=P[pe];return Le===void 0&&(Le=new GS,P[pe]=Le),Le.getHandSpace()};function ae(pe){const Le=N.indexOf(pe.inputSource);if(Le===-1)return;const Ye=P[Le];Ye!==void 0&&(Ye.update(pe.inputSource,pe.frame,f||s),Ye.dispatchEvent({type:pe.type,data:pe.inputSource}))}function H(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",H),r.removeEventListener("inputsourceschange",X);for(let pe=0;pe<P.length;pe++){const Le=N[pe];Le!==null&&(N[pe]=null,P[pe].disconnect(Le))}ee=null,re=null,S.reset();for(const pe in M)delete M[pe];e.setRenderTarget(T),y=null,v=null,m=null,r=null,L=null,Qe.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(z.width,z.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){a=pe,i.isPresenting===!0&&bt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){o=pe,i.isPresenting===!0&&bt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(pe){f=pe},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return m===null&&E&&(m=new XRWebGLBinding(r,n)),m},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(pe){if(r=pe,r!==null){if(T=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",H),r.addEventListener("inputsourceschange",X),C.xrCompatible!==!0&&await n.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(z),E&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ye=null,xe=null,Ge=null;C.depth&&(Ge=C.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ye=C.stencil?lg:og,xe=C.stencil?sg:of);const $e={colorFormat:n.RGBA8,depthFormat:Ge,scaleFactor:a};m=this.getBinding(),v=m.createProjectionLayer($e),r.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),L=new eu(v.textureWidth,v.textureHeight,{format:Ia,type:il,depthTexture:new tP(v.textureWidth,v.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,Ye),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const Ye={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(r,n,Ye),r.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),L=new eu(y.framebufferWidth,y.framebufferHeight,{format:Ia,type:il,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(c),f=null,s=await r.requestReferenceSpace(o),Qe.setContext(r),Qe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function X(pe){for(let Le=0;Le<pe.removed.length;Le++){const Ye=pe.removed[Le],xe=N.indexOf(Ye);xe>=0&&(N[xe]=null,P[xe].disconnect(Ye))}for(let Le=0;Le<pe.added.length;Le++){const Ye=pe.added[Le];let xe=N.indexOf(Ye);if(xe===-1){for(let $e=0;$e<P.length;$e++)if($e>=N.length){N.push(Ye),xe=$e;break}else if(N[$e]===null){N[$e]=Ye,xe=$e;break}if(xe===-1)break}const Ge=P[xe];Ge&&Ge.connect(Ye)}}const K=new te,ne=new te;function q(pe,Le,Ye){K.setFromMatrixPosition(Le.matrixWorld),ne.setFromMatrixPosition(Ye.matrixWorld);const xe=K.distanceTo(ne),Ge=Le.projectionMatrix.elements,$e=Ye.projectionMatrix.elements,Ue=Ge[14]/(Ge[10]-1),ut=Ge[14]/(Ge[10]+1),De=(Ge[9]+1)/Ge[5],Q=(Ge[9]-1)/Ge[5],Fe=(Ge[8]-1)/Ge[0],je=($e[8]+1)/$e[0],at=Ue*Fe,Ze=Ue*je,dt=xe/(-Fe+je),ot=dt*-Fe;if(Le.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(ot),pe.translateZ(dt),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert(),Ge[10]===-1)pe.projectionMatrix.copy(Le.projectionMatrix),pe.projectionMatrixInverse.copy(Le.projectionMatrixInverse);else{const vt=Ue+dt,J=ut+dt,G=at-ot,ye=Ze+(xe-ot),Ie=De*ut/J*vt,ze=Q*ut/J*vt;pe.projectionMatrix.makePerspective(G,ye,Ie,ze,vt,J),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}}function se(pe,Le){Le===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(Le.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(r===null)return;let Le=pe.near,Ye=pe.far;S.texture!==null&&(S.depthNear>0&&(Le=S.depthNear),S.depthFar>0&&(Ye=S.depthFar)),Z.near=j.near=I.near=Le,Z.far=j.far=I.far=Ye,(ee!==Z.near||re!==Z.far)&&(r.updateRenderState({depthNear:Z.near,depthFar:Z.far}),ee=Z.near,re=Z.far),Z.layers.mask=pe.layers.mask|6,I.layers.mask=Z.layers.mask&3,j.layers.mask=Z.layers.mask&5;const xe=pe.parent,Ge=Z.cameras;se(Z,xe);for(let $e=0;$e<Ge.length;$e++)se(Ge[$e],xe);Ge.length===2?q(Z,I,j):Z.projectionMatrix.copy(I.projectionMatrix),ge(pe,Z,xe)};function ge(pe,Le,Ye){Ye===null?pe.matrix.copy(Le.matrixWorld):(pe.matrix.copy(Ye.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(Le.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(Le.projectionMatrix),pe.projectionMatrixInverse.copy(Le.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=fg*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return Z},this.getFoveation=function(){if(!(v===null&&y===null))return c},this.setFoveation=function(pe){c=pe,v!==null&&(v.fixedFoveation=pe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=pe)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(Z)},this.getCameraTexture=function(pe){return M[pe]};let _e=null;function Ae(pe,Le){if(d=Le.getViewerPose(f||s),_=Le,d!==null){const Ye=d.views;y!==null&&(e.setRenderTargetFramebuffer(L,y.framebuffer),e.setRenderTarget(L));let xe=!1;Ye.length!==Z.cameras.length&&(Z.cameras.length=0,xe=!0);for(let ut=0;ut<Ye.length;ut++){const De=Ye[ut];let Q=null;if(y!==null)Q=y.getViewport(De);else{const je=m.getViewSubImage(v,De);Q=je.viewport,ut===0&&(e.setRenderTargetTextures(L,je.colorTexture,je.depthStencilTexture),e.setRenderTarget(L))}let Fe=k[ut];Fe===void 0&&(Fe=new Fi,Fe.layers.enable(ut),Fe.viewport=new zn,k[ut]=Fe),Fe.matrix.fromArray(De.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(De.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Q.x,Q.y,Q.width,Q.height),ut===0&&(Z.matrix.copy(Fe.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale)),xe===!0&&Z.cameras.push(Fe)}const Ge=r.enabledFeatures;if(Ge&&Ge.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&E){m=i.getBinding();const ut=m.getDepthInformation(Ye[0]);ut&&ut.isValid&&ut.texture&&S.init(ut,r.renderState)}if(Ge&&Ge.includes("camera-access")&&E){e.state.unbindTexture(),m=i.getBinding();for(let ut=0;ut<Ye.length;ut++){const De=Ye[ut].camera;if(De){let Q=M[De];Q||(Q=new nP,M[De]=Q);const Fe=m.getCameraImage(De);Q.sourceTexture=Fe}}}}for(let Ye=0;Ye<P.length;Ye++){const xe=N[Ye],Ge=P[Ye];xe!==null&&Ge!==void 0&&Ge.update(xe,Le,f||s)}_e&&_e(pe,Le),Le.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Le}),_=null}const Qe=new Uq;Qe.setAnimationLoop(Ae),this.setAnimationLoop=function(pe){_e=pe},this.dispose=function(){}}}const rp=new qs,Gwe=new Jt;function qwe(t,e){function n(S,M){S.matrixAutoUpdate===!0&&S.updateMatrix(),M.value.copy(S.matrix)}function i(S,M){M.color.getRGB(S.fogColor.value,LG(t)),M.isFog?(S.fogNear.value=M.near,S.fogFar.value=M.far):M.isFogExp2&&(S.fogDensity.value=M.density)}function r(S,M,C,T,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(S,M):M.isMeshToonMaterial?(a(S,M),m(S,M)):M.isMeshPhongMaterial?(a(S,M),d(S,M)):M.isMeshStandardMaterial?(a(S,M),v(S,M),M.isMeshPhysicalMaterial&&y(S,M,L)):M.isMeshMatcapMaterial?(a(S,M),_(S,M)):M.isMeshDepthMaterial?a(S,M):M.isMeshDistanceMaterial?(a(S,M),E(S,M)):M.isMeshNormalMaterial?a(S,M):M.isLineBasicMaterial?(s(S,M),M.isLineDashedMaterial&&o(S,M)):M.isPointsMaterial?c(S,M,C,T):M.isSpriteMaterial?f(S,M):M.isShadowMaterial?(S.color.value.copy(M.color),S.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(S,M){S.opacity.value=M.opacity,M.color&&S.diffuse.value.copy(M.color),M.emissive&&S.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.bumpMap&&(S.bumpMap.value=M.bumpMap,n(M.bumpMap,S.bumpMapTransform),S.bumpScale.value=M.bumpScale,M.side===hs&&(S.bumpScale.value*=-1)),M.normalMap&&(S.normalMap.value=M.normalMap,n(M.normalMap,S.normalMapTransform),S.normalScale.value.copy(M.normalScale),M.side===hs&&S.normalScale.value.negate()),M.displacementMap&&(S.displacementMap.value=M.displacementMap,n(M.displacementMap,S.displacementMapTransform),S.displacementScale.value=M.displacementScale,S.displacementBias.value=M.displacementBias),M.emissiveMap&&(S.emissiveMap.value=M.emissiveMap,n(M.emissiveMap,S.emissiveMapTransform)),M.specularMap&&(S.specularMap.value=M.specularMap,n(M.specularMap,S.specularMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest);const C=e.get(M),T=C.envMap,L=C.envMapRotation;T&&(S.envMap.value=T,rp.copy(L),rp.x*=-1,rp.y*=-1,rp.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(rp.y*=-1,rp.z*=-1),S.envMapRotation.value.setFromMatrix4(Gwe.makeRotationFromEuler(rp)),S.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=M.reflectivity,S.ior.value=M.ior,S.refractionRatio.value=M.refractionRatio),M.lightMap&&(S.lightMap.value=M.lightMap,S.lightMapIntensity.value=M.lightMapIntensity,n(M.lightMap,S.lightMapTransform)),M.aoMap&&(S.aoMap.value=M.aoMap,S.aoMapIntensity.value=M.aoMapIntensity,n(M.aoMap,S.aoMapTransform))}function s(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform))}function o(S,M){S.dashSize.value=M.dashSize,S.totalSize.value=M.dashSize+M.gapSize,S.scale.value=M.scale}function c(S,M,C,T){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.size.value=M.size*C,S.scale.value=T*.5,M.map&&(S.map.value=M.map,n(M.map,S.uvTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function f(S,M){S.diffuse.value.copy(M.color),S.opacity.value=M.opacity,S.rotation.value=M.rotation,M.map&&(S.map.value=M.map,n(M.map,S.mapTransform)),M.alphaMap&&(S.alphaMap.value=M.alphaMap,n(M.alphaMap,S.alphaMapTransform)),M.alphaTest>0&&(S.alphaTest.value=M.alphaTest)}function d(S,M){S.specular.value.copy(M.specular),S.shininess.value=Math.max(M.shininess,1e-4)}function m(S,M){M.gradientMap&&(S.gradientMap.value=M.gradientMap)}function v(S,M){S.metalness.value=M.metalness,M.metalnessMap&&(S.metalnessMap.value=M.metalnessMap,n(M.metalnessMap,S.metalnessMapTransform)),S.roughness.value=M.roughness,M.roughnessMap&&(S.roughnessMap.value=M.roughnessMap,n(M.roughnessMap,S.roughnessMapTransform)),M.envMap&&(S.envMapIntensity.value=M.envMapIntensity)}function y(S,M,C){S.ior.value=M.ior,M.sheen>0&&(S.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),S.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(S.sheenColorMap.value=M.sheenColorMap,n(M.sheenColorMap,S.sheenColorMapTransform)),M.sheenRoughnessMap&&(S.sheenRoughnessMap.value=M.sheenRoughnessMap,n(M.sheenRoughnessMap,S.sheenRoughnessMapTransform))),M.clearcoat>0&&(S.clearcoat.value=M.clearcoat,S.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(S.clearcoatMap.value=M.clearcoatMap,n(M.clearcoatMap,S.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,n(M.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(S.clearcoatNormalMap.value=M.clearcoatNormalMap,n(M.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===hs&&S.clearcoatNormalScale.value.negate())),M.dispersion>0&&(S.dispersion.value=M.dispersion),M.iridescence>0&&(S.iridescence.value=M.iridescence,S.iridescenceIOR.value=M.iridescenceIOR,S.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(S.iridescenceMap.value=M.iridescenceMap,n(M.iridescenceMap,S.iridescenceMapTransform)),M.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=M.iridescenceThicknessMap,n(M.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),M.transmission>0&&(S.transmission.value=M.transmission,S.transmissionSamplerMap.value=C.texture,S.transmissionSamplerSize.value.set(C.width,C.height),M.transmissionMap&&(S.transmissionMap.value=M.transmissionMap,n(M.transmissionMap,S.transmissionMapTransform)),S.thickness.value=M.thickness,M.thicknessMap&&(S.thicknessMap.value=M.thicknessMap,n(M.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=M.attenuationDistance,S.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(S.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(S.anisotropyMap.value=M.anisotropyMap,n(M.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=M.specularIntensity,S.specularColor.value.copy(M.specularColor),M.specularColorMap&&(S.specularColorMap.value=M.specularColorMap,n(M.specularColorMap,S.specularColorMapTransform)),M.specularIntensityMap&&(S.specularIntensityMap.value=M.specularIntensityMap,n(M.specularIntensityMap,S.specularIntensityMapTransform))}function _(S,M){M.matcap&&(S.matcap.value=M.matcap)}function E(S,M){const C=e.get(M).light;S.referencePosition.value.setFromMatrixPosition(C.matrixWorld),S.nearDistance.value=C.shadow.camera.near,S.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Xwe(t,e,n,i){let r={},a={},s=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(C,T){const L=T.program;i.uniformBlockBinding(C,L)}function f(C,T){let L=r[C.id];L===void 0&&(_(C),L=d(C),r[C.id]=L,C.addEventListener("dispose",S));const P=T.program;i.updateUBOMapping(C,P);const N=e.render.frame;a[C.id]!==N&&(v(C),a[C.id]=N)}function d(C){const T=m();C.__bindingPointIndex=T;const L=t.createBuffer(),P=C.__size,N=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,L),t.bufferData(t.UNIFORM_BUFFER,P,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,L),L}function m(){for(let C=0;C<o;C++)if(s.indexOf(C)===-1)return s.push(C),C;return en("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(C){const T=r[C.id],L=C.uniforms,P=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let N=0,z=L.length;N<z;N++){const F=Array.isArray(L[N])?L[N]:[L[N]];for(let I=0,j=F.length;I<j;I++){const k=F[I];if(y(k,N,I,P)===!0){const Z=k.__offset,ee=Array.isArray(k.value)?k.value:[k.value];let re=0;for(let ae=0;ae<ee.length;ae++){const H=ee[ae],X=E(H);typeof H=="number"||typeof H=="boolean"?(k.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,Z+re,k.__data)):H.isMatrix3?(k.__data[0]=H.elements[0],k.__data[1]=H.elements[1],k.__data[2]=H.elements[2],k.__data[3]=0,k.__data[4]=H.elements[3],k.__data[5]=H.elements[4],k.__data[6]=H.elements[5],k.__data[7]=0,k.__data[8]=H.elements[6],k.__data[9]=H.elements[7],k.__data[10]=H.elements[8],k.__data[11]=0):(H.toArray(k.__data,re),re+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,Z,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(C,T,L,P){const N=C.value,z=T+"_"+L;if(P[z]===void 0)return typeof N=="number"||typeof N=="boolean"?P[z]=N:P[z]=N.clone(),!0;{const F=P[z];if(typeof N=="number"||typeof N=="boolean"){if(F!==N)return P[z]=N,!0}else if(F.equals(N)===!1)return F.copy(N),!0}return!1}function _(C){const T=C.uniforms;let L=0;const P=16;for(let z=0,F=T.length;z<F;z++){const I=Array.isArray(T[z])?T[z]:[T[z]];for(let j=0,k=I.length;j<k;j++){const Z=I[j],ee=Array.isArray(Z.value)?Z.value:[Z.value];for(let re=0,ae=ee.length;re<ae;re++){const H=ee[re],X=E(H),K=L%P,ne=K%X.boundary,q=K+ne;L+=ne,q!==0&&P-q<X.storage&&(L+=P-q),Z.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=L,L+=X.storage}}}const N=L%P;return N>0&&(L+=P-N),C.__size=L,C.__cache={},this}function E(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?bt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):bt("WebGLRenderer: Unsupported uniform value type.",C),T}function S(C){const T=C.target;T.removeEventListener("dispose",S);const L=s.indexOf(T.__bindingPointIndex);s.splice(L,1),t.deleteBuffer(r[T.id]),delete r[T.id],delete a[T.id]}function M(){for(const C in r)t.deleteBuffer(r[C]);s=[],r={},a={}}return{bind:c,update:f,dispose:M}}const Wwe=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Lu=null;function Ywe(){return Lu===null&&(Lu=new Wl(Wwe,32,32,Fw,$p),Lu.minFilter=dr,Lu.magFilter=dr,Lu.wrapS=ks,Lu.wrapT=ks,Lu.generateMipmaps=!1,Lu.needsUpdate=!0),Lu}class kq{constructor(e={}){const{canvas:n=DG(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:f=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:m=!1,reversedDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=i.getContextAttributes().alpha}else y=s;const _=new Set([Vw,kw,Mb]),E=new Set([il,of,ag,sg,zw,Bw]),S=new Uint32Array(4),M=new Int32Array(4);let C=null,T=null;const L=[],P=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=qc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let z=!1;this._outputColorSpace=Na;let F=0,I=0,j=null,k=-1,Z=null;const ee=new zn,re=new zn;let ae=null;const H=new Mt(0);let X=0,K=n.width,ne=n.height,q=1,se=null,ge=null;const _e=new zn(0,0,K,ne),Ae=new zn(0,0,K,ne);let Qe=!1;const pe=new Ug;let Le=!1,Ye=!1;const xe=new Jt,Ge=new te,$e=new zn,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ut=!1;function De(){return j===null?q:1}let Q=i;function Fe(Y,he){return n.getContext(Y,he)}try{const Y={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:f,powerPreference:d,failIfMajorPerformanceCaveat:m};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Pw}`),n.addEventListener("webglcontextlost",tt,!1),n.addEventListener("webglcontextrestored",qe,!1),n.addEventListener("webglcontextcreationerror",gt,!1),Q===null){const he="webgl2";if(Q=Fe(he,Y),Q===null)throw Fe(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw Y("WebGLRenderer: "+Y.message),Y}let je,at,Ze,dt,ot,vt,J,G,ye,Ie,ze,Oe,mt,ht,Dt,wt,We,nt,At,ce,Me,Je,ie,et;function it(){je=new rEe(Q),je.init(),Je=new Fq(Q,je),at=new KMe(Q,je,e,Je),Ze=new Bwe(Q,je),at.reversedDepthBuffer&&v&&Ze.buffers.depth.setReversed(!0),dt=new oEe(Q),ot=new wwe,vt=new jwe(Q,je,Ze,ot,at,Je,dt),J=new ZMe(N),G=new iEe(N),ye=new f_e(Q),ie=new WMe(Q,ye),Ie=new aEe(Q,ye,dt,ie),ze=new cEe(Q,Ie,ye,dt),At=new lEe(Q,at,vt),wt=new $Me(ot),Oe=new Ewe(N,J,G,je,at,ie,wt),mt=new qwe(N,ot),ht=new Twe,Dt=new Pwe(je),nt=new XMe(N,J,G,Ze,ze,y,c),We=new Iwe(N,ze,at),et=new Xwe(Q,dt,at,Ze),ce=new YMe(Q,je,dt),Me=new sEe(Q,je,dt),dt.programs=Oe.programs,N.capabilities=at,N.extensions=je,N.properties=ot,N.renderLists=ht,N.shadowMap=We,N.state=Ze,N.info=dt}it();const rt=new Hwe(N,Q);this.xr=rt,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const Y=je.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=je.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Y){Y!==void 0&&(q=Y,this.setSize(K,ne,!1))},this.getSize=function(Y){return Y.set(K,ne)},this.setSize=function(Y,he,Te=!0){if(rt.isPresenting){bt("WebGLRenderer: Can't change size while VR device is presenting.");return}K=Y,ne=he,n.width=Math.floor(Y*q),n.height=Math.floor(he*q),Te===!0&&(n.style.width=Y+"px",n.style.height=he+"px"),this.setViewport(0,0,Y,he)},this.getDrawingBufferSize=function(Y){return Y.set(K*q,ne*q).floor()},this.setDrawingBufferSize=function(Y,he,Te){K=Y,ne=he,q=Te,n.width=Math.floor(Y*Te),n.height=Math.floor(he*Te),this.setViewport(0,0,Y,he)},this.getCurrentViewport=function(Y){return Y.copy(ee)},this.getViewport=function(Y){return Y.copy(_e)},this.setViewport=function(Y,he,Te,Ne){Y.isVector4?_e.set(Y.x,Y.y,Y.z,Y.w):_e.set(Y,he,Te,Ne),Ze.viewport(ee.copy(_e).multiplyScalar(q).round())},this.getScissor=function(Y){return Y.copy(Ae)},this.setScissor=function(Y,he,Te,Ne){Y.isVector4?Ae.set(Y.x,Y.y,Y.z,Y.w):Ae.set(Y,he,Te,Ne),Ze.scissor(re.copy(Ae).multiplyScalar(q).round())},this.getScissorTest=function(){return Qe},this.setScissorTest=function(Y){Ze.setScissorTest(Qe=Y)},this.setOpaqueSort=function(Y){se=Y},this.setTransparentSort=function(Y){ge=Y},this.getClearColor=function(Y){return Y.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor(...arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha(...arguments)},this.clear=function(Y=!0,he=!0,Te=!0){let Ne=0;if(Y){let de=!1;if(j!==null){const lt=j.texture.format;de=_.has(lt)}if(de){const lt=j.texture.type,ft=E.has(lt),Et=nt.getClearColor(),St=nt.getClearAlpha(),Lt=Et.r,jt=Et.g,Pt=Et.b;ft?(S[0]=Lt,S[1]=jt,S[2]=Pt,S[3]=St,Q.clearBufferuiv(Q.COLOR,0,S)):(M[0]=Lt,M[1]=jt,M[2]=Pt,M[3]=St,Q.clearBufferiv(Q.COLOR,0,M))}else Ne|=Q.COLOR_BUFFER_BIT}he&&(Ne|=Q.DEPTH_BUFFER_BIT),Te&&(Ne|=Q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Q.clear(Ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",tt,!1),n.removeEventListener("webglcontextrestored",qe,!1),n.removeEventListener("webglcontextcreationerror",gt,!1),nt.dispose(),ht.dispose(),Dt.dispose(),ot.dispose(),J.dispose(),G.dispose(),ze.dispose(),ie.dispose(),et.dispose(),Oe.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",ir),rt.removeEventListener("sessionend",$s),hr.stop()};function tt(Y){Y.preventDefault(),Ix("WebGLRenderer: Context Lost."),z=!0}function qe(){Ix("WebGLRenderer: Context Restored."),z=!1;const Y=dt.autoReset,he=We.enabled,Te=We.autoUpdate,Ne=We.needsUpdate,de=We.type;it(),dt.autoReset=Y,We.enabled=he,We.autoUpdate=Te,We.needsUpdate=Ne,We.type=de}function gt(Y){en("WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Ot(Y){const he=Y.target;he.removeEventListener("dispose",Ot),mn(he)}function mn(Y){fn(Y),ot.remove(Y)}function fn(Y){const he=ot.get(Y).programs;he!==void 0&&(he.forEach(function(Te){Oe.releaseProgram(Te)}),Y.isShaderMaterial&&Oe.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,he,Te,Ne,de,lt){he===null&&(he=Ue);const ft=de.isMesh&&de.matrixWorld.determinant()<0,Et=cl(Y,he,Te,Ne,de);Ze.setMaterial(Ne,ft);let St=Te.index,Lt=1;if(Ne.wireframe===!0){if(St=Ie.getWireframeAttribute(Te),St===void 0)return;Lt=2}const jt=Te.drawRange,Pt=Te.attributes.position;let gn=jt.start*Lt,Pn=(jt.start+jt.count)*Lt;lt!==null&&(gn=Math.max(gn,lt.start*Lt),Pn=Math.min(Pn,(lt.start+lt.count)*Lt)),St!==null?(gn=Math.max(gn,0),Pn=Math.min(Pn,St.count)):Pt!=null&&(gn=Math.max(gn,0),Pn=Math.min(Pn,Pt.count));const En=Pn-gn;if(En<0||En===1/0)return;ie.setup(de,Ne,Et,Te,St);let ii,Gn=ce;if(St!==null&&(ii=ye.get(St),Gn=Me,Gn.setIndex(ii)),de.isMesh)Ne.wireframe===!0?(Ze.setLineWidth(Ne.wireframeLinewidth*De()),Gn.setMode(Q.LINES)):Gn.setMode(Q.TRIANGLES);else if(de.isLine){let Ut=Ne.linewidth;Ut===void 0&&(Ut=1),Ze.setLineWidth(Ut*De()),de.isLineSegments?Gn.setMode(Q.LINES):de.isLineLoop?Gn.setMode(Q.LINE_LOOP):Gn.setMode(Q.LINE_STRIP)}else de.isPoints?Gn.setMode(Q.POINTS):de.isSprite&&Gn.setMode(Q.TRIANGLES);if(de.isBatchedMesh)if(de._multiDrawInstances!==null)ug("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gn.renderMultiDrawInstances(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount,de._multiDrawInstances);else if(je.get("WEBGL_multi_draw"))Gn.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else{const Ut=de._multiDrawStarts,Yn=de._multiDrawCounts,_n=de._multiDrawCount,wr=St?ye.get(St).bytesPerElement:1,Xi=ot.get(Ne).currentProgram.getUniforms();for(let pr=0;pr<_n;pr++)Xi.setValue(Q,"_gl_DrawID",pr),Gn.render(Ut[pr]/wr,Yn[pr])}else if(de.isInstancedMesh)Gn.renderInstances(gn,En,de.count);else if(Te.isInstancedBufferGeometry){const Ut=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,Yn=Math.min(Te.instanceCount,Ut);Gn.renderInstances(gn,En,Yn)}else Gn.render(gn,En)};function tr(Y,he,Te){Y.transparent===!0&&Y.side===ql&&Y.forceSinglePass===!1?(Y.side=hs,Y.needsUpdate=!0,Va(Y,he,Te),Y.side=af,Y.needsUpdate=!0,Va(Y,he,Te),Y.side=ql):Va(Y,he,Te)}this.compile=function(Y,he,Te=null){Te===null&&(Te=Y),T=Dt.get(Te),T.init(he),P.push(T),Te.traverseVisible(function(de){de.isLight&&de.layers.test(he.layers)&&(T.pushLight(de),de.castShadow&&T.pushShadow(de))}),Y!==Te&&Y.traverseVisible(function(de){de.isLight&&de.layers.test(he.layers)&&(T.pushLight(de),de.castShadow&&T.pushShadow(de))}),T.setupLights();const Ne=new Set;return Y.traverse(function(de){if(!(de.isMesh||de.isPoints||de.isLine||de.isSprite))return;const lt=de.material;if(lt)if(Array.isArray(lt))for(let ft=0;ft<lt.length;ft++){const Et=lt[ft];tr(Et,Te,de),Ne.add(Et)}else tr(lt,Te,de),Ne.add(lt)}),T=P.pop(),Ne},this.compileAsync=function(Y,he,Te=null){const Ne=this.compile(Y,he,Te);return new Promise(de=>{function lt(){if(Ne.forEach(function(ft){ot.get(ft).currentProgram.isReady()&&Ne.delete(ft)}),Ne.size===0){de(Y);return}setTimeout(lt,10)}je.get("KHR_parallel_shader_compile")!==null?lt():setTimeout(lt,10)})};let ti=null;function nr(Y){ti&&ti(Y)}function ir(){hr.stop()}function $s(){hr.start()}const hr=new Uq;hr.setAnimationLoop(nr),typeof self<"u"&&hr.setContext(self),this.setAnimationLoop=function(Y){ti=Y,rt.setAnimationLoop(Y),Y===null?hr.stop():hr.start()},rt.addEventListener("sessionstart",ir),rt.addEventListener("sessionend",$s),this.render=function(Y,he){if(he!==void 0&&he.isCamera!==!0){en("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(he),he=rt.getCamera()),Y.isScene===!0&&Y.onBeforeRender(N,Y,he,j),T=Dt.get(Y,P.length),T.init(he),P.push(T),xe.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),pe.setFromProjectionMatrix(xe,_o,he.reversedDepth),Ye=this.localClippingEnabled,Le=wt.init(this.clippingPlanes,Ye),C=ht.get(Y,L.length),C.init(),L.push(C),rt.enabled===!0&&rt.isPresenting===!0){const lt=N.xr.getDepthSensingMesh();lt!==null&&yf(lt,he,-1/0,N.sortObjects)}yf(Y,he,0,N.sortObjects),C.finish(),N.sortObjects===!0&&C.sort(se,ge),ut=rt.enabled===!1||rt.isPresenting===!1||rt.hasDepthSensing()===!1,ut&&nt.addToRenderList(C,Y),this.info.render.frame++,Le===!0&&wt.beginShadows();const Te=T.state.shadowsArray;We.render(Te,Y,he),Le===!0&&wt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ne=C.opaque,de=C.transmissive;if(T.setupLights(),he.isArrayCamera){const lt=he.cameras;if(de.length>0)for(let ft=0,Et=lt.length;ft<Et;ft++){const St=lt[ft];Fa(Ne,de,Y,St)}ut&&nt.render(Y);for(let ft=0,Et=lt.length;ft<Et;ft++){const St=lt[ft];Zs(C,Y,St,St.viewport)}}else de.length>0&&Fa(Ne,de,Y,he),ut&&nt.render(Y),Zs(C,Y,he);j!==null&&I===0&&(vt.updateMultisampleRenderTarget(j),vt.updateRenderTargetMipmap(j)),Y.isScene===!0&&Y.onAfterRender(N,Y,he),ie.resetDefaultState(),k=-1,Z=null,P.pop(),P.length>0?(T=P[P.length-1],Le===!0&&wt.setGlobalState(N.clippingPlanes,T.state.camera)):T=null,L.pop(),L.length>0?C=L[L.length-1]:C=null};function yf(Y,he,Te,Ne){if(Y.visible===!1)return;if(Y.layers.test(he.layers)){if(Y.isGroup)Te=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(he);else if(Y.isLight)T.pushLight(Y),Y.castShadow&&T.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||pe.intersectsSprite(Y)){Ne&&$e.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(xe);const ft=ze.update(Y),Et=Y.material;Et.visible&&C.push(Y,ft,Et,Te,$e.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||pe.intersectsObject(Y))){const ft=ze.update(Y),Et=Y.material;if(Ne&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),$e.copy(Y.boundingSphere.center)):(ft.boundingSphere===null&&ft.computeBoundingSphere(),$e.copy(ft.boundingSphere.center)),$e.applyMatrix4(Y.matrixWorld).applyMatrix4(xe)),Array.isArray(Et)){const St=ft.groups;for(let Lt=0,jt=St.length;Lt<jt;Lt++){const Pt=St[Lt],gn=Et[Pt.materialIndex];gn&&gn.visible&&C.push(Y,ft,gn,Te,$e.z,Pt)}}else Et.visible&&C.push(Y,ft,Et,Te,$e.z,null)}}const lt=Y.children;for(let ft=0,Et=lt.length;ft<Et;ft++)yf(lt[ft],he,Te,Ne)}function Zs(Y,he,Te,Ne){const{opaque:de,transmissive:lt,transparent:ft}=Y;T.setupLightsView(Te),Le===!0&&wt.setGlobalState(N.clippingPlanes,Te),Ne&&Ze.viewport(ee.copy(Ne)),de.length>0&&ka(de,he,Te),lt.length>0&&ka(lt,he,Te),ft.length>0&&ka(ft,he,Te),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function Fa(Y,he,Te,Ne){if((Te.isScene===!0?Te.overrideMaterial:null)!==null)return;T.state.transmissionRenderTarget[Ne.id]===void 0&&(T.state.transmissionRenderTarget[Ne.id]=new eu(1,1,{generateMipmaps:!0,type:je.has("EXT_color_buffer_half_float")||je.has("EXT_color_buffer_float")?$p:il,minFilter:Bc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Nn.workingColorSpace}));const lt=T.state.transmissionRenderTarget[Ne.id],ft=Ne.viewport||ee;lt.setSize(ft.z*N.transmissionResolutionScale,ft.w*N.transmissionResolutionScale);const Et=N.getRenderTarget(),St=N.getActiveCubeFace(),Lt=N.getActiveMipmapLevel();N.setRenderTarget(lt),N.getClearColor(H),X=N.getClearAlpha(),X<1&&N.setClearColor(16777215,.5),N.clear(),ut&&nt.render(Te);const jt=N.toneMapping;N.toneMapping=qc;const Pt=Ne.viewport;if(Ne.viewport!==void 0&&(Ne.viewport=void 0),T.setupLightsView(Ne),Le===!0&&wt.setGlobalState(N.clippingPlanes,Ne),ka(Y,Te,Ne),vt.updateMultisampleRenderTarget(lt),vt.updateRenderTargetMipmap(lt),je.has("WEBGL_multisampled_render_to_texture")===!1){let gn=!1;for(let Pn=0,En=he.length;Pn<En;Pn++){const ii=he[Pn],{object:Gn,geometry:Ut,material:Yn,group:_n}=ii;if(Yn.side===ql&&Gn.layers.test(Ne.layers)){const wr=Yn.side;Yn.side=hs,Yn.needsUpdate=!0,ni(Gn,Te,Ne,Ut,Yn,_n),Yn.side=wr,Yn.needsUpdate=!0,gn=!0}}gn===!0&&(vt.updateMultisampleRenderTarget(lt),vt.updateRenderTargetMipmap(lt))}N.setRenderTarget(Et,St,Lt),N.setClearColor(H,X),Pt!==void 0&&(Ne.viewport=Pt),N.toneMapping=jt}function ka(Y,he,Te){const Ne=he.isScene===!0?he.overrideMaterial:null;for(let de=0,lt=Y.length;de<lt;de++){const ft=Y[de],{object:Et,geometry:St,group:Lt}=ft;let jt=ft.material;jt.allowOverride===!0&&Ne!==null&&(jt=Ne),Et.layers.test(Te.layers)&&ni(Et,he,Te,St,jt,Lt)}}function ni(Y,he,Te,Ne,de,lt){Y.onBeforeRender(N,he,Te,Ne,de,lt),Y.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),de.onBeforeRender(N,he,Te,Ne,Y,lt),de.transparent===!0&&de.side===ql&&de.forceSinglePass===!1?(de.side=hs,de.needsUpdate=!0,N.renderBufferDirect(Te,he,Ne,de,Y,lt),de.side=af,de.needsUpdate=!0,N.renderBufferDirect(Te,he,Ne,de,Y,lt),de.side=ql):N.renderBufferDirect(Te,he,Ne,de,Y,lt),Y.onAfterRender(N,he,Te,Ne,de,lt)}function Va(Y,he,Te){he.isScene!==!0&&(he=Ue);const Ne=ot.get(Y),de=T.state.lights,lt=T.state.shadowsArray,ft=de.state.version,Et=Oe.getParameters(Y,de.state,lt,he,Te),St=Oe.getProgramCacheKey(Et);let Lt=Ne.programs;Ne.environment=Y.isMeshStandardMaterial?he.environment:null,Ne.fog=he.fog,Ne.envMap=(Y.isMeshStandardMaterial?G:J).get(Y.envMap||Ne.environment),Ne.envMapRotation=Ne.environment!==null&&Y.envMap===null?he.environmentRotation:Y.envMapRotation,Lt===void 0&&(Y.addEventListener("dispose",Ot),Lt=new Map,Ne.programs=Lt);let jt=Lt.get(St);if(jt!==void 0){if(Ne.currentProgram===jt&&Ne.lightsStateVersion===ft)return ll(Y,Et),jt}else Et.uniforms=Oe.getUniforms(Y),Y.onBeforeCompile(Et,N),jt=Oe.acquireProgram(Et,St),Lt.set(St,jt),Ne.uniforms=Et.uniforms;const Pt=Ne.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(Pt.clippingPlanes=wt.uniform),ll(Y,Et),Ne.needsLights=xf(Y),Ne.lightsStateVersion=ft,Ne.needsLights&&(Pt.ambientLightColor.value=de.state.ambient,Pt.lightProbe.value=de.state.probe,Pt.directionalLights.value=de.state.directional,Pt.directionalLightShadows.value=de.state.directionalShadow,Pt.spotLights.value=de.state.spot,Pt.spotLightShadows.value=de.state.spotShadow,Pt.rectAreaLights.value=de.state.rectArea,Pt.ltc_1.value=de.state.rectAreaLTC1,Pt.ltc_2.value=de.state.rectAreaLTC2,Pt.pointLights.value=de.state.point,Pt.pointLightShadows.value=de.state.pointShadow,Pt.hemisphereLights.value=de.state.hemi,Pt.directionalShadowMap.value=de.state.directionalShadowMap,Pt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Pt.spotShadowMap.value=de.state.spotShadowMap,Pt.spotLightMatrix.value=de.state.spotLightMatrix,Pt.spotLightMap.value=de.state.spotLightMap,Pt.pointShadowMap.value=de.state.pointShadowMap,Pt.pointShadowMatrix.value=de.state.pointShadowMatrix),Ne.currentProgram=jt,Ne.uniformsList=null,jt}function Qs(Y){if(Y.uniformsList===null){const he=Y.currentProgram.getUniforms();Y.uniformsList=qS.seqWithValue(he.seq,Y.uniforms)}return Y.uniformsList}function ll(Y,he){const Te=ot.get(Y);Te.outputColorSpace=he.outputColorSpace,Te.batching=he.batching,Te.batchingColor=he.batchingColor,Te.instancing=he.instancing,Te.instancingColor=he.instancingColor,Te.instancingMorph=he.instancingMorph,Te.skinning=he.skinning,Te.morphTargets=he.morphTargets,Te.morphNormals=he.morphNormals,Te.morphColors=he.morphColors,Te.morphTargetsCount=he.morphTargetsCount,Te.numClippingPlanes=he.numClippingPlanes,Te.numIntersection=he.numClipIntersection,Te.vertexAlphas=he.vertexAlphas,Te.vertexTangents=he.vertexTangents,Te.toneMapping=he.toneMapping}function cl(Y,he,Te,Ne,de){he.isScene!==!0&&(he=Ue),vt.resetTextureUnits();const lt=he.fog,ft=Ne.isMeshStandardMaterial?he.environment:null,Et=j===null?N.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:Bd,St=(Ne.isMeshStandardMaterial?G:J).get(Ne.envMap||ft),Lt=Ne.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,jt=!!Te.attributes.tangent&&(!!Ne.normalMap||Ne.anisotropy>0),Pt=!!Te.morphAttributes.position,gn=!!Te.morphAttributes.normal,Pn=!!Te.morphAttributes.color;let En=qc;Ne.toneMapped&&(j===null||j.isXRRenderTarget===!0)&&(En=N.toneMapping);const ii=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,Gn=ii!==void 0?ii.length:0,Ut=ot.get(Ne),Yn=T.state.lights;if(Le===!0&&(Ye===!0||Y!==Z)){const rr=Y===Z&&Ne.id===k;wt.setState(Ne,Y,rr)}let _n=!1;Ne.version===Ut.__version?(Ut.needsLights&&Ut.lightsStateVersion!==Yn.state.version||Ut.outputColorSpace!==Et||de.isBatchedMesh&&Ut.batching===!1||!de.isBatchedMesh&&Ut.batching===!0||de.isBatchedMesh&&Ut.batchingColor===!0&&de.colorTexture===null||de.isBatchedMesh&&Ut.batchingColor===!1&&de.colorTexture!==null||de.isInstancedMesh&&Ut.instancing===!1||!de.isInstancedMesh&&Ut.instancing===!0||de.isSkinnedMesh&&Ut.skinning===!1||!de.isSkinnedMesh&&Ut.skinning===!0||de.isInstancedMesh&&Ut.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&Ut.instancingColor===!1&&de.instanceColor!==null||de.isInstancedMesh&&Ut.instancingMorph===!0&&de.morphTexture===null||de.isInstancedMesh&&Ut.instancingMorph===!1&&de.morphTexture!==null||Ut.envMap!==St||Ne.fog===!0&&Ut.fog!==lt||Ut.numClippingPlanes!==void 0&&(Ut.numClippingPlanes!==wt.numPlanes||Ut.numIntersection!==wt.numIntersection)||Ut.vertexAlphas!==Lt||Ut.vertexTangents!==jt||Ut.morphTargets!==Pt||Ut.morphNormals!==gn||Ut.morphColors!==Pn||Ut.toneMapping!==En||Ut.morphTargetsCount!==Gn)&&(_n=!0):(_n=!0,Ut.__version=Ne.version);let wr=Ut.currentProgram;_n===!0&&(wr=Va(Ne,he,de));let Xi=!1,pr=!1,ul=!1;const Xn=wr.getUniforms(),Mi=Ut.uniforms;if(Ze.useProgram(wr.program)&&(Xi=!0,pr=!0,ul=!0),Ne.id!==k&&(k=Ne.id,pr=!0),Xi||Z!==Y){Ze.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),Xn.setValue(Q,"projectionMatrix",Y.projectionMatrix),Xn.setValue(Q,"viewMatrix",Y.matrixWorldInverse);const ri=Xn.map.cameraPosition;ri!==void 0&&ri.setValue(Q,Ge.setFromMatrixPosition(Y.matrixWorld)),at.logarithmicDepthBuffer&&Xn.setValue(Q,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Ne.isMeshPhongMaterial||Ne.isMeshToonMaterial||Ne.isMeshLambertMaterial||Ne.isMeshBasicMaterial||Ne.isMeshStandardMaterial||Ne.isShaderMaterial)&&Xn.setValue(Q,"isOrthographic",Y.isOrthographicCamera===!0),Z!==Y&&(Z=Y,pr=!0,ul=!0)}if(de.isSkinnedMesh){Xn.setOptional(Q,de,"bindMatrix"),Xn.setOptional(Q,de,"bindMatrixInverse");const rr=de.skeleton;rr&&(rr.boneTexture===null&&rr.computeBoneTexture(),Xn.setValue(Q,"boneTexture",rr.boneTexture,vt))}de.isBatchedMesh&&(Xn.setOptional(Q,de,"batchingTexture"),Xn.setValue(Q,"batchingTexture",de._matricesTexture,vt),Xn.setOptional(Q,de,"batchingIdTexture"),Xn.setValue(Q,"batchingIdTexture",de._indirectTexture,vt),Xn.setOptional(Q,de,"batchingColorTexture"),de._colorsTexture!==null&&Xn.setValue(Q,"batchingColorTexture",de._colorsTexture,vt));const ea=Te.morphAttributes;if((ea.position!==void 0||ea.normal!==void 0||ea.color!==void 0)&&At.update(de,Te,wr),(pr||Ut.receiveShadow!==de.receiveShadow)&&(Ut.receiveShadow=de.receiveShadow,Xn.setValue(Q,"receiveShadow",de.receiveShadow)),Ne.isMeshGouraudMaterial&&Ne.envMap!==null&&(Mi.envMap.value=St,Mi.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Ne.isMeshStandardMaterial&&Ne.envMap===null&&he.environment!==null&&(Mi.envMapIntensity.value=he.environmentIntensity),Mi.dfgLUT!==void 0&&(Mi.dfgLUT.value=Ywe()),pr&&(Xn.setValue(Q,"toneMappingExposure",N.toneMappingExposure),Ut.needsLights&&qi(Mi,ul),lt&&Ne.fog===!0&&mt.refreshFogUniforms(Mi,lt),mt.refreshMaterialUniforms(Mi,Ne,q,ne,T.state.transmissionRenderTarget[Y.id]),qS.upload(Q,Qs(Ut),Mi,vt)),Ne.isShaderMaterial&&Ne.uniformsNeedUpdate===!0&&(qS.upload(Q,Qs(Ut),Mi,vt),Ne.uniformsNeedUpdate=!1),Ne.isSpriteMaterial&&Xn.setValue(Q,"center",de.center),Xn.setValue(Q,"modelViewMatrix",de.modelViewMatrix),Xn.setValue(Q,"normalMatrix",de.normalMatrix),Xn.setValue(Q,"modelMatrix",de.matrixWorld),Ne.isShaderMaterial||Ne.isRawShaderMaterial){const rr=Ne.uniformsGroups;for(let ri=0,_f=rr.length;ri<_f;ri++){const Ha=rr[ri];et.update(Ha,wr),et.bind(Ha,wr)}}return wr}function qi(Y,he){Y.ambientLightColor.needsUpdate=he,Y.lightProbe.needsUpdate=he,Y.directionalLights.needsUpdate=he,Y.directionalLightShadows.needsUpdate=he,Y.pointLights.needsUpdate=he,Y.pointLightShadows.needsUpdate=he,Y.spotLights.needsUpdate=he,Y.spotLightShadows.needsUpdate=he,Y.rectAreaLights.needsUpdate=he,Y.hemisphereLights.needsUpdate=he}function xf(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(Y,he,Te){const Ne=ot.get(Y);Ne.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Ne.__autoAllocateDepthBuffer===!1&&(Ne.__useRenderToTexture=!1),ot.get(Y.texture).__webglTexture=he,ot.get(Y.depthTexture).__webglTexture=Ne.__autoAllocateDepthBuffer?void 0:Te,Ne.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,he){const Te=ot.get(Y);Te.__webglFramebuffer=he,Te.__useDefaultFramebuffer=he===void 0};const bf=Q.createFramebuffer();this.setRenderTarget=function(Y,he=0,Te=0){j=Y,F=he,I=Te;let Ne=!0,de=null,lt=!1,ft=!1;if(Y){const St=ot.get(Y);if(St.__useDefaultFramebuffer!==void 0)Ze.bindFramebuffer(Q.FRAMEBUFFER,null),Ne=!1;else if(St.__webglFramebuffer===void 0)vt.setupRenderTarget(Y);else if(St.__hasExternalTextures)vt.rebindTextures(Y,ot.get(Y.texture).__webglTexture,ot.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const Pt=Y.depthTexture;if(St.__boundDepthTexture!==Pt){if(Pt!==null&&ot.has(Pt)&&(Y.width!==Pt.image.width||Y.height!==Pt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");vt.setupDepthRenderbuffer(Y)}}const Lt=Y.texture;(Lt.isData3DTexture||Lt.isDataArrayTexture||Lt.isCompressedArrayTexture)&&(ft=!0);const jt=ot.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(jt[he])?de=jt[he][Te]:de=jt[he],lt=!0):Y.samples>0&&vt.useMultisampledRTT(Y)===!1?de=ot.get(Y).__webglMultisampledFramebuffer:Array.isArray(jt)?de=jt[Te]:de=jt,ee.copy(Y.viewport),re.copy(Y.scissor),ae=Y.scissorTest}else ee.copy(_e).multiplyScalar(q).floor(),re.copy(Ae).multiplyScalar(q).floor(),ae=Qe;if(Te!==0&&(de=bf),Ze.bindFramebuffer(Q.FRAMEBUFFER,de)&&Ne&&Ze.drawBuffers(Y,de),Ze.viewport(ee),Ze.scissor(re),Ze.setScissorTest(ae),lt){const St=ot.get(Y.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+he,St.__webglTexture,Te)}else if(ft){const St=he;for(let Lt=0;Lt<Y.textures.length;Lt++){const jt=ot.get(Y.textures[Lt]);Q.framebufferTextureLayer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+Lt,jt.__webglTexture,Te,St)}}else if(Y!==null&&Te!==0){const St=ot.get(Y.texture);Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,St.__webglTexture,Te)}k=-1},this.readRenderTargetPixels=function(Y,he,Te,Ne,de,lt,ft,Et=0){if(!(Y&&Y.isWebGLRenderTarget)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=ot.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&ft!==void 0&&(St=St[ft]),St){Ze.bindFramebuffer(Q.FRAMEBUFFER,St);try{const Lt=Y.textures[Et],jt=Lt.format,Pt=Lt.type;if(!at.textureFormatReadable(jt)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!at.textureTypeReadable(Pt)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=Y.width-Ne&&Te>=0&&Te<=Y.height-de&&(Y.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+Et),Q.readPixels(he,Te,Ne,de,Je.convert(jt),Je.convert(Pt),lt))}finally{const Lt=j!==null?ot.get(j).__webglFramebuffer:null;Ze.bindFramebuffer(Q.FRAMEBUFFER,Lt)}}},this.readRenderTargetPixelsAsync=async function(Y,he,Te,Ne,de,lt,ft,Et=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let St=ot.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&ft!==void 0&&(St=St[ft]),St)if(he>=0&&he<=Y.width-Ne&&Te>=0&&Te<=Y.height-de){Ze.bindFramebuffer(Q.FRAMEBUFFER,St);const Lt=Y.textures[Et],jt=Lt.format,Pt=Lt.type;if(!at.textureFormatReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!at.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const gn=Q.createBuffer();Q.bindBuffer(Q.PIXEL_PACK_BUFFER,gn),Q.bufferData(Q.PIXEL_PACK_BUFFER,lt.byteLength,Q.STREAM_READ),Y.textures.length>1&&Q.readBuffer(Q.COLOR_ATTACHMENT0+Et),Q.readPixels(he,Te,Ne,de,Je.convert(jt),Je.convert(Pt),0);const Pn=j!==null?ot.get(j).__webglFramebuffer:null;Ze.bindFramebuffer(Q.FRAMEBUFFER,Pn);const En=Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return Q.flush(),await dxe(Q,En,4),Q.bindBuffer(Q.PIXEL_PACK_BUFFER,gn),Q.getBufferSubData(Q.PIXEL_PACK_BUFFER,0,lt),Q.deleteBuffer(gn),Q.deleteSync(En),lt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,he=null,Te=0){const Ne=Math.pow(2,-Te),de=Math.floor(Y.image.width*Ne),lt=Math.floor(Y.image.height*Ne),ft=he!==null?he.x:0,Et=he!==null?he.y:0;vt.setTexture2D(Y,0),Q.copyTexSubImage2D(Q.TEXTURE_2D,Te,0,0,ft,Et,de,lt),Ze.unbindTexture()};const Js=Q.createFramebuffer(),Di=Q.createFramebuffer();this.copyTextureToTexture=function(Y,he,Te=null,Ne=null,de=0,lt=null){lt===null&&(de!==0?(ug("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),lt=de,de=0):lt=0);let ft,Et,St,Lt,jt,Pt,gn,Pn,En;const ii=Y.isCompressedTexture?Y.mipmaps[lt]:Y.image;if(Te!==null)ft=Te.max.x-Te.min.x,Et=Te.max.y-Te.min.y,St=Te.isBox3?Te.max.z-Te.min.z:1,Lt=Te.min.x,jt=Te.min.y,Pt=Te.isBox3?Te.min.z:0;else{const ea=Math.pow(2,-de);ft=Math.floor(ii.width*ea),Et=Math.floor(ii.height*ea),Y.isDataArrayTexture?St=ii.depth:Y.isData3DTexture?St=Math.floor(ii.depth*ea):St=1,Lt=0,jt=0,Pt=0}Ne!==null?(gn=Ne.x,Pn=Ne.y,En=Ne.z):(gn=0,Pn=0,En=0);const Gn=Je.convert(he.format),Ut=Je.convert(he.type);let Yn;he.isData3DTexture?(vt.setTexture3D(he,0),Yn=Q.TEXTURE_3D):he.isDataArrayTexture||he.isCompressedArrayTexture?(vt.setTexture2DArray(he,0),Yn=Q.TEXTURE_2D_ARRAY):(vt.setTexture2D(he,0),Yn=Q.TEXTURE_2D),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,he.flipY),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),Q.pixelStorei(Q.UNPACK_ALIGNMENT,he.unpackAlignment);const _n=Q.getParameter(Q.UNPACK_ROW_LENGTH),wr=Q.getParameter(Q.UNPACK_IMAGE_HEIGHT),Xi=Q.getParameter(Q.UNPACK_SKIP_PIXELS),pr=Q.getParameter(Q.UNPACK_SKIP_ROWS),ul=Q.getParameter(Q.UNPACK_SKIP_IMAGES);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,ii.width),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,ii.height),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Lt),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,jt),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,Pt);const Xn=Y.isDataArrayTexture||Y.isData3DTexture,Mi=he.isDataArrayTexture||he.isData3DTexture;if(Y.isDepthTexture){const ea=ot.get(Y),rr=ot.get(he),ri=ot.get(ea.__renderTarget),_f=ot.get(rr.__renderTarget);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,ri.__webglFramebuffer),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,_f.__webglFramebuffer);for(let Ha=0;Ha<St;Ha++)Xn&&(Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ot.get(Y).__webglTexture,de,Pt+Ha),Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ot.get(he).__webglTexture,lt,En+Ha)),Q.blitFramebuffer(Lt,jt,ft,Et,gn,Pn,ft,Et,Q.DEPTH_BUFFER_BIT,Q.NEAREST);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else if(de!==0||Y.isRenderTargetTexture||ot.has(Y)){const ea=ot.get(Y),rr=ot.get(he);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,Js),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,Di);for(let ri=0;ri<St;ri++)Xn?Q.framebufferTextureLayer(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,ea.__webglTexture,de,Pt+ri):Q.framebufferTexture2D(Q.READ_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,ea.__webglTexture,de),Mi?Q.framebufferTextureLayer(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,rr.__webglTexture,lt,En+ri):Q.framebufferTexture2D(Q.DRAW_FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,rr.__webglTexture,lt),de!==0?Q.blitFramebuffer(Lt,jt,ft,Et,gn,Pn,ft,Et,Q.COLOR_BUFFER_BIT,Q.NEAREST):Mi?Q.copyTexSubImage3D(Yn,lt,gn,Pn,En+ri,Lt,jt,ft,Et):Q.copyTexSubImage2D(Yn,lt,gn,Pn,Lt,jt,ft,Et);Ze.bindFramebuffer(Q.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(Q.DRAW_FRAMEBUFFER,null)}else Mi?Y.isDataTexture||Y.isData3DTexture?Q.texSubImage3D(Yn,lt,gn,Pn,En,ft,Et,St,Gn,Ut,ii.data):he.isCompressedArrayTexture?Q.compressedTexSubImage3D(Yn,lt,gn,Pn,En,ft,Et,St,Gn,ii.data):Q.texSubImage3D(Yn,lt,gn,Pn,En,ft,Et,St,Gn,Ut,ii):Y.isDataTexture?Q.texSubImage2D(Q.TEXTURE_2D,lt,gn,Pn,ft,Et,Gn,Ut,ii.data):Y.isCompressedTexture?Q.compressedTexSubImage2D(Q.TEXTURE_2D,lt,gn,Pn,ii.width,ii.height,Gn,ii.data):Q.texSubImage2D(Q.TEXTURE_2D,lt,gn,Pn,ft,Et,Gn,Ut,ii);Q.pixelStorei(Q.UNPACK_ROW_LENGTH,_n),Q.pixelStorei(Q.UNPACK_IMAGE_HEIGHT,wr),Q.pixelStorei(Q.UNPACK_SKIP_PIXELS,Xi),Q.pixelStorei(Q.UNPACK_SKIP_ROWS,pr),Q.pixelStorei(Q.UNPACK_SKIP_IMAGES,ul),lt===0&&he.generateMipmaps&&Q.generateMipmap(Yn),Ze.unbindTexture()},this.initRenderTarget=function(Y){ot.get(Y).__webglFramebuffer===void 0&&vt.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?vt.setTextureCube(Y,0):Y.isData3DTexture?vt.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?vt.setTexture2DArray(Y,0):vt.setTexture2D(Y,0),Ze.unbindTexture()},this.resetState=function(){F=0,I=0,j=null,Ze.reset(),ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return _o}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Nn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Nn._getUnpackColorSpace()}}const Kwe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:zN,AddEquation:Td,AddOperation:cG,AdditiveAnimationBlendMode:qN,AdditiveBlending:KR,AgXToneMapping:pG,AlphaFormat:HN,AlwaysCompare:RG,AlwaysDepth:ZM,AlwaysStencilFunc:JR,AmbientLight:Mq,AnimationAction:Nq,AnimationClip:Hx,AnimationLoader:n1e,AnimationMixer:D1e,AnimationObjectGroup:R1e,AnimationUtils:Qbe,ArcCurve:YG,ArrayCamera:Rq,ArrowHelper:n_e,AttachedBindMode:QR,Audio:Oq,AudioAnalyser:x1e,AudioContext:gP,AudioListener:g1e,AudioLoader:h1e,AxesHelper:i_e,BackSide:hs,BasicDepthPacking:bG,BasicShadowMap:H7,BatchedMesh:HG,Bone:JN,BooleanKeyframeTrack:Jp,Box2:F1e,Box3:Ba,Box3Helper:e_e,BoxGeometry:Qp,BoxHelper:J1e,BufferAttribute:ui,BufferGeometry:un,BufferGeometryLoader:Cq,ByteType:jN,Cache:jc,Camera:Xw,CameraHelper:Q1e,CanvasTexture:_be,CapsuleGeometry:Jw,CatmullRomCurve3:KG,CineonToneMapping:dG,CircleGeometry:eA,ClampToEdgeWrapping:ks,Clock:vP,Color:Mt,ColorKeyframeTrack:hP,ColorManagement:Nn,CompressedArrayTexture:xbe,CompressedCubeTexture:bbe,CompressedTexture:Qw,CompressedTextureLoader:i1e,ConeGeometry:Ab,ConstantAlphaFactor:sG,ConstantColorFactor:rG,Controls:a_e,CubeCamera:IG,CubeReflectionMapping:sf,CubeRefractionMapping:zd,CubeTexture:Eb,CubeTextureLoader:r1e,CubeUVReflectionMapping:Lg,CubicBezierCurve:rP,CubicBezierCurve3:$G,CubicInterpolant:mq,CullFaceBack:YR,CullFaceFront:V7,CullFaceFrontBack:Aye,CullFaceNone:k7,Curve:$l,CurvePath:QG,CustomBlending:G7,CustomToneMapping:hG,CylinderGeometry:wb,Cylindrical:j1e,Data3DTexture:qw,DataArrayTexture:Gw,DataTexture:Wl,DataTextureLoader:a1e,DataUtils:Gxe,DecrementStencilOp:Fye,DecrementWrapStencilOp:Vye,DefaultLoadingManager:yq,DepthFormat:og,DepthStencilFormat:lg,DepthTexture:tP,DetachedBindMode:gG,DirectionalLight:Sq,DirectionalLightHelper:Z1e,DiscreteInterpolant:gq,DodecahedronGeometry:tA,DoubleSide:ql,DstAlphaFactor:J7,DstColorFactor:tG,DynamicCopyUsage:ixe,DynamicDrawUsage:Zye,DynamicReadUsage:exe,EdgesGeometry:WG,EllipseCurve:nA,EqualCompare:wG,EqualDepth:JM,EqualStencilFunc:Xye,EquirectangularReflectionMapping:Tx,EquirectangularRefractionMapping:Cx,Euler:qs,EventDispatcher:nu,ExternalTexture:nP,ExtrudeGeometry:iA,FileLoader:lf,Float16BufferAttribute:Zxe,Float32BufferAttribute:Rt,FloatType:Vs,Fog:Yw,FogExp2:Ww,FramebufferTexture:ybe,FrontSide:af,Frustum:Ug,FrustumArray:Zw,GLBufferAttribute:I1e,GLSL1:axe,GLSL3:eO,GreaterCompare:AG,GreaterDepth:tE,GreaterEqualCompare:CG,GreaterEqualDepth:eE,GreaterEqualStencilFunc:$ye,GreaterStencilFunc:Yye,GridHelper:K1e,Group:G0,HalfFloatType:$p,HemisphereLight:xq,HemisphereLightHelper:Y1e,IcosahedronGeometry:rA,ImageBitmapLoader:d1e,ImageLoader:Gx,ImageUtils:NG,IncrementStencilOp:jye,IncrementWrapStencilOp:kye,InstancedBufferAttribute:pg,InstancedBufferGeometry:Tq,InstancedInterleavedBuffer:U1e,InstancedMesh:VG,Int16BufferAttribute:Kxe,Int32BufferAttribute:$xe,Int8BufferAttribute:Xxe,IntType:Iw,InterleavedBuffer:Kw,InterleavedBufferAttribute:Gp,Interpolant:Rb,InterpolateDiscrete:Dx,InterpolateLinear:DE,InterpolateSmooth:HS,InterpolationSamplingMode:lxe,InterpolationSamplingType:oxe,InvertStencilOp:Hye,KeepStencilOp:dp,KeyframeTrack:ol,LOD:FG,LatheGeometry:aA,Layers:dg,LessCompare:EG,LessDepth:QM,LessEqualCompare:XN,LessEqualDepth:Hp,LessEqualStencilFunc:Wye,LessStencilFunc:qye,Light:Zd,LightProbe:Aq,Line:Fd,Line3:H1e,LineBasicMaterial:gs,LineCurve:aP,LineCurve3:ZG,LineDashedMaterial:dq,LineLoop:GG,LineSegments:iu,LinearFilter:dr,LinearInterpolant:dP,LinearMipMapLinearFilter:Oye,LinearMipMapNearestFilter:Rye,LinearMipmapLinearFilter:Bc,LinearMipmapNearestFilter:Ky,LinearSRGBColorSpace:Bd,LinearToneMapping:uG,LinearTransfer:Px,Loader:Ks,LoaderUtils:aO,LoadingManager:pP,LoopOnce:vG,LoopPingPong:xG,LoopRepeat:yG,MOUSE:up,Material:ja,MaterialLoader:dA,MathUtils:Rxe,Matrix2:_P,Matrix3:cn,Matrix4:Jt,MaxEquation:Y7,Mesh:Ir,MeshBasicMaterial:Kd,MeshDepthMaterial:cP,MeshDistanceMaterial:uP,MeshLambertMaterial:uq,MeshMatcapMaterial:fq,MeshNormalMaterial:cq,MeshPhongMaterial:oq,MeshPhysicalMaterial:sq,MeshStandardMaterial:Fx,MeshToonMaterial:lq,MinEquation:W7,MirroredRepeatWrapping:Ox,MixOperation:lG,MultiplyBlending:ZR,MultiplyOperation:Sb,NearestFilter:ma,NearestMipMapLinearFilter:Cye,NearestMipMapNearestFilter:Tye,NearestMipmapLinearFilter:V0,NearestMipmapNearestFilter:BN,NeutralToneMapping:mG,NeverCompare:MG,NeverDepth:$M,NeverStencilFunc:Gye,NoBlending:Gc,NoColorSpace:Fu,NoToneMapping:qc,NormalAnimationBlendMode:Hw,NormalBlending:Pp,NotEqualCompare:TG,NotEqualDepth:nE,NotEqualStencilFunc:Kye,NumberKeyframeTrack:kx,Object3D:Bn,ObjectLoader:u1e,ObjectSpaceNormalMap:SG,OctahedronGeometry:Tb,OneFactor:$7,OneMinusConstantAlphaFactor:oG,OneMinusConstantColorFactor:aG,OneMinusDstAlphaFactor:eG,OneMinusDstColorFactor:nG,OneMinusSrcAlphaFactor:KM,OneMinusSrcColorFactor:Q7,OrthographicCamera:Xc,PCFShadowMap:Lw,PCFSoftShadowMap:Yy,PMREMGenerator:cO,Path:UE,PerspectiveCamera:Fi,Plane:zu,PlaneGeometry:Ig,PlaneHelper:t_e,PointLight:_q,PointLightHelper:X1e,Points:qG,PointsMaterial:eP,PolarGridHelper:$1e,PolyhedronGeometry:$d,PositionalAudio:y1e,PropertyBinding:In,PropertyMixer:Dq,QuadraticBezierCurve:sP,QuadraticBezierCurve3:oP,Quaternion:za,QuaternionKeyframeTrack:Ob,QuaternionLinearInterpolant:vq,RED_GREEN_RGTC2_Format:RE,RED_RGTC1_Format:TE,REVISION:Pw,RGBADepthPacking:_G,RGBAFormat:Ia,RGBAIntegerFormat:Vw,RGBA_ASTC_10x10_Format:_E,RGBA_ASTC_10x5_Format:yE,RGBA_ASTC_10x6_Format:xE,RGBA_ASTC_10x8_Format:bE,RGBA_ASTC_12x10_Format:SE,RGBA_ASTC_12x12_Format:ME,RGBA_ASTC_4x4_Format:uE,RGBA_ASTC_5x4_Format:fE,RGBA_ASTC_5x5_Format:dE,RGBA_ASTC_6x5_Format:hE,RGBA_ASTC_6x6_Format:pE,RGBA_ASTC_8x5_Format:mE,RGBA_ASTC_8x6_Format:gE,RGBA_ASTC_8x8_Format:vE,RGBA_BPTC_Format:EE,RGBA_ETC2_EAC_Format:cE,RGBA_PVRTC_2BPPV1_Format:sE,RGBA_PVRTC_4BPPV1_Format:aE,RGBA_S3TC_DXT1_Format:Zy,RGBA_S3TC_DXT3_Format:Qy,RGBA_S3TC_DXT5_Format:Jy,RGBDepthPacking:Uye,RGBFormat:GN,RGBIntegerFormat:Dye,RGB_BPTC_SIGNED_Format:wE,RGB_BPTC_UNSIGNED_Format:AE,RGB_ETC1_Format:oE,RGB_ETC2_Format:lE,RGB_PVRTC_2BPPV1_Format:rE,RGB_PVRTC_4BPPV1_Format:iE,RGB_S3TC_DXT1_Format:$y,RGDepthPacking:Iye,RGFormat:Fw,RGIntegerFormat:kw,RawShaderMaterial:aq,Ray:Zp,Raycaster:Pq,RectAreaLight:Eq,RedFormat:jw,RedIntegerFormat:Mb,ReinhardToneMapping:fG,RenderTarget:YN,RenderTarget3D:N1e,RepeatWrapping:Rx,ReplaceStencilOp:Bye,ReverseSubtractEquation:X7,RingGeometry:sA,SIGNED_RED_GREEN_RGTC2_Format:OE,SIGNED_RED_RGTC1_Format:CE,SRGBColorSpace:Na,SRGBTransfer:Jn,Scene:ZN,ShaderChunk:yn,ShaderLib:Vl,ShaderMaterial:rl,ShadowMaterial:rq,Shape:Up,ShapeGeometry:oA,ShapePath:r_e,ShapeUtils:Xl,ShortType:FN,Skeleton:$w,SkeletonHelper:q1e,SkinnedMesh:kG,Source:Od,Sphere:ga,SphereGeometry:Cb,Spherical:oO,SphericalHarmonics3:wq,SplineCurve:lP,SpotLight:bq,SpotLightHelper:G1e,Sprite:jG,SpriteMaterial:QN,SrcAlphaFactor:YM,SrcAlphaSaturateFactor:iG,SrcColorFactor:Z7,StaticCopyUsage:nxe,StaticDrawUsage:Lx,StaticReadUsage:Jye,StereoCamera:p1e,StreamCopyUsage:rxe,StreamDrawUsage:Qye,StreamReadUsage:txe,StringKeyframeTrack:em,SubtractEquation:q7,SubtractiveBlending:$R,TOUCH:fp,TangentSpaceNormalMap:Yd,TetrahedronGeometry:lA,Texture:er,TextureLoader:s1e,TextureUtils:u_e,Timer:z1e,TimestampQuery:sxe,TorusGeometry:cA,TorusKnotGeometry:uA,Triangle:Bs,TriangleFanDrawMode:Lye,TriangleStripDrawMode:Pye,TrianglesDrawMode:Nye,TubeGeometry:fA,UVMapping:Uw,Uint16BufferAttribute:KN,Uint32BufferAttribute:$N,Uint8BufferAttribute:Wxe,Uint8ClampedBufferAttribute:Yxe,Uniform:bP,UniformsGroup:L1e,UniformsLib:xt,UniformsUtils:UG,UnsignedByteType:il,UnsignedInt101111Type:VN,UnsignedInt248Type:sg,UnsignedInt5999Type:kN,UnsignedIntType:of,UnsignedShort4444Type:zw,UnsignedShort5551Type:Bw,UnsignedShortType:ag,VSMShadowMap:kl,Vector2:He,Vector3:te,Vector4:zn,VectorKeyframeTrack:Vx,VideoFrameTexture:vbe,VideoTexture:XG,WebGL3DRenderTarget:Lxe,WebGLArrayRenderTarget:Pxe,WebGLCoordinateSystem:_o,WebGLCubeRenderTarget:zG,WebGLRenderTarget:eu,WebGLRenderer:kq,WebGLUtils:Fq,WebGPUCoordinateSystem:cg,WebXRController:GS,WireframeGeometry:iq,WrapAroundEnding:Nx,ZeroCurvatureEnding:Sp,ZeroFactor:K7,ZeroSlopeEnding:Mp,ZeroStencilOp:zye,createCanvasElement:DG,error:en,getConsoleFunction:fxe,log:Ix,setConsoleFunction:uxe,warn:bt,warnOnce:ug},Symbol.toStringTag,{value:"Module"})),Bj=t=>{let e;const n=new Set,i=(f,d)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(y=>y(e,v))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(i,r,o);return o},$we=(t=>t?Bj(t):Bj),{useSyncExternalStoreWithSelector:Zwe}=tJ,Qwe=t=>t;function Jwe(t,e=Qwe,n){const i=Zwe(t.subscribe,t.getState,t.getInitialState,e,n);return rx.useDebugValue(i),i}const jj=(t,e)=>{const n=$we(t),i=(r,a=e)=>Jwe(n,r,a);return Object.assign(i,n),i},eAe=((t,e)=>t?jj(t,e):jj);var iC={exports:{}},rC={exports:{}},aC={exports:{}},sC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj;function tAe(){return Fj||(Fj=1,(function(t){function e(H,X){var K=H.length;H.push(X);e:for(;0<K;){var ne=K-1>>>1,q=H[ne];if(0<r(q,X))H[ne]=X,H[K]=q,K=ne;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],K=H.pop();if(K!==X){H[0]=K;e:for(var ne=0,q=H.length,se=q>>>1;ne<se;){var ge=2*(ne+1)-1,_e=H[ge],Ae=ge+1,Qe=H[Ae];if(0>r(_e,K))Ae<q&&0>r(Qe,_e)?(H[ne]=Qe,H[Ae]=K,ne=Ae):(H[ne]=_e,H[ge]=K,ne=ge);else if(Ae<q&&0>r(Qe,K))H[ne]=Qe,H[Ae]=K,ne=Ae;else break e}}return X}function r(H,X){var K=H.sortIndex-X.sortIndex;return K!==0?K:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],d=1,m=null,v=3,y=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var X=n(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=H)i(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function L(H){if(E=!1,T(H),!_)if(n(c)!==null)_=!0,re();else{var X=n(f);X!==null&&ae(L,X.startTime-H)}}var P=!1,N=-1,z=5,F=-1;function I(){return!(t.unstable_now()-F<z)}function j(){if(P){var H=t.unstable_now();F=H;var X=!0;try{e:{_=!1,E&&(E=!1,M(N),N=-1),y=!0;var K=v;try{t:{for(T(H),m=n(c);m!==null&&!(m.expirationTime>H&&I());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,v=m.priorityLevel;var q=ne(m.expirationTime<=H);if(H=t.unstable_now(),typeof q=="function"){m.callback=q,T(H),X=!0;break t}m===n(c)&&i(c),T(H)}else i(c);m=n(c)}if(m!==null)X=!0;else{var se=n(f);se!==null&&ae(L,se.startTime-H),X=!1}}break e}finally{m=null,v=K,y=!1}X=void 0}}finally{X?k():P=!1}}}var k;if(typeof C=="function")k=function(){C(j)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=j,k=function(){ee.postMessage(null)}}else k=function(){S(j,0)};function re(){P||(P=!0,k())}function ae(H,X){N=S(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,re())},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var K=v;v=X;try{return H()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=v;v=H;try{return X()}finally{v=K}},t.unstable_scheduleCallback=function(H,X,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,H={id:d++,callback:X,priorityLevel:H,startTime:K,expirationTime:q,sortIndex:-1},K>ne?(H.sortIndex=K,e(f,H),n(c)===null&&H===n(f)&&(E?(M(N),N=-1):E=!0,ae(L,K-ne))):(H.sortIndex=q,e(c,H),_||y||(_=!0,re())),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var X=v;return function(){var K=v;v=X;try{return H.apply(this,arguments)}finally{v=K}}}})(sC)),sC}var kj;function nAe(){return kj||(kj=1,aC.exports=tAe()),aC.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj;function iAe(){return Vj||(Vj=1,(function(t){t.exports=function(e){function n(h,p,b,A){return new hv(h,p,b,A)}function i(){}function r(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=Ml&&h[Ml]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===vv?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case dc:return"Fragment";case bs:return"Portal";case Em:return"Profiler";case Eh:return"StrictMode";case wm:return"Suspense";case kf:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case no:return(h.displayName||"Context")+".Provider";case mv:return(h._context.displayName||"Context")+".Consumer";case Ah:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Am:return p=h.displayName||null,p!==null?p:s(h.type)||"Memo";case _s:p=h._payload,h=h._init;try{return s(h(p))}catch{}}return null}function o(h){if(Ro===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Ro=p&&p[1]||"",El=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ro+h+El}function c(h,p){if(!h||lu)return"";lu=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(p){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(nn){var _t=nn}Reflect.construct(h,[],yt)}else{try{yt.call()}catch(nn){_t=nn}h.call(yt.prototype)}}else{try{throw Error()}catch(nn){_t=nn}(yt=h())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(nn){if(nn&&_t&&typeof nn.stack=="string")return[nn.stack,_t.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=A.DetermineComponentFrameRoot(),$=B[0],le=B[1];if($&&le){var ve=$.split(`
`),ke=le.split(`
`);for(D=A=0;A<ve.length&&!ve[A].includes("DetermineComponentFrameRoot");)A++;for(;D<ke.length&&!ke[D].includes("DetermineComponentFrameRoot");)D++;if(A===ve.length||D===ke.length)for(A=ve.length-1,D=ke.length-1;1<=A&&0<=D&&ve[A]!==ke[D];)D--;for(;1<=A&&0<=D;A--,D--)if(ve[A]!==ke[D]){if(A!==1||D!==1)do if(A--,D--,0>D||ve[A]!==ke[D]){var ct=`
`+ve[A].replace(" at new "," at ");return h.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",h.displayName)),ct}while(1<=A&&0<=D);break}}}finally{lu=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?o(b):""}function f(h){switch(h.tag){case 26:case 27:case 5:return o(h.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return h=c(h.type,!1),h;case 11:return h=c(h.type.render,!1),h;case 1:return h=c(h.type,!0),h;default:return""}}function d(h){try{var p="";do p+=f(h),h=h.return;while(h);return p}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function m(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function v(h){if(m(h)!==h)throw Error(r(188))}function y(h){var p=h.alternate;if(!p){if(p=m(h),p===null)throw Error(r(188));return p!==h?null:h}for(var b=h,A=p;;){var D=b.return;if(D===null)break;var B=D.alternate;if(B===null){if(A=D.return,A!==null){b=A;continue}break}if(D.child===B.child){for(B=D.child;B;){if(B===b)return v(D),h;if(B===A)return v(D),p;B=B.sibling}throw Error(r(188))}if(b.return!==A.return)b=D,A=B;else{for(var $=!1,le=D.child;le;){if(le===b){$=!0,b=D,A=B;break}if(le===A){$=!0,A=D,b=B;break}le=le.sibling}if(!$){for(le=B.child;le;){if(le===b){$=!0,b=B,A=D;break}if(le===A){$=!0,A=B,b=D;break}le=le.sibling}if(!$)throw Error(r(189))}}if(b.alternate!==A)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:p}function _(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=_(h),p!==null)return p;h=h.sibling}return null}function E(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(p=E(h),p!==null))return p;h=h.sibling}return null}function S(h){return{current:h}}function M(h){0>Cl||(h.current=Li[Cl],Li[Cl]=null,Cl--)}function C(h,p){Cl++,Li[Cl]=h.current,h.current=p}function T(h){return h>>>=0,h===0?32:31-(z1(h)/B1|0)|0}function L(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function P(h,p){var b=h.pendingLanes;if(b===0)return 0;var A=0,D=h.suspendedLanes,B=h.pingedLanes,$=h.warmLanes;h=h.finishedLanes!==0;var le=b&134217727;return le!==0?(b=le&~D,b!==0?A=L(b):(B&=le,B!==0?A=L(B):h||($=le&~$,$!==0&&(A=L($))))):(le=b&~D,le!==0?A=L(le):B!==0?A=L(B):h||($=b&~$,$!==0&&(A=L($)))),A===0?0:p!==0&&p!==A&&(p&D)===0&&(D=A&-A,$=p&-p,D>=$||D===32&&($&4194176)!==0)?p:A}function N(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function z(h,p){switch(h){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var h=Do;return Do<<=1,(Do&4194176)===0&&(Do=128),h}function I(){var h=fu;return fu<<=1,(fu&62914560)===0&&(fu=4194304),h}function j(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function k(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Z(h,p,b,A,D,B){var $=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var le=h.entanglements,ve=h.expirationTimes,ke=h.hiddenUpdates;for(b=$&~b;0<b;){var ct=31-sa(b),yt=1<<ct;le[ct]=0,ve[ct]=-1;var _t=ke[ct];if(_t!==null)for(ke[ct]=null,ct=0;ct<_t.length;ct++){var nn=_t[ct];nn!==null&&(nn.lane&=-536870913)}b&=~yt}A!==0&&ee(h,A,0),B!==0&&D===0&&h.tag!==0&&(h.suspendedLanes|=B&~($&~p))}function ee(h,p,b){h.pendingLanes|=p,h.suspendedLanes&=~p;var A=31-sa(p);h.entangledLanes|=p,h.entanglements[A]=h.entanglements[A]|1073741824|b&4194218}function re(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var A=31-sa(b),D=1<<A;D&p|h[A]&p&&(h[A]|=p),b&=~D}}function ae(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function H(h){if(Ea&&typeof Ea.onCommitFiberRoot=="function")try{Ea.onCommitFiberRoot(Ui,h,void 0,(h.current.flags&128)===128)}catch{}}function X(h){if(typeof k1=="function"&&vr(h),Ea&&typeof Ea.setStrictMode=="function")try{Ea.setStrictMode(Ui,h)}catch{}}function K(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}function ne(h,p){if(typeof h=="object"&&h!==null){var b=Iv.get(h);return b!==void 0?b:(p={value:h,source:p,stack:d(p)},Iv.set(h,p),p)}return{value:h,source:p,stack:d(p)}}function q(h,p){du[hu++]=$f,du[hu++]=pu,pu=h,$f=p}function se(h,p,b){Ya[Ka++]=ao,Ya[Ka++]=so,Ya[Ka++]=xc,xc=h;var A=ao;h=so;var D=32-sa(A)-1;A&=~(1<<D),b+=1;var B=32-sa(p)+D;if(30<B){var $=D-D%5;B=(A&(1<<$)-1).toString(32),A>>=$,D-=$,ao=1<<32-sa(p)+D|b<<D|A,so=B+h}else ao=1<<B|b<<D|A,so=h}function ge(h){h.return!==null&&(q(h,1),se(h,1,0))}function _e(h){for(;h===pu;)pu=du[--hu],du[hu]=null,$f=du[--hu],du[hu]=null;for(;h===xc;)xc=Ya[--Ka],Ya[Ka]=null,so=Ya[--Ka],Ya[Ka]=null,ao=Ya[--Ka],Ya[Ka]=null}function Ae(h,p){C(No,p),C(Zf,h),C(sr,null),h=n1(p),M(sr),C(sr,h)}function Qe(){M(sr),M(Zf),M(No)}function pe(h){h.memoizedState!==null&&C(mu,h);var p=sr.current,b=qf(p,h.type);p!==b&&(C(Zf,h),C(sr,b))}function Le(h){Zf.current===h&&(M(sr),M(Zf)),mu.current===h&&(M(mu),ra?io._currentValue=pc:io._currentValue2=pc)}function Ye(h){var p=Error(r(418,""));throw ut(ne(p,h)),Uh}function xe(h,p){if(!Dr)throw Error(r(175));T1(h.stateNode,h.type,h.memoizedProps,p,h)||Ye(h)}function Ge(h){for(Nr=h.return;Nr;)switch(Nr.tag){case 3:case 27:yr=!0;return;case 5:case 13:yr=!1;return;default:Nr=Nr.return}}function $e(h){if(!Dr||h!==Nr)return!1;if(!Rn)return Ge(h),Rn=!0,!1;var p=!1;if(Kn?h.tag!==3&&h.tag!==27&&(h.tag!==5||Um(h.type)&&!an(h.type,h.memoizedProps))&&(p=!0):h.tag!==3&&(h.tag!==5||Um(h.type)&&!an(h.type,h.memoizedProps))&&(p=!0),p&&Pr&&Ye(h),Ge(h),h.tag===13){if(!Dr)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));Pr=R1(h)}else Pr=Nr?Nv(h.stateNode):null;return!0}function Ue(){Dr&&(Pr=Nr=null,Rn=!1)}function ut(h){Es===null?Es=[h]:Es.push(h)}function De(){for(var h=gu,p=oo=gu=0;p<h;){var b=ws[p];ws[p++]=null;var A=ws[p];ws[p++]=null;var D=ws[p];ws[p++]=null;var B=ws[p];if(ws[p++]=null,A!==null&&D!==null){var $=A.pending;$===null?D.next=D:(D.next=$.next,$.next=D),A.pending=D}B!==0&&at(b,D,B)}}function Q(h,p,b,A){ws[gu++]=h,ws[gu++]=p,ws[gu++]=b,ws[gu++]=A,oo|=A,h.lanes|=A,h=h.alternate,h!==null&&(h.lanes|=A)}function Fe(h,p,b,A){return Q(h,p,b,A),Ze(h)}function je(h,p){return Q(h,null,null,p),Ze(h)}function at(h,p,b){h.lanes|=b;var A=h.alternate;A!==null&&(A.lanes|=b);for(var D=!1,B=h.return;B!==null;)B.childLanes|=b,A=B.alternate,A!==null&&(A.childLanes|=b),B.tag===22&&(h=B.stateNode,h===null||h._visibility&1||(D=!0)),h=B,B=B.return;D&&p!==null&&h.tag===3&&(B=h.stateNode,D=31-sa(b),B=B.hiddenUpdates,h=B[D],h===null?B[D]=[p]:h.push(p),p.lane=b|536870912)}function Ze(h){if(50<sd)throw sd=0,$m=null,Error(r(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}function dt(h){h!==Rl&&h.next===null&&(Rl===null?Ih=Rl=h:Rl=Rl.next=h),ai=!0,vu||(vu=!0,Ie(vt))}function ot(h,p){if(!zv&&ai){zv=!0;do for(var b=!1,A=Ih;A!==null;){if(h!==0){var D=A.pendingLanes;if(D===0)var B=0;else{var $=A.suspendedLanes,le=A.pingedLanes;B=(1<<31-sa(42|h)+1)-1,B&=D&~($&~le),B=B&201326677?B&201326677|1:B?B|2:0}B!==0&&(b=!0,ye(A,B))}else B=An,B=P(A,A===kn?B:0),(B&3)===0||N(A,B)||(b=!0,ye(A,B));A=A.next}while(b);zv=!1}}function vt(){ai=vu=!1;var h=0;Qf!==0&&(s1()&&(h=Qf),Qf=0);for(var p=Ms(),b=null,A=Ih;A!==null;){var D=A.next,B=J(A,p);B===0?(A.next=null,b===null?Ih=D:b.next=D,D===null&&(Rl=b)):(b=A,(h!==0||(B&3)!==0)&&(ai=!0)),A=D}ot(h)}function J(h,p){for(var b=h.suspendedLanes,A=h.pingedLanes,D=h.expirationTimes,B=h.pendingLanes&-62914561;0<B;){var $=31-sa(B),le=1<<$,ve=D[$];ve===-1?((le&b)===0||(le&A)!==0)&&(D[$]=z(le,p)):ve<=p&&(h.expiredLanes|=le),B&=~le}if(p=kn,b=An,b=P(h,h===p?b:0),A=h.callbackNode,b===0||h===p&&Wn===2||h.cancelPendingCommit!==null)return A!==null&&A!==null&&jm(A),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||N(h,b)){if(p=b&-b,p===h.callbackPriority)return p;switch(A!==null&&jm(A),ae(b)){case 2:case 8:b=F1;break;case 32:b=Vm;break;case 268435456:b=CA;break;default:b=Vm}return A=G.bind(null,h),b=Lh(b,A),h.callbackPriority=p,h.callbackNode=b,p}return A!==null&&A!==null&&jm(A),h.callbackPriority=2,h.callbackNode=null,2}function G(h,p){var b=h.callbackNode;if(to()&&h.callbackNode!==b)return null;var A=An;return A=P(h,h===kn?A:0),A===0?null:(oc(h,A,p),J(h,Ms()),h.callbackNode!=null&&h.callbackNode===b?G.bind(null,h):null)}function ye(h,p){if(to())return null;oc(h,p,!0)}function Ie(h){Sv?Tl(function(){(Dn&6)!==0?Lh(km,h):h()}):Lh(km,h)}function ze(){return Qf===0&&(Qf=F()),Qf}function Oe(h,p){if(Jf===null){var b=Jf=[];yu=0,$a=ze(),xu={status:"pending",value:void 0,then:function(A){b.push(A)}}}return yu++,p.then(mt,mt),p}function mt(){if(--yu===0&&Jf!==null){xu!==null&&(xu.status="fulfilled");var h=Jf;Jf=null,$a=0,xu=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function ht(h,p){var b=[],A={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return h.then(function(){A.status="fulfilled",A.value=p;for(var D=0;D<b.length;D++)(0,b[D])(p)},function(D){for(A.status="rejected",A.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),A}function Dt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wt(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function We(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function nt(h,p,b){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(Dn&2)!==0){var D=A.pending;return D===null?p.next=p:(p.next=D.next,D.next=p),A.pending=p,p=Ze(h),at(h,null,b),p}return Q(h,A,p,b),Ze(h)}function At(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194176)!==0)){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,re(h,b)}}function ce(h,p){var b=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var D=null,B=null;if(b=b.firstBaseUpdate,b!==null){do{var $={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};B===null?D=B=$:B=B.next=$,b=b.next}while(b!==null);B===null?D=B=p:B=B.next=p}else D=B=p;b={baseState:A.baseState,firstBaseUpdate:D,lastBaseUpdate:B,shared:A.shared,callbacks:A.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function Me(){if(bu){var h=xu;if(h!==null)throw h}}function Je(h,p,b,A){bu=!1;var D=h.updateQueue;Ol=!1;var B=D.firstBaseUpdate,$=D.lastBaseUpdate,le=D.shared.pending;if(le!==null){D.shared.pending=null;var ve=le,ke=ve.next;ve.next=null,$===null?B=ke:$.next=ke,$=ve;var ct=h.alternate;ct!==null&&(ct=ct.updateQueue,le=ct.lastBaseUpdate,le!==$&&(le===null?ct.firstBaseUpdate=ke:le.next=ke,ct.lastBaseUpdate=ve))}if(B!==null){var yt=D.baseState;$=0,ct=ke=ve=null,le=B;do{var _t=le.lane&-536870913,nn=_t!==le.lane;if(nn?(An&_t)===_t:(A&_t)===_t){_t!==0&&_t===$a&&(bu=!0),ct!==null&&(ct=ct.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var rs=h,Cc=le;_t=p;var Rc=b;switch(Cc.tag){case 1:if(rs=Cc.payload,typeof rs=="function"){yt=rs.call(Rc,yt,_t);break e}yt=rs;break e;case 3:rs.flags=rs.flags&-65537|128;case 0:if(rs=Cc.payload,_t=typeof rs=="function"?rs.call(Rc,yt,_t):rs,_t==null)break e;yt=Mm({},yt,_t);break e;case 2:Ol=!0}}_t=le.callback,_t!==null&&(h.flags|=64,nn&&(h.flags|=8192),nn=D.callbacks,nn===null?D.callbacks=[_t]:nn.push(_t))}else nn={lane:_t,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ct===null?(ke=ct=nn,ve=yt):ct=ct.next=nn,$|=_t;if(le=le.next,le===null){if(le=D.shared.pending,le===null)break;nn=le,le=nn.next,nn.next=null,D.lastBaseUpdate=nn,D.shared.pending=null}}while(!0);ct===null&&(ve=yt),D.baseState=ve,D.firstBaseUpdate=ke,D.lastBaseUpdate=ct,B===null&&(D.shared.lanes=0),ns|=$,h.lanes=$,h.memoizedState=yt}}function ie(h,p){if(typeof h!="function")throw Error(r(191,h));h.call(p)}function et(h,p){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)ie(b[h],p)}function it(h,p){if(wa(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),A=Object.keys(p);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var D=b[A];if(!Po.call(p,D)||!wa(h[D],p[D]))return!1}return!0}function rt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function tt(){}function qe(h,p,b){switch(b=h[b],b===void 0?h.push(p):b!==p&&(p.then(tt,tt),p=b),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===ed?Error(r(483)):h;default:if(typeof p.status=="string")p.then(tt,tt);else{if(h=kn,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=p,h.status="pending",h.then(function(A){if(p.status==="pending"){var D=p;D.status="fulfilled",D.value=A}},function(A){if(p.status==="pending"){var D=p;D.status="rejected",D.reason=A}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===ed?Error(r(483)):h}throw bc=p,ed}}function gt(){if(bc===null)throw Error(r(459));var h=bc;return bc=null,h}function Ot(h){var p=Sc;return Sc+=1,_c===null&&(_c=[]),qe(_c,h,p)}function mn(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function fn(h,p){throw p.$$typeof===_A?Error(r(525)):(h=Object.prototype.toString.call(p),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function tr(h){var p=h._init;return p(h._payload)}function ti(h){function p(Ee,ue){if(h){var Re=Ee.deletions;Re===null?(Ee.deletions=[ue],Ee.flags|=16):Re.push(ue)}}function b(Ee,ue){if(!h)return null;for(;ue!==null;)p(Ee,ue),ue=ue.sibling;return null}function A(Ee){for(var ue=new Map;Ee!==null;)Ee.key!==null?ue.set(Ee.key,Ee):ue.set(Ee.index,Ee),Ee=Ee.sibling;return ue}function D(Ee,ue){return Ee=xs(Ee,ue),Ee.index=0,Ee.sibling=null,Ee}function B(Ee,ue,Re){return Ee.index=Re,h?(Re=Ee.alternate,Re!==null?(Re=Re.index,Re<ue?(Ee.flags|=33554434,ue):Re):(Ee.flags|=33554434,ue)):(Ee.flags|=1048576,ue)}function $(Ee){return h&&Ee.alternate===null&&(Ee.flags|=33554434),Ee}function le(Ee,ue,Re,st){return ue===null||ue.tag!==6?(ue=_m(Re,Ee.mode,st),ue.return=Ee,ue):(ue=D(ue,Re),ue.return=Ee,ue)}function ve(Ee,ue,Re,st){var It=Re.type;return It===dc?ct(Ee,ue,Re.props.children,st,Re.key):ue!==null&&(ue.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===_s&&tr(It)===ue.type)?(ue=D(ue,Re.props),mn(ue,Re),ue.return=Ee,ue):(ue=Co(Re.type,Re.key,Re.props,null,Ee.mode,st),mn(ue,Re),ue.return=Ee,ue)}function ke(Ee,ue,Re,st){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Re.containerInfo||ue.stateNode.implementation!==Re.implementation?(ue=pv(Re,Ee.mode,st),ue.return=Ee,ue):(ue=D(ue,Re.children||[]),ue.return=Ee,ue)}function ct(Ee,ue,Re,st,It){return ue===null||ue.tag!==7?(ue=Ei(Re,Ee.mode,st,It),ue.return=Ee,ue):(ue=D(ue,Re),ue.return=Ee,ue)}function yt(Ee,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=_m(""+ue,Ee.mode,Re),ue.return=Ee,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Mh:return Re=Co(ue.type,ue.key,ue.props,null,Ee.mode,Re),mn(Re,ue),Re.return=Ee,Re;case bs:return ue=pv(ue,Ee.mode,Re),ue.return=Ee,ue;case _s:var st=ue._init;return ue=st(ue._payload),yt(Ee,ue,Re)}if(Vf(ue)||a(ue))return ue=Ei(ue,Ee.mode,Re,null),ue.return=Ee,ue;if(typeof ue.then=="function")return yt(Ee,Ot(ue),Re);if(ue.$$typeof===no)return yt(Ee,lh(Ee,ue),Re);fn(Ee,ue)}return null}function _t(Ee,ue,Re,st){var It=ue!==null?ue.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return It!==null?null:le(Ee,ue,""+Re,st);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Mh:return Re.key===It?ve(Ee,ue,Re,st):null;case bs:return Re.key===It?ke(Ee,ue,Re,st):null;case _s:return It=Re._init,Re=It(Re._payload),_t(Ee,ue,Re,st)}if(Vf(Re)||a(Re))return It!==null?null:ct(Ee,ue,Re,st,null);if(typeof Re.then=="function")return _t(Ee,ue,Ot(Re),st);if(Re.$$typeof===no)return _t(Ee,ue,lh(Ee,Re),st);fn(Ee,Re)}return null}function nn(Ee,ue,Re,st,It){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Ee=Ee.get(Re)||null,le(ue,Ee,""+st,It);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Mh:return Ee=Ee.get(st.key===null?Re:st.key)||null,ve(ue,Ee,st,It);case bs:return Ee=Ee.get(st.key===null?Re:st.key)||null,ke(ue,Ee,st,It);case _s:var di=st._init;return st=di(st._payload),nn(Ee,ue,Re,st,It)}if(Vf(st)||a(st))return Ee=Ee.get(Re)||null,ct(ue,Ee,st,It,null);if(typeof st.then=="function")return nn(Ee,ue,Re,Ot(st),It);if(st.$$typeof===no)return nn(Ee,ue,Re,lh(ue,st),It);fn(ue,st)}return null}function rs(Ee,ue,Re,st){for(var It=null,di=null,Yt=ue,Un=ue=0,Ii=null;Yt!==null&&Un<Re.length;Un++){Yt.index>Un?(Ii=Yt,Yt=null):Ii=Yt.sibling;var wn=_t(Ee,Yt,Re[Un],st);if(wn===null){Yt===null&&(Yt=Ii);break}h&&Yt&&wn.alternate===null&&p(Ee,Yt),ue=B(wn,ue,Un),di===null?It=wn:di.sibling=wn,di=wn,Yt=Ii}if(Un===Re.length)return b(Ee,Yt),Rn&&q(Ee,Un),It;if(Yt===null){for(;Un<Re.length;Un++)Yt=yt(Ee,Re[Un],st),Yt!==null&&(ue=B(Yt,ue,Un),di===null?It=Yt:di.sibling=Yt,di=Yt);return Rn&&q(Ee,Un),It}for(Yt=A(Yt);Un<Re.length;Un++)Ii=nn(Yt,Ee,Un,Re[Un],st),Ii!==null&&(h&&Ii.alternate!==null&&Yt.delete(Ii.key===null?Un:Ii.key),ue=B(Ii,ue,Un),di===null?It=Ii:di.sibling=Ii,di=Ii);return h&&Yt.forEach(function(ko){return p(Ee,ko)}),Rn&&q(Ee,Un),It}function Cc(Ee,ue,Re,st){if(Re==null)throw Error(r(151));for(var It=null,di=null,Yt=ue,Un=ue=0,Ii=null,wn=Re.next();Yt!==null&&!wn.done;Un++,wn=Re.next()){Yt.index>Un?(Ii=Yt,Yt=null):Ii=Yt.sibling;var ko=_t(Ee,Yt,wn.value,st);if(ko===null){Yt===null&&(Yt=Ii);break}h&&Yt&&ko.alternate===null&&p(Ee,Yt),ue=B(ko,ue,Un),di===null?It=ko:di.sibling=ko,di=ko,Yt=Ii}if(wn.done)return b(Ee,Yt),Rn&&q(Ee,Un),It;if(Yt===null){for(;!wn.done;Un++,wn=Re.next())wn=yt(Ee,wn.value,st),wn!==null&&(ue=B(wn,ue,Un),di===null?It=wn:di.sibling=wn,di=wn);return Rn&&q(Ee,Un),It}for(Yt=A(Yt);!wn.done;Un++,wn=Re.next())wn=nn(Yt,Ee,Un,wn.value,st),wn!==null&&(h&&wn.alternate!==null&&Yt.delete(wn.key===null?Un:wn.key),ue=B(wn,ue,Un),di===null?It=wn:di.sibling=wn,di=wn);return h&&Yt.forEach(function(Zm){return p(Ee,Zm)}),Rn&&q(Ee,Un),It}function Rc(Ee,ue,Re,st){if(typeof Re=="object"&&Re!==null&&Re.type===dc&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Mh:e:{for(var It=Re.key;ue!==null;){if(ue.key===It){if(It=Re.type,It===dc){if(ue.tag===7){b(Ee,ue.sibling),st=D(ue,Re.props.children),st.return=Ee,Ee=st;break e}}else if(ue.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===_s&&tr(It)===ue.type){b(Ee,ue.sibling),st=D(ue,Re.props),mn(st,Re),st.return=Ee,Ee=st;break e}b(Ee,ue);break}else p(Ee,ue);ue=ue.sibling}Re.type===dc?(st=Ei(Re.props.children,Ee.mode,st,Re.key),st.return=Ee,Ee=st):(st=Co(Re.type,Re.key,Re.props,null,Ee.mode,st),mn(st,Re),st.return=Ee,Ee=st)}return $(Ee);case bs:e:{for(It=Re.key;ue!==null;){if(ue.key===It)if(ue.tag===4&&ue.stateNode.containerInfo===Re.containerInfo&&ue.stateNode.implementation===Re.implementation){b(Ee,ue.sibling),st=D(ue,Re.children||[]),st.return=Ee,Ee=st;break e}else{b(Ee,ue);break}else p(Ee,ue);ue=ue.sibling}st=pv(Re,Ee.mode,st),st.return=Ee,Ee=st}return $(Ee);case _s:return It=Re._init,Re=It(Re._payload),Rc(Ee,ue,Re,st)}if(Vf(Re))return rs(Ee,ue,Re,st);if(a(Re)){if(It=a(Re),typeof It!="function")throw Error(r(150));return Re=It.call(Re),Cc(Ee,ue,Re,st)}if(typeof Re.then=="function")return Rc(Ee,ue,Ot(Re),st);if(Re.$$typeof===no)return Rc(Ee,ue,lh(Ee,Re),st);fn(Ee,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ue!==null&&ue.tag===6?(b(Ee,ue.sibling),st=D(ue,Re),st.return=Ee,Ee=st):(b(Ee,ue),st=_m(Re,Ee.mode,st),st.return=Ee,Ee=st),$(Ee)):b(Ee,ue)}return function(Ee,ue,Re,st){try{Sc=0;var It=Rc(Ee,ue,Re,st);return _c=null,It}catch(Yt){if(Yt===ed)throw Yt;var di=n(29,Yt,null,Ee.mode);return di.lanes=st,di.return=Ee,di}finally{}}}function nr(h,p){h=Xr,C(td,h),C(si,p),Xr=h|p.baseLanes}function ir(){C(td,Xr),C(si,si.current)}function $s(){Xr=td.current,M(si),M(td)}function hr(h){var p=h.alternate;C(or,or.current&1),C(Za,h),$n===null&&(p===null||si.current!==null||p.memoizedState!==null)&&($n=h)}function yf(h){if(h.tag===22){if(C(or,or.current),C(Za,h),$n===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&($n=h)}}else Zs()}function Zs(){C(or,or.current),C(Za,Za.current)}function Fa(h){M(Za),$n===h&&($n=null),M(or)}function ka(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Nm(b)||Pm(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function ni(){throw Error(r(321))}function Va(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!wa(h[b],p[b]))return!1;return!0}function Qs(h,p,b,A,D,B){return Dl=B,dn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Wt.H=h===null||h.memoizedState===null?wc:oa,Ec=!1,B=b(A,D),Ec=!1,_u&&(B=cl(p,b,A,D)),ll(h),B}function ll(h){Wt.H=wi;var p=Vt!==null&&Vt.next!==null;if(Dl=0,On=Vt=dn=null,As=!1,Su=0,xr=null,p)throw Error(r(300));h===null||Zn||(h=h.dependencies,h!==null&&oh(h)&&(Zn=!0))}function cl(h,p,b,A){dn=h;var D=0;do{if(_u&&(xr=null),Su=0,_u=!1,25<=D)throw Error(r(301));if(D+=1,On=Vt=null,h.updateQueue!=null){var B=h.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}Wt.H=Qa,B=p(b,A)}while(_u);return B}function qi(){var h=Wt.H,p=h.useState()[0];return p=typeof p.then=="function"?he(p):p,h=h.useState()[0],(Vt!==null?Vt.memoizedState:null)!==h&&(dn.flags|=1024),p}function xf(){var h=Hm!==0;return Hm=0,h}function bf(h,p,b){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b}function Js(h){if(As){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}As=!1}Dl=0,On=Vt=dn=null,_u=!1,Su=Hm=0,xr=null}function Di(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?dn.memoizedState=On=h:On=On.next=h,On}function Y(){if(Vt===null){var h=dn.alternate;h=h!==null?h.memoizedState:null}else h=Vt.next;var p=On===null?dn.memoizedState:On.next;if(p!==null)On=p,Vt=h;else{if(h===null)throw dn.alternate===null?Error(r(467)):Error(r(310));Vt=h,h={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},On===null?dn.memoizedState=On=h:On=On.next=h}return On}function he(h){var p=Su;return Su+=1,xr===null&&(xr=[]),h=qe(xr,h,p),p=dn,(On===null?p.memoizedState:On.next)===null&&(p=p.alternate,Wt.H=p===null||p.memoizedState===null?wc:oa),h}function Te(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return he(h);if(h.$$typeof===no)return Tr(h)}throw Error(r(438,String(h)))}function Ne(h){var p=null,b=dn.updateQueue;if(b!==null&&(p=b.memoCache),p==null){var A=dn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(p={data:A.data.map(function(D){return D.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),b===null&&(b=Gm(),dn.updateQueue=b),b.memoCache=p,b=p.data[p.index],b===void 0)for(b=p.data[p.index]=Array(h),A=0;A<h;A++)b[A]=t1;return p.index++,b}function de(h,p){return typeof p=="function"?p(h):p}function lt(h){var p=Y();return ft(p,Vt,h)}function ft(h,p,b){var A=h.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=b;var D=h.baseQueue,B=A.pending;if(B!==null){if(D!==null){var $=D.next;D.next=B.next,B.next=$}p.baseQueue=D=B,A.pending=null}if(B=h.baseState,D===null)h.memoizedState=B;else{p=D.next;var le=$=null,ve=null,ke=p,ct=!1;do{var yt=ke.lane&-536870913;if(yt!==ke.lane?(An&yt)===yt:(Dl&yt)===yt){var _t=ke.revertLane;if(_t===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),yt===$a&&(ct=!0);else if((Dl&_t)===_t){ke=ke.next,_t===$a&&(ct=!0);continue}else yt={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ve===null?(le=ve=yt,$=B):ve=ve.next=yt,dn.lanes|=_t,ns|=_t;yt=ke.action,Ec&&b(B,yt),B=ke.hasEagerState?ke.eagerState:b(B,yt)}else _t={lane:yt,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},ve===null?(le=ve=_t,$=B):ve=ve.next=_t,dn.lanes|=yt,ns|=yt;ke=ke.next}while(ke!==null&&ke!==p);if(ve===null?$=B:ve.next=le,!wa(B,h.memoizedState)&&(Zn=!0,ct&&(b=xu,b!==null)))throw b;h.memoizedState=B,h.baseState=$,h.baseQueue=ve,A.lastRenderedState=B}return D===null&&(A.lanes=0),[h.memoizedState,A.dispatch]}function Et(h){var p=Y(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var A=b.dispatch,D=b.pending,B=p.memoizedState;if(D!==null){b.pending=null;var $=D=D.next;do B=h(B,$.action),$=$.next;while($!==D);wa(B,p.memoizedState)||(Zn=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),b.lastRenderedState=B}return[B,A]}function St(h,p,b){var A=dn,D=Y(),B=Rn;if(B){if(b===void 0)throw Error(r(407));b=b()}else b=p();var $=!wa((Vt||D).memoizedState,b);if($&&(D.memoizedState=b,Zn=!0),D=D.queue,jg(Pt.bind(null,A,D,h),[h]),D.getSnapshot!==p||$||On!==null&&On.memoizedState.tag&1){if(A.flags|=2048,ri(9,jt.bind(null,A,D,b,p),{destroy:void 0},null),kn===null)throw Error(r(349));B||(Dl&60)!==0||Lt(A,p,b)}return b}function Lt(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=dn.updateQueue,p===null?(p=Gm(),dn.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function jt(h,p,b,A){p.value=b,p.getSnapshot=A,gn(p)&&Pn(h)}function Pt(h,p,b){return b(function(){gn(p)&&Pn(h)})}function gn(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!wa(h,b)}catch{return!0}}function Pn(h){var p=je(h,2);p!==null&&gr(p,h,2)}function En(h){var p=Di();if(typeof h=="function"){var b=h;if(h=b(),Ec){X(!0);try{b()}finally{X(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:h},p}function ii(h,p,b,A){return h.baseState=b,ft(h,Vt,typeof A=="function"?A:de)}function Gn(h,p,b,A,D){if(nh(h))throw Error(r(485));if(h=p.action,h!==null){var B={payload:D,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){B.listeners.push($)}};Wt.T!==null?b(!0):B.isTransition=!1,A(B),b=p.pending,b===null?(B.next=p.pending=B,Ut(p,B)):(B.next=b.next,p.pending=b.next=B)}}function Ut(h,p){var b=p.action,A=p.payload,D=h.state;if(p.isTransition){var B=Wt.T,$={};Wt.T=$;try{var le=b(D,A),ve=Wt.S;ve!==null&&ve($,le),Yn(h,p,le)}catch(ke){wr(h,p,ke)}finally{Wt.T=B}}else try{B=b(D,A),Yn(h,p,B)}catch(ke){wr(h,p,ke)}}function Yn(h,p,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(A){_n(h,p,A)},function(A){return wr(h,p,A)}):_n(h,p,b)}function _n(h,p,b){p.status="fulfilled",p.value=b,Xi(p),h.state=b,p=h.pending,p!==null&&(b=p.next,b===p?h.pending=null:(b=b.next,p.next=b,Ut(h,b)))}function wr(h,p,b){var A=h.pending;if(h.pending=null,A!==null){A=A.next;do p.status="rejected",p.reason=b,Xi(p),p=p.next;while(p!==A)}h.action=null}function Xi(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function pr(h,p){return p}function ul(h,p){if(Rn){var b=kn.formState;if(b!==null){e:{var A=dn;if(Rn){if(Pr){var D=Dv(Pr,yr);if(D){Pr=Nv(D),A=M1(D);break e}}Ye(A)}A=!1}A&&(p=b[0])}}b=Di(),b.memoizedState=b.baseState=p,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:p},b.queue=A,b=Hg.bind(null,dn,A),A.dispatch=b,A=En(!1);var B=Ef.bind(null,dn,!1,A.queue);return A=Di(),D={state:p,dispatch:null,action:h,pending:null},A.queue=D,b=Gn.bind(null,dn,D,B,b),D.dispatch=b,A.memoizedState=h,[p,b,!1]}function Xn(h){var p=Y();return Mi(p,Vt,h)}function Mi(h,p,b){p=ft(h,p,pr)[0],h=lt(de)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?he(p):p;var A=Y(),D=A.queue,B=D.dispatch;return b!==A.memoizedState&&(dn.flags|=2048,ri(9,ea.bind(null,D,b),{destroy:void 0},null)),[p,B,h]}function ea(h,p){h.action=p}function rr(h){var p=Y(),b=Vt;if(b!==null)return Mi(p,b,h);Y(),p=p.memoizedState,b=Y();var A=b.queue.dispatch;return b.memoizedState=h,[p,A,!1]}function ri(h,p,b,A){return h={tag:h,create:p,inst:b,deps:A,next:null},p=dn.updateQueue,p===null&&(p=Gm(),dn.updateQueue=p),b=p.lastEffect,b===null?p.lastEffect=h.next=h:(A=b.next,b.next=h,h.next=A,p.lastEffect=h),h}function _f(){return Y().memoizedState}function Ha(h,p,b,A){var D=Di();dn.flags|=h,D.memoizedState=ri(1|p,b,{destroy:void 0},A===void 0?null:A)}function Qd(h,p,b,A){var D=Y();A=A===void 0?null:A;var B=D.memoizedState.inst;Vt!==null&&A!==null&&Va(A,Vt.memoizedState.deps)?D.memoizedState=ri(p,b,B,A):(dn.flags|=h,D.memoizedState=ri(1|p,b,B,A))}function tm(h,p){Ha(8390656,8,h,p)}function jg(h,p){Qd(2048,8,h,p)}function Pb(h,p){return Qd(4,2,h,p)}function Jd(h,p){return Qd(4,4,h,p)}function nm(h,p){if(typeof p=="function"){h=h();var b=p(h);return function(){typeof b=="function"?b():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function im(h,p,b){b=b!=null?b.concat([h]):null,Qd(4,4,nm.bind(null,p,h),b)}function Zl(){}function ru(h,p){var b=Y();p=p===void 0?null:p;var A=b.memoizedState;return p!==null&&Va(p,A[1])?A[0]:(b.memoizedState=[h,p],h)}function Fg(h,p){var b=Y();p=p===void 0?null:p;var A=b.memoizedState;if(p!==null&&Va(p,A[1]))return A[0];if(A=h(),Ec){X(!0);try{h()}finally{X(!1)}}return b.memoizedState=[A,p],A}function eh(h,p,b){return b===void 0||(Dl&1073741824)!==0?h.memoizedState=p:(h.memoizedState=b,h=lv(),dn.lanes|=h,ns|=h,b)}function kg(h,p,b,A){return wa(b,p)?b:si.current!==null?(h=eh(h,b,A),wa(h,p)||(Zn=!0),h):(Dl&42)===0?(Zn=!0,h.memoizedState=b):(h=lv(),dn.lanes|=h,ns|=h,p)}function Sf(h,p,b,A,D){var B=Al();Gr(B!==0&&8>B?B:8);var $=Wt.T,le={};Wt.T=le,Ef(h,!1,p,b);try{var ve=D(),ke=Wt.S;if(ke!==null&&ke(le,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var ct=ht(ve,A);Ql(h,p,ct,Ni(h))}else Ql(h,p,A,Ni(h))}catch(yt){Ql(h,p,{then:function(){},status:"rejected",reason:yt},Ni())}finally{Gr(B),Wt.T=$}}function wo(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:pc,baseState:pc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:pc},next:null};var b={};return p.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:b},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function th(){return Tr(io)}function Mf(){return Y().memoizedState}function fl(){return Y().memoizedState}function Vg(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var b=Ni();h=We(b);var A=nt(p,h,b);A!==null&&(gr(A,p,b),At(A,p,b)),p={cache:nc()},h.payload=p;return}p=p.return}}function rm(h,p,b){var A=Ni();b={lane:A,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},nh(h)?ta(p,b):(b=Fe(h,p,b,A),b!==null&&(gr(b,h,A),Jl(b,p,A)))}function Hg(h,p,b){var A=Ni();Ql(h,p,b,A)}function Ql(h,p,b,A){var D={lane:A,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(nh(h))ta(p,D);else{var B=h.alternate;if(h.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var $=p.lastRenderedState,le=B($,b);if(D.hasEagerState=!0,D.eagerState=le,wa(le,$))return Q(h,p,D,0),kn===null&&De(),!1}catch{}finally{}if(b=Fe(h,p,D,A),b!==null)return gr(b,h,A),Jl(b,p,A),!0}return!1}function Ef(h,p,b,A){if(A={lane:2,revertLane:ze(),action:A,hasEagerState:!1,eagerState:null,next:null},nh(h)){if(p)throw Error(r(479))}else p=Fe(h,b,A,2),p!==null&&gr(p,h,2)}function nh(h){var p=h.alternate;return h===dn||p!==null&&p===dn}function ta(h,p){_u=As=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function Jl(h,p,b){if((b&4194176)!==0){var A=p.lanes;A&=h.pendingLanes,b|=A,p.lanes=b,re(h,b)}}function wf(h,p,b,A){p=h.memoizedState,b=b(A,p),b=b==null?p:Mm({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function Af(h,p,b,A,D,B,$){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,B,$):p.prototype&&p.prototype.isPureReactComponent?!it(b,A)||!it(D,B):!0}function Lb(h,p,b,A){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,A),p.state!==h&&Uo.enqueueReplaceState(p,p.state,null)}function dl(h,p){var b=p;if("ref"in p){b={};for(var A in p)A!=="ref"&&(b[A]=p[A])}if(h=h.defaultProps){b===p&&(b=Mm({},b));for(var D in h)b[D]===void 0&&(b[D]=h[D])}return b}function Tf(h,p){try{var b=h.onUncaughtError;b(p.value,{componentStack:p.stack})}catch(A){setTimeout(function(){throw A})}}function Cf(h,p,b){try{var A=h.onCaughtError;A(b.value,{componentStack:b.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Rf(h,p,b){return b=We(b),b.tag=3,b.payload={element:null},b.callback=function(){Tf(h,p)},b}function Gg(h){return h=We(h),h.tag=3,h}function Ub(h,p,b,A){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var B=A.value;h.payload=function(){return D(B)},h.callback=function(){Cf(p,b,A)}}var $=b.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(h.callback=function(){Cf(p,b,A),typeof D!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var le=A.stack;this.componentDidCatch(A.value,{componentStack:le!==null?le:""})})}function vA(h,p,b,A,D){if(b.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(p=b.alternate,p!==null&&sh(p,b,D,!0),b=Za.current,b!==null){switch(b.tag){case 13:return $n===null?bl():b.alternate===null&&Qn===0&&(Qn=3),b.flags&=-257,b.flags|=65536,b.lanes=D,A===Bh?b.flags|=16384:(p=b.updateQueue,p===null?b.updateQueue=new Set([A]):p.add(A),ou(h,A,D)),!1;case 22:return b.flags|=65536,A===Bh?b.flags|=16384:(p=b.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([A])},b.updateQueue=p):(b=p.retryQueue,b===null?p.retryQueue=new Set([A]):b.add(A)),ou(h,A,D)),!1}throw Error(r(435,b.tag))}return ou(h,A,D),bl(),!1}if(Rn)return p=Za.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=D,A!==Uh&&(h=Error(r(422),{cause:A}),ut(ne(h,b)))):(A!==Uh&&(p=Error(r(423),{cause:A}),ut(ne(p,b))),h=h.current.alternate,h.flags|=65536,D&=-D,h.lanes|=D,A=ne(A,b),D=Rf(h.stateNode,A,D),ce(h,D),Qn!==4&&(Qn=2)),!1;var B=Error(r(520),{cause:A});if(B=ne(B,b),Eu===null?Eu=[B]:Eu.push(B),Qn!==4&&(Qn=2),p===null)return!0;A=ne(A,b),b=p;do{switch(b.tag){case 3:return b.flags|=65536,h=D&-D,b.lanes|=h,h=Rf(b.stateNode,A,h),ce(b,h),!1;case 1:if(p=b.type,B=b.stateNode,(b.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ac===null||!Ac.has(B))))return b.flags|=65536,D&=-D,b.lanes|=D,D=Gg(D),Ub(D,h,b,A),ce(b,D),!1}b=b.return}while(b!==null);return!1}function Ar(h,p,b,A){p.child=h===null?Lo(p,null,b,A):Mc(p,h.child,b,A)}function am(h,p,b,A,D){b=b.render;var B=p.ref;if("ref"in A){var $={};for(var le in A)le!=="ref"&&($[le]=A[le])}else $=A;return tc(p),A=Qs(h,p,b,$,B,D),le=xf(),h!==null&&!Zn?(bf(h,p,D),hl(h,p,D)):(Rn&&le&&ge(p),p.flags|=1,Ar(h,p,A,D),p.child)}function Ib(h,p,b,A,D){if(h===null){var B=b.type;return typeof B=="function"&&!xh(B)&&B.defaultProps===void 0&&b.compare===null?(p.tag=15,p.type=B,zb(h,p,B,A,D)):(h=Co(b.type,null,A,p,p.mode,D),h.ref=p.ref,h.return=p,p.child=h)}if(B=h.child,!Kg(h,D)){var $=B.memoizedProps;if(b=b.compare,b=b!==null?b:it,b($,A)&&h.ref===p.ref)return hl(h,p,D)}return p.flags|=1,h=xs(B,A),h.ref=p.ref,h.return=p,p.child=h}function zb(h,p,b,A,D){if(h!==null){var B=h.memoizedProps;if(it(B,A)&&h.ref===p.ref)if(Zn=!1,p.pendingProps=A=B,Kg(h,D))(h.flags&131072)!==0&&(Zn=!0);else return p.lanes=h.lanes,hl(h,p,D)}return sm(h,p,b,A,D)}function Bb(h,p,b){var A=p.pendingProps,D=A.children,B=(p.stateNode._pendingVisibility&2)!==0,$=h!==null?h.memoizedState:null;if(ih(h,p),A.mode==="hidden"||B){if((p.flags&128)!==0){if(A=$!==null?$.baseLanes|b:b,h!==null){for(D=p.child=h.child,B=0;D!==null;)B=B|D.lanes|D.childLanes,D=D.sibling;p.childLanes=B&~A}else p.childLanes=0,p.child=null;return jb(h,p,A,b)}if((b&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&lm(p,$!==null?$.cachePool:null),$!==null?nr(p,$):ir(),yf(p);else return p.lanes=p.childLanes=536870912,jb(h,p,$!==null?$.baseLanes|b:b,b)}else $!==null?(lm(p,$.cachePool),nr(p,$),Zs(),p.memoizedState=null):(h!==null&&lm(p,null),ir(),Zs());return Ar(h,p,D,b),p.child}function jb(h,p,b,A){var D=Zg();return D=D===null?null:{parent:ra?oi._currentValue:oi._currentValue2,pool:D},p.memoizedState={baseLanes:b,cachePool:D},h!==null&&lm(p,null),ir(),yf(p),h!==null&&sh(h,p,A,!0),null}function ih(h,p){var b=p.ref;if(b===null)h!==null&&h.ref!==null&&(p.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(p.flags|=2097664)}}function sm(h,p,b,A,D){return tc(p),b=Qs(h,p,b,A,void 0,D),A=xf(),h!==null&&!Zn?(bf(h,p,D),hl(h,p,D)):(Rn&&A&&ge(p),p.flags|=1,Ar(h,p,b,D),p.child)}function Fb(h,p,b,A,D,B){return tc(p),p.updateQueue=null,b=cl(p,A,b,D),ll(h),A=xf(),h!==null&&!Zn?(bf(h,p,B),hl(h,p,B)):(Rn&&A&&ge(p),p.flags|=1,Ar(h,p,b,B),p.child)}function kb(h,p,b,A,D){if(tc(p),p.stateNode===null){var B=yc,$=b.contextType;typeof $=="object"&&$!==null&&(B=Tr($)),B=new b(A,B),p.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Uo,p.stateNode=B,B._reactInternals=p,B=p.stateNode,B.props=A,B.state=p.memoizedState,B.refs={},Dt(p),$=b.contextType,B.context=typeof $=="object"&&$!==null?Tr($):yc,B.state=p.memoizedState,$=b.getDerivedStateFromProps,typeof $=="function"&&(wf(p,b,$,A),B.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||($=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),$!==B.state&&Uo.enqueueReplaceState(B,B.state,null),Je(p,A,B,D),Me(),B.state=p.memoizedState),typeof B.componentDidMount=="function"&&(p.flags|=4194308),A=!0}else if(h===null){B=p.stateNode;var le=p.memoizedProps,ve=dl(b,le);B.props=ve;var ke=B.context,ct=b.contextType;$=yc,typeof ct=="object"&&ct!==null&&($=Tr(ct));var yt=b.getDerivedStateFromProps;ct=typeof yt=="function"||typeof B.getSnapshotBeforeUpdate=="function",le=p.pendingProps!==le,ct||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(le||ke!==$)&&Lb(p,B,A,$),Ol=!1;var _t=p.memoizedState;B.state=_t,Je(p,A,B,D),Me(),ke=p.memoizedState,le||_t!==ke||Ol?(typeof yt=="function"&&(wf(p,b,yt,A),ke=p.memoizedState),(ve=Ol||Af(p,b,ve,A,_t,ke,$))?(ct||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(p.flags|=4194308)):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=ke),B.props=A,B.state=ke,B.context=$,A=ve):(typeof B.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{B=p.stateNode,wt(h,p),$=p.memoizedProps,ct=dl(b,$),B.props=ct,yt=p.pendingProps,_t=B.context,ke=b.contextType,ve=yc,typeof ke=="object"&&ke!==null&&(ve=Tr(ke)),le=b.getDerivedStateFromProps,(ke=typeof le=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||($!==yt||_t!==ve)&&Lb(p,B,A,ve),Ol=!1,_t=p.memoizedState,B.state=_t,Je(p,A,B,D),Me();var nn=p.memoizedState;$!==yt||_t!==nn||Ol||h!==null&&h.dependencies!==null&&oh(h.dependencies)?(typeof le=="function"&&(wf(p,b,le,A),nn=p.memoizedState),(ct=Ol||Af(p,b,ct,A,_t,nn,ve)||h!==null&&h.dependencies!==null&&oh(h.dependencies))?(ke||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(A,nn,ve),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(A,nn,ve)),typeof B.componentDidUpdate=="function"&&(p.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof B.componentDidUpdate!="function"||$===h.memoizedProps&&_t===h.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||$===h.memoizedProps&&_t===h.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=nn),B.props=A,B.state=nn,B.context=ve,A=ct):(typeof B.componentDidUpdate!="function"||$===h.memoizedProps&&_t===h.memoizedState||(p.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||$===h.memoizedProps&&_t===h.memoizedState||(p.flags|=1024),A=!1)}return B=A,ih(h,p),A=(p.flags&128)!==0,B||A?(B=p.stateNode,b=A&&typeof b.getDerivedStateFromError!="function"?null:B.render(),p.flags|=1,h!==null&&A?(p.child=Mc(p,h.child,null,D),p.child=Mc(p,null,b,D)):Ar(h,p,b,D),p.memoizedState=B.state,h=p.child):h=hl(h,p,D),h}function Vb(h,p,b,A){return Ue(),p.flags|=256,Ar(h,p,b,A),p.child}function qg(h){return{baseLanes:h,cachePool:Qg()}}function rh(h,p,b){return h=h!==null?h.childLanes&~b:0,p&&(h|=is),h}function Hb(h,p,b){var A=p.pendingProps,D=!1,B=(p.flags&128)!==0,$;if(($=B)||($=h!==null&&h.memoizedState===null?!1:(or.current&2)!==0),$&&(D=!0,p.flags&=-129),$=(p.flags&32)!==0,p.flags&=-33,h===null){if(Rn){if(D?hr(p):Zs(),Rn){var le=Pr,ve;(ve=le)&&(le=A1(le,yr),le!==null?(p.memoizedState={dehydrated:le,treeContext:xc!==null?{id:ao,overflow:so}:null,retryLane:536870912},ve=n(18,null,null,0),ve.stateNode=le,ve.return=p,p.child=ve,Nr=p,Pr=null,ve=!0):ve=!1),ve||Ye(p)}if(le=p.memoizedState,le!==null&&(le=le.dehydrated,le!==null))return Pm(le)?p.lanes=16:p.lanes=536870912,null;Fa(p)}return le=A.children,A=A.fallback,D?(Zs(),D=p.mode,le=Wg({mode:"hidden",children:le},D),A=Ei(A,D,b,null),le.return=p,A.return=p,le.sibling=A,p.child=le,D=p.child,D.memoizedState=qg(b),D.childLanes=rh(h,$,b),p.memoizedState=Wm,A):(hr(p),Xg(p,le))}if(ve=h.memoizedState,ve!==null&&(le=ve.dehydrated,le!==null)){if(B)p.flags&256?(hr(p),p.flags&=-257,p=om(h,p,b)):p.memoizedState!==null?(Zs(),p.child=h.child,p.flags|=128,p=null):(Zs(),D=A.fallback,le=p.mode,A=Wg({mode:"visible",children:A.children},le),D=Ei(D,le,b,null),D.flags|=2,A.return=p,D.return=p,A.sibling=D,p.child=A,Mc(p,h.child,null,b),A=p.child,A.memoizedState=qg(b),A.childLanes=rh(h,$,b),p.memoizedState=Wm,p=D);else if(hr(p),Pm(le))$=_1(le).digest,A=Error(r(419)),A.stack="",A.digest=$,ut({value:A,source:null,stack:null}),p=om(h,p,b);else if(Zn||sh(h,p,b,!1),$=(b&h.childLanes)!==0,Zn||$){if($=kn,$!==null){if(A=b&-b,(A&42)!==0)A=1;else switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=64;break;case 268435456:A=134217728;break;default:A=0}if(A=(A&($.suspendedLanes|b))!==0?0:A,A!==0&&A!==ve.retryLane)throw ve.retryLane=A,je(h,A),gr($,h,A),Xm}Nm(le)||bl(),p=om(h,p,b)}else Nm(le)?(p.flags|=128,p.child=h.child,p=_l.bind(null,h),S1(le,p),p=null):(h=ve.treeContext,Dr&&(Pr=w1(le),Nr=p,Rn=!0,Es=null,yr=!1,h!==null&&(Ya[Ka++]=ao,Ya[Ka++]=so,Ya[Ka++]=xc,ao=h.id,so=h.overflow,xc=p)),p=Xg(p,A.children),p.flags|=4096);return p}return D?(Zs(),D=A.fallback,le=p.mode,ve=h.child,B=ve.sibling,A=xs(ve,{mode:"hidden",children:A.children}),A.subtreeFlags=ve.subtreeFlags&31457280,B!==null?D=xs(B,D):(D=Ei(D,le,b,null),D.flags|=2),D.return=p,A.return=p,A.sibling=D,p.child=A,A=D,D=p.child,le=h.child.memoizedState,le===null?le=qg(b):(ve=le.cachePool,ve!==null?(B=ra?oi._currentValue:oi._currentValue2,ve=ve.parent!==B?{parent:B,pool:B}:ve):ve=Qg(),le={baseLanes:le.baseLanes|b,cachePool:ve}),D.memoizedState=le,D.childLanes=rh(h,$,b),p.memoizedState=Wm,A):(hr(p),b=h.child,h=b.sibling,b=xs(b,{mode:"visible",children:A.children}),b.return=p,b.sibling=null,h!==null&&($=p.deletions,$===null?(p.deletions=[h],p.flags|=16):$.push(h)),p.child=b,p.memoizedState=null,b)}function Xg(h,p){return p=Wg({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function Wg(h,p){return _h(h,p,0,null)}function om(h,p,b){return Mc(p,h.child,null,b),h=Xg(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function Gb(h,p,b){h.lanes|=p;var A=h.alternate;A!==null&&(A.lanes|=p),ah(h.return,p,b)}function Yg(h,p,b,A,D){var B=h.memoizedState;B===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:D}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=A,B.tail=b,B.tailMode=D)}function qb(h,p,b){var A=p.pendingProps,D=A.revealOrder,B=A.tail;if(Ar(h,p,A.children,b),A=or.current,(A&2)!==0)A=A&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Gb(h,b,p);else if(h.tag===19)Gb(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}switch(C(or,A),D){case"forwards":for(b=p.child,D=null;b!==null;)h=b.alternate,h!==null&&ka(h)===null&&(D=b),b=b.sibling;b=D,b===null?(D=p.child,p.child=null):(D=b.sibling,b.sibling=null),Yg(p,!1,D,b,B);break;case"backwards":for(b=null,D=p.child,p.child=null;D!==null;){if(h=D.alternate,h!==null&&ka(h)===null){p.child=D;break}h=D.sibling,D.sibling=b,b=D,D=h}Yg(p,!0,b,null,B);break;case"together":Yg(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function hl(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),ns|=p.lanes,(b&p.childLanes)===0)if(h!==null){if(sh(h,p,b,!1),(b&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(r(153));if(p.child!==null){for(h=p.child,b=xs(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=xs(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Kg(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&oh(h)))}function yA(h,p,b){switch(p.tag){case 3:Ae(p,p.stateNode.containerInfo),ec(p,oi,h.memoizedState.cache),Ue();break;case 27:case 5:pe(p);break;case 4:Ae(p,p.stateNode.containerInfo);break;case 10:ec(p,p.type,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(hr(p),p.flags|=128,null):(b&p.child.childLanes)!==0?Hb(h,p,b):(hr(p),h=hl(h,p,b),h!==null?h.sibling:null);hr(p);break;case 19:var D=(h.flags&128)!==0;if(A=(b&p.childLanes)!==0,A||(sh(h,p,b,!1),A=(b&p.childLanes)!==0),D){if(A)return qb(h,p,b);p.flags|=128}if(D=p.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),C(or,or.current),A)break;return null;case 22:case 23:return p.lanes=0,Bb(h,p,b);case 24:ec(p,oi,h.memoizedState.cache)}return hl(h,p,b)}function Xb(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps)Zn=!0;else{if(!Kg(h,b)&&(p.flags&128)===0)return Zn=!1,yA(h,p,b);Zn=(h.flags&131072)!==0}else Zn=!1,Rn&&(p.flags&1048576)!==0&&se(p,$f,p.index);switch(p.lanes=0,p.tag){case 16:e:{h=p.pendingProps;var A=p.elementType,D=A._init;if(A=D(A._payload),p.type=A,typeof A=="function")xh(A)?(h=dl(A,h),p.tag=1,p=kb(null,p,A,h,b)):(p.tag=0,p=sm(null,p,A,h,b));else{if(A!=null){if(D=A.$$typeof,D===Ah){p.tag=11,p=am(null,p,A,h,b);break e}else if(D===Am){p.tag=14,p=Ib(null,p,A,h,b);break e}}throw p=s(A)||A,Error(r(306,p,""))}}return p;case 0:return sm(h,p,p.type,p.pendingProps,b);case 1:return A=p.type,D=dl(A,p.pendingProps),kb(h,p,A,D,b);case 3:e:{if(Ae(p,p.stateNode.containerInfo),h===null)throw Error(r(387));var B=p.pendingProps;D=p.memoizedState,A=D.element,wt(h,p),Je(p,B,null,b);var $=p.memoizedState;if(B=$.cache,ec(p,oi,B),B!==D.cache&&au(p,[oi],b,!0),Me(),B=$.element,Dr&&D.isDehydrated)if(D={element:B,isDehydrated:!1,cache:$.cache},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){p=Vb(h,p,B,b);break e}else if(B!==A){A=ne(Error(r(424)),p),ut(A),p=Vb(h,p,B,b);break e}else for(Dr&&(Pr=E1(p.stateNode.containerInfo),Nr=p,Rn=!0,Es=null,yr=!0),b=Lo(p,null,B,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ue(),B===A){p=hl(h,p,b);break e}Ar(h,p,B,b)}p=p.child}return p;case 26:if(Wa)return ih(h,p),h===null?(b=Uv(p.type,null,p.pendingProps,null))?p.memoizedState=b:Rn||(p.stateNode=Bm(p.type,p.pendingProps,No.current,p)):p.memoizedState=Uv(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:if(Kn)return pe(p),h===null&&Kn&&Rn&&(A=p.stateNode=ro(p.type,p.pendingProps,No.current,sr.current,!1),Nr=p,yr=!0,Pr=Lm(A)),A=p.pendingProps.children,h!==null||Rn?Ar(h,p,A,b):p.child=Mc(p,null,A,b),ih(h,p),p.child;case 5:return h===null&&Rn&&(Im(p.type,p.pendingProps,sr.current),(D=A=Pr)&&(A=wA(A,p.type,p.pendingProps,yr),A!==null?(p.stateNode=A,Nr=p,Pr=Lm(A),yr=!1,D=!0):D=!1),D||Ye(p)),pe(p),D=p.type,B=p.pendingProps,$=h!==null?h.memoizedProps:null,A=B.children,an(D,B)?A=null:$!==null&&an(D,$)&&(p.flags|=32),p.memoizedState!==null&&(D=Qs(h,p,qi,null,null,b),ra?io._currentValue=D:io._currentValue2=D),ih(h,p),Ar(h,p,A,b),p.child;case 6:return h===null&&Rn&&(D1(p.pendingProps,sr.current),(h=b=Pr)&&(b=Pv(b,p.pendingProps,yr),b!==null?(p.stateNode=b,Nr=p,Pr=null,h=!0):h=!1),h||Ye(p)),null;case 13:return Hb(h,p,b);case 4:return Ae(p,p.stateNode.containerInfo),A=p.pendingProps,h===null?p.child=Mc(p,null,A,b):Ar(h,p,A,b),p.child;case 11:return am(h,p,p.type,p.pendingProps,b);case 7:return Ar(h,p,p.pendingProps,b),p.child;case 8:return Ar(h,p,p.pendingProps.children,b),p.child;case 12:return Ar(h,p,p.pendingProps.children,b),p.child;case 10:return A=p.pendingProps,ec(p,p.type,A.value),Ar(h,p,A.children,b),p.child;case 9:return D=p.type._context,A=p.pendingProps.children,tc(p),D=Tr(D),A=A(D),p.flags|=1,Ar(h,p,A,b),p.child;case 14:return Ib(h,p,p.type,p.pendingProps,b);case 15:return zb(h,p,p.type,p.pendingProps,b);case 19:return qb(h,p,b);case 22:return Bb(h,p,b);case 24:return tc(p),A=Tr(oi),h===null?(D=Zg(),D===null&&(D=kn,B=nc(),D.pooledCache=B,B.refCount++,B!==null&&(D.pooledCacheLanes|=b),D=B),p.memoizedState={parent:A,cache:D},Dt(p),ec(p,oi,D)):((h.lanes&b)!==0&&(wt(h,p),Je(p,null,null,b),Me()),D=h.memoizedState,B=p.memoizedState,D.parent!==A?(D={parent:A,cache:A},p.memoizedState=D,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=D),ec(p,oi,A)):(A=B.cache,ec(p,oi,A),A!==D.cache&&au(p,[oi],b,!0))),Ar(h,p,p.pendingProps.children,b),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function ec(h,p,b){ra?(C(Nl,p._currentValue),p._currentValue=b):(C(Nl,p._currentValue2),p._currentValue2=b)}function pl(h){var p=Nl.current;ra?h._currentValue=p:h._currentValue2=p,M(Nl)}function ah(h,p,b){for(;h!==null;){var A=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),h===b)break;h=h.return}}function au(h,p,b,A){var D=h.child;for(D!==null&&(D.return=h);D!==null;){var B=D.dependencies;if(B!==null){var $=D.child;B=B.firstContext;e:for(;B!==null;){var le=B;B=D;for(var ve=0;ve<p.length;ve++)if(le.context===p[ve]){B.lanes|=b,le=B.alternate,le!==null&&(le.lanes|=b),ah(B.return,b,h),A||($=null);break e}B=le.next}}else if(D.tag===18){if($=D.return,$===null)throw Error(r(341));$.lanes|=b,B=$.alternate,B!==null&&(B.lanes|=b),ah($,b,h),$=null}else $=D.child;if($!==null)$.return=D;else for($=D;$!==null;){if($===h){$=null;break}if(D=$.sibling,D!==null){D.return=$.return,$=D;break}$=$.return}D=$}}function sh(h,p,b,A){h=null;for(var D=p,B=!1;D!==null;){if(!B){if((D.flags&524288)!==0)B=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var $=D.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var le=D.type;wa(D.pendingProps.value,$.value)||(h!==null?h.push(le):h=[le])}}else if(D===mu.current){if($=D.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(h!==null?h.push(io):h=[io])}D=D.return}h!==null&&au(p,h,b,A),p.flags|=262144}function oh(h){for(h=h.firstContext;h!==null;){var p=h.context;if(!wa(ra?p._currentValue:p._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function tc(h){co=h,Ja=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Tr(h){return $g(co,h)}function lh(h,p){return co===null&&tc(h),$g(h,p)}function $g(h,p){var b=ra?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:b,next:null},Ja===null){if(h===null)throw Error(r(308));Ja=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else Ja=Ja.next=p;return b}function nc(){return{controller:new nd,data:new Map,refCount:0}}function ch(h){h.refCount--,h.refCount===0&&V1(H1,function(){h.controller.abort()})}function Zg(){var h=Io.current;return h!==null?h:kn.pooledCache}function lm(h,p){p===null?C(Io,Io.current):C(Io,p.pool)}function Qg(){var h=Zg();return h===null?null:{parent:ra?oi._currentValue:oi._currentValue2,pool:h}}function ya(h){h.flags|=4}function Of(h,p){if(h!==null&&h.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(h=p.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function su(h,p,b,A){if(ar)for(b=p.child;b!==null;){if(b.tag===5||b.tag===6)Ch(h,b.stateNode);else if(!(b.tag===4||Kn&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(Ss)for(var D=p.child;D!==null;){if(D.tag===5){var B=D.stateNode;b&&A&&(B=Rv(B,D.type,D.memoizedProps)),Ch(h,B)}else if(D.tag===6)B=D.stateNode,b&&A&&(B=Ov(B,D.memoizedProps)),Ch(h,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),su(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Wb(h,p,b,A){if(Ss)for(var D=p.child;D!==null;){if(D.tag===5){var B=D.stateNode;b&&A&&(B=Rv(B,D.type,D.memoizedProps)),Cv(h,B)}else if(D.tag===6)B=D.stateNode,b&&A&&(B=Ov(B,D.memoizedProps)),Cv(h,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),Wb(h,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function uh(h,p){if(Ss&&Of(h,p)){h=p.stateNode;var b=h.containerInfo,A=Rh();Wb(A,p,!1,!1),h.pendingChildren=A,ya(p),Dm(b,A)}}function cm(h,p,b,A){if(ar)h.memoizedProps!==A&&ya(p);else if(Ss){var D=h.stateNode,B=h.memoizedProps;if((h=Of(h,p))||B!==A){var $=sr.current;B=Wf(D,b,B,A,!h,null),B===D?p.stateNode=D:(wl(B,b,A,$)&&ya(p),p.stateNode=B,h?su(B,p,!1,!1):ya(p))}else p.stateNode=D}}function um(h,p,b){if(bv(p,b)){if(h.flags|=16777216,!Rm(p,b))if(lc())h.flags|=8192;else throw bc=Bh,zh}else h.flags&=-16777217}function fm(h,p){if(L1(p)){if(h.flags|=16777216,!uu(p))if(lc())h.flags|=8192;else throw bc=Bh,zh}else h.flags&=-16777217}function Df(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?I():536870912,h.lanes|=p,jo|=p)}function Nf(h,p){if(!Rn)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function mi(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,A=0;if(p)for(var D=h.child;D!==null;)b|=D.lanes|D.childLanes,A|=D.subtreeFlags&31457280,A|=D.flags&31457280,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)b|=D.lanes|D.childLanes,A|=D.subtreeFlags,A|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=A,h.childLanes=b,p}function Yb(h,p,b){var A=p.pendingProps;switch(_e(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(p),null;case 1:return mi(p),null;case 3:return b=p.stateNode,A=null,h!==null&&(A=h.memoizedState.cache),p.memoizedState.cache!==A&&(p.flags|=2048),pl(oi),Qe(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&($e(p)?ya(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Es!==null&&(vh(Es),Es=null))),uh(h,p),mi(p),null;case 26:if(Wa){b=p.type;var D=p.memoizedState;return h===null?(ya(p),D!==null?(mi(p),fm(p,D)):(mi(p),um(p,b,A))):D?D!==h.memoizedState?(ya(p),mi(p),fm(p,D)):(mi(p),p.flags&=-16777217):(ar?h.memoizedProps!==A&&ya(p):cm(h,p,b,A),mi(p),um(p,b,A)),null}case 27:if(Kn){if(Le(p),b=No.current,D=p.type,h!==null&&p.stateNode!=null)ar?h.memoizedProps!==A&&ya(p):cm(h,p,D,A);else{if(!A){if(p.stateNode===null)throw Error(r(166));return mi(p),null}h=sr.current,$e(p)?xe(p,h):(h=ro(D,A,b,h,!0),p.stateNode=h,ya(p))}return mi(p),null}case 5:if(Le(p),b=p.type,h!==null&&p.stateNode!=null)cm(h,p,b,A);else{if(!A){if(p.stateNode===null)throw Error(r(166));return mi(p),null}h=sr.current,$e(p)?xe(p,h):(D=xv(b,A,No.current,h,p),su(D,p,!1,!1),p.stateNode=D,wl(D,b,A,h)&&ya(p))}return mi(p),um(p,p.type,p.pendingProps),null;case 6:if(h&&p.stateNode!=null)b=h.memoizedProps,ar?b!==A&&ya(p):Ss&&(b!==A?(p.stateNode=qn(A,No.current,sr.current,p),ya(p)):p.stateNode=h.stateNode);else{if(typeof A!="string"&&p.stateNode===null)throw Error(r(166));if(h=No.current,b=sr.current,$e(p)){if(!Dr)throw Error(r(176));if(h=p.stateNode,b=p.memoizedProps,A=null,D=Nr,D!==null)switch(D.tag){case 27:case 5:A=D.memoizedProps}Lv(h,b,p,A)||Ye(p)}else p.stateNode=qn(A,h,b,p)}return mi(p),null;case 13:if(A=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(D=$e(p),A!==null&&A.dehydrated!==null){if(h===null){if(!D)throw Error(r(318));if(!Dr)throw Error(r(344));if(D=p.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));C1(D,p)}else Ue(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;mi(p),D=!1}else Es!==null&&(vh(Es),Es=null),D=!0;if(!D)return p.flags&256?(Fa(p),p):(Fa(p),null)}if(Fa(p),(p.flags&128)!==0)return p.lanes=b,p;if(b=A!==null,h=h!==null&&h.memoizedState!==null,b){A=p.child,D=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(D=A.alternate.memoizedState.cachePool.pool);var B=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(B=A.memoizedState.cachePool.pool),B!==D&&(A.flags|=2048)}return b!==h&&b&&(p.child.flags|=8192),Df(p,p.updateQueue),mi(p),null;case 4:return Qe(),uh(h,p),h===null&&Pi(p.stateNode.containerInfo),mi(p),null;case 10:return pl(p.type),mi(p),null;case 19:if(M(or),D=p.memoizedState,D===null)return mi(p),null;if(A=(p.flags&128)!==0,B=D.rendering,B===null)if(A)Nf(D,!1);else{if(Qn!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(B=ka(h),B!==null){for(p.flags|=128,Nf(D,!1),h=B.updateQueue,p.updateQueue=h,Df(p,h),p.subtreeFlags=0,h=b,b=p.child;b!==null;)bh(b,h),b=b.sibling;return C(or,or.current&1|2),p.child}h=h.sibling}D.tail!==null&&Ms()>ad&&(p.flags|=128,A=!0,Nf(D,!1),p.lanes=4194304)}else{if(!A)if(h=ka(B),h!==null){if(p.flags|=128,A=!0,h=h.updateQueue,p.updateQueue=h,Df(p,h),Nf(D,!0),D.tail===null&&D.tailMode==="hidden"&&!B.alternate&&!Rn)return mi(p),null}else 2*Ms()-D.renderingStartTime>ad&&b!==536870912&&(p.flags|=128,A=!0,Nf(D,!1),p.lanes=4194304);D.isBackwards?(B.sibling=p.child,p.child=B):(h=D.last,h!==null?h.sibling=B:p.child=B,D.last=B)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=Ms(),p.sibling=null,h=or.current,C(or,A?h&1|2:h&1),p):(mi(p),null);case 22:case 23:return Fa(p),$s(),A=p.memoizedState!==null,h!==null?h.memoizedState!==null!==A&&(p.flags|=8192):A&&(p.flags|=8192),A?(b&536870912)!==0&&(p.flags&128)===0&&(mi(p),p.subtreeFlags&6&&(p.flags|=8192)):mi(p),b=p.updateQueue,b!==null&&Df(p,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),A=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(A=p.memoizedState.cachePool.pool),A!==b&&(p.flags|=2048),h!==null&&M(Io),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),pl(oi),mi(p),null;case 25:return null}throw Error(r(156,p.tag))}function xA(h,p){switch(_e(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return pl(oi),Qe(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return Le(p),null;case 13:if(Fa(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Ue()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return M(or),null;case 4:return Qe(),null;case 10:return pl(p.type),null;case 22:case 23:return Fa(p),$s(),h!==null&&M(Io),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return pl(oi),null;case 25:return null;default:return null}}function Kb(h,p){switch(_e(p),p.tag){case 3:pl(oi),Qe();break;case 26:case 27:case 5:Le(p);break;case 4:Qe();break;case 13:Fa(p);break;case 19:M(or);break;case 10:pl(p.type);break;case 22:case 23:Fa(p),$s(),h!==null&&M(Io);break;case 24:pl(oi)}}function fh(h,p){try{var b=p.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var D=A.next;b=D;do{if((b.tag&h)===h){A=void 0;var B=b.create,$=b.inst;A=B(),$.destroy=A}b=b.next}while(b!==D)}}catch(le){jn(p,p.return,le)}}function ic(h,p,b){try{var A=p.updateQueue,D=A!==null?A.lastEffect:null;if(D!==null){var B=D.next;A=B;do{if((A.tag&h)===h){var $=A.inst,le=$.destroy;if(le!==void 0){$.destroy=void 0,D=p;var ve=b;try{le()}catch(ke){jn(D,ve,ke)}}}A=A.next}while(A!==B)}}catch(ke){jn(p,p.return,ke)}}function $b(h){var p=h.updateQueue;if(p!==null){var b=h.stateNode;try{et(p,b)}catch(A){jn(h,h.return,A)}}}function xa(h,p,b){b.props=dl(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(A){jn(h,p,A)}}function eo(h,p){try{var b=h.ref;if(b!==null){var A=h.stateNode;switch(h.tag){case 26:case 27:case 5:var D=Gf(A);break;default:D=A}typeof b=="function"?h.refCleanup=b(D):b.current=D}}catch(B){jn(h,p,B)}}function ba(h,p){var b=h.ref,A=h.refCleanup;if(b!==null)if(typeof A=="function")try{A()}catch(D){jn(h,p,D)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){jn(h,p,D)}else b.current=null}function Jg(h){var p=h.type,b=h.memoizedProps,A=h.stateNode;try{MA(A,p,b,h)}catch(D){jn(h,h.return,D)}}function ev(h,p,b){try{h1(h.stateNode,h.type,b,p,h)}catch(A){jn(h,h.return,A)}}function tv(h){return h.tag===5||h.tag===3||(Wa?h.tag===26:!1)||(Kn?h.tag===27:!1)||h.tag===4}function dh(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||tv(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!Kn||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function nv(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?m1(b,h,p):wv(b,h);else if(!(A===4||Kn&&A===27)&&(h=h.child,h!==null))for(nv(h,p,b),h=h.sibling;h!==null;)nv(h,p,b),h=h.sibling}function ml(h,p,b){var A=h.tag;if(A===5||A===6)h=h.stateNode,p?p1(b,h,p):f1(b,h);else if(!(A===4||Kn&&A===27)&&(h=h.child,h!==null))for(ml(h,p,b),h=h.sibling;h!==null;)ml(h,p,b),h=h.sibling}function dm(h,p,b){h=h.containerInfo;try{Yf(h,b)}catch(A){jn(p,p.return,A)}}function hh(h,p){for(Tm(h.containerInfo),tn=p;tn!==null;)if(h=tn,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,tn=p;else for(;tn!==null;){h=tn;var b=h.alternate;switch(p=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&b!==null){p=void 0;var A=h,D=b.memoizedProps;b=b.memoizedState;var B=A.stateNode;try{var $=dl(A.type,D,A.elementType===A.type);p=B.getSnapshotBeforeUpdate($,b),B.__reactInternalSnapshotBeforeUpdate=p}catch(le){jn(A,A.return,le)}}break;case 3:(p&1024)!==0&&ar&&b1(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=h.sibling,p!==null){p.return=h.return,tn=p;break}tn=h.return}return $=Sn,Sn=!1,$}function hm(h,p,b){var A=b.flags;switch(b.tag){case 0:case 11:case 15:vl(h,b),A&4&&fh(5,b);break;case 1:if(vl(h,b),A&4)if(h=b.stateNode,p===null)try{h.componentDidMount()}catch(le){jn(b,b.return,le)}else{var D=dl(b.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(D,p,h.__reactInternalSnapshotBeforeUpdate)}catch(le){jn(b,b.return,le)}}A&64&&$b(b),A&512&&eo(b,b.return);break;case 3:if(vl(h,b),A&64&&(A=b.updateQueue,A!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=Gf(b.child.stateNode);break;case 1:h=b.child.stateNode}try{et(A,h)}catch(le){jn(b,b.return,le)}}break;case 26:if(Wa){vl(h,b),A&512&&eo(b,b.return);break}case 27:case 5:vl(h,b),p===null&&A&4&&Jg(b),A&512&&eo(b,b.return);break;case 12:vl(h,b);break;case 13:vl(h,b),A&4&&pm(h,b);break;case 22:if(D=b.memoizedState!==null||zo,!D){p=p!==null&&p.memoizedState!==null||Ai;var B=zo,$=Ai;zo=D,(Ai=p)&&!$?yl(h,b,(b.subtreeFlags&8772)!==0):vl(h,b),zo=B,Ai=$}A&512&&(b.memoizedProps.mode==="manual"?eo(b,b.return):ba(b,b.return));break;default:vl(h,b)}}function iv(h){var p=h.alternate;p!==null&&(h.alternate=null,iv(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&SA(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Cr(h,p,b){for(b=b.child;b!==null;)rc(h,p,b),b=b.sibling}function rc(h,p,b){if(Ea&&typeof Ea.onCommitFiberUnmount=="function")try{Ea.onCommitFiberUnmount(Ui,b)}catch{}switch(b.tag){case 26:if(Wa){Ai||ba(b,p),Cr(h,p,b),b.memoizedState?cu(b.memoizedState):b.stateNode&&Kf(b.stateNode);break}case 27:if(Kn){Ai||ba(b,p);var A=Bt,D=ln;Bt=b.stateNode,Cr(h,p,b),vc(b.stateNode),Bt=A,ln=D;break}case 5:Ai||ba(b,p);case 6:if(ar){if(A=Bt,D=ln,Bt=null,Cr(h,p,b),Bt=A,ln=D,Bt!==null)if(ln)try{g1(Bt,b.stateNode)}catch(B){jn(b,p,B)}else try{Av(Bt,b.stateNode)}catch(B){jn(b,p,B)}}else Cr(h,p,b);break;case 18:ar&&Bt!==null&&(ln?Oh(Bt,b.stateNode):O1(Bt,b.stateNode));break;case 4:ar?(A=Bt,D=ln,Bt=b.stateNode.containerInfo,ln=!0,Cr(h,p,b),Bt=A,ln=D):(Ss&&dm(b.stateNode,b,Rh()),Cr(h,p,b));break;case 0:case 11:case 14:case 15:Ai||ic(2,b,p),Ai||ic(4,b,p),Cr(h,p,b);break;case 1:Ai||(ba(b,p),A=b.stateNode,typeof A.componentWillUnmount=="function"&&xa(b,p,A)),Cr(h,p,b);break;case 21:Cr(h,p,b);break;case 22:Ai||ba(b,p),Ai=(A=Ai)||b.memoizedState!==null,Cr(h,p,b),Ai=A;break;default:Cr(h,p,b)}}function pm(h,p){if(Dr&&p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{TA(h)}catch(b){jn(p,p.return,b)}}function Zb(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new Fn),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new Fn),p;default:throw Error(r(435,h.tag))}}function gl(h,p){var b=Zb(h);p.forEach(function(A){var D=fc.bind(null,h,A);b.has(A)||(b.add(A),A.then(D,D))})}function na(h,p){var b=p.deletions;if(b!==null)for(var A=0;A<b.length;A++){var D=b[A],B=h,$=p;if(ar){var le=$;e:for(;le!==null;){switch(le.tag){case 27:case 5:Bt=le.stateNode,ln=!1;break e;case 3:Bt=le.stateNode.containerInfo,ln=!0;break e;case 4:Bt=le.stateNode.containerInfo,ln=!0;break e}le=le.return}if(Bt===null)throw Error(r(160));rc(B,$,D),Bt=null,ln=!1}else rc(B,$,D);B=D.alternate,B!==null&&(B.return=null),D.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)rv(p,h),p=p.sibling}function rv(h,p){var b=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:na(p,h),_a(h),A&4&&(ic(3,h,h.return),fh(3,h),ic(5,h,h.return));break;case 1:na(p,h),_a(h),A&512&&(Ai||b===null||ba(b,b.return)),A&64&&zo&&(h=h.updateQueue,h!==null&&(A=h.callbacks,A!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?A:b.concat(A))));break;case 26:if(Wa){var D=xi;na(p,h),_a(h),A&512&&(Ai||b===null||ba(b,b.return)),A&4&&(A=b!==null?b.memoizedState:null,p=h.memoizedState,b===null?p===null?h.stateNode===null?h.stateNode=Nh(D,h.type,h.memoizedProps,h):Ph(D,h.type,h.stateNode):h.stateNode=N1(D,p,h.memoizedProps):A!==p?(A===null?b.stateNode!==null&&Kf(b.stateNode):cu(A),p===null?Ph(D,h.type,h.stateNode):N1(D,p,h.memoizedProps)):p===null&&h.stateNode!==null&&ev(h,h.memoizedProps,b.memoizedProps));break}case 27:if(Kn&&A&4&&h.alternate===null){D=h.stateNode;var B=h.memoizedProps;try{gc(D),I1(h.type,B,D,h)}catch(ct){jn(h,h.return,ct)}}case 5:if(na(p,h),_a(h),A&512&&(Ai||b===null||ba(b,b.return)),ar){if(h.flags&32){p=h.stateNode;try{Tv(p)}catch(ct){jn(h,h.return,ct)}}A&4&&h.stateNode!=null&&(p=h.memoizedProps,ev(h,p,b!==null?b.memoizedProps:p)),A&1024&&(jv=!0)}break;case 6:if(na(p,h),_a(h),A&4&&ar){if(h.stateNode===null)throw Error(r(162));A=h.memoizedProps,b=b!==null?b.memoizedProps:A,p=h.stateNode;try{d1(p,b,A)}catch(ct){jn(h,h.return,ct)}}break;case 3:if(Wa?(P1(),D=xi,xi=zm(p.containerInfo),na(p,h),xi=D):na(p,h),_a(h),A&4){if(ar&&Dr&&b!==null&&b.memoizedState.isDehydrated)try{AA(p.containerInfo)}catch(ct){jn(h,h.return,ct)}if(Ss){A=p.containerInfo,b=p.pendingChildren;try{Yf(A,b)}catch(ct){jn(h,h.return,ct)}}}jv&&(jv=!1,Qb(h));break;case 4:Wa?(b=xi,xi=zm(h.stateNode.containerInfo),na(p,h),_a(h),xi=b):(na(p,h),_a(h)),A&4&&Ss&&dm(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:na(p,h),_a(h);break;case 13:na(p,h),_a(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(la=Ms()),A&4&&(A=h.updateQueue,A!==null&&(h.updateQueue=null,gl(h,A)));break;case 22:A&512&&(Ai||b===null||ba(b,b.return)),D=h.memoizedState!==null;var $=b!==null&&b.memoizedState!==null,le=zo,ve=Ai;if(zo=le||D,Ai=ve||$,na(p,h),Ai=ve,zo=le,_a(h),p=h.stateNode,p._current=h,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,A&8192&&(p._visibility=D?p._visibility&-2:p._visibility|1,D&&(p=zo||Ai,b===null||$||p||Pf(h)),ar&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,ar)for(p=h;;){if(p.tag===5||Wa&&p.tag===26||Kn&&p.tag===27){if(b===null){$=b=p;try{B=$.stateNode,D?v1(B):x1($.stateNode,$.memoizedProps)}catch(ct){jn($,$.return,ct)}}}else if(p.tag===6){if(b===null){$=p;try{var ke=$.stateNode;D?y1(ke):EA(ke,$.memoizedProps)}catch(ct){jn($,$.return,ct)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break e;for(;p.sibling===null;){if(p.return===null||p.return===h)break e;b===p&&(b=null),p=p.return}b===p&&(b=null),p.sibling.return=p.return,p=p.sibling}}A&4&&(A=h.updateQueue,A!==null&&(b=A.retryQueue,b!==null&&(A.retryQueue=null,gl(h,b))));break;case 19:na(p,h),_a(h),A&4&&(A=h.updateQueue,A!==null&&(h.updateQueue=null,gl(h,A)));break;case 21:break;default:na(p,h),_a(h)}}function _a(h){var p=h.flags;if(p&2){try{if(ar&&(!Kn||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(tv(b)){var A=b;break e}b=b.return}throw Error(r(160))}switch(A.tag){case 27:if(Kn){var D=A.stateNode,B=dh(h);ml(h,B,D);break}case 5:var $=A.stateNode;A.flags&32&&(Tv($),A.flags&=-33);var le=dh(h);ml(h,le,$);break;case 3:case 4:var ve=A.stateNode.containerInfo,ke=dh(h);nv(h,ke,ve);break;default:throw Error(r(161))}}}catch(ct){jn(h,h.return,ct)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function Qb(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;Qb(p),p.tag===5&&p.flags&1024&&Om(p.stateNode),h=h.sibling}}function vl(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)hm(h,p.alternate,p),p=p.sibling}function Pf(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:ic(4,p,p.return),Pf(p);break;case 1:ba(p,p.return);var b=p.stateNode;typeof b.componentWillUnmount=="function"&&xa(p,p.return,b),Pf(p);break;case 26:case 27:case 5:ba(p,p.return),Pf(p);break;case 22:ba(p,p.return),p.memoizedState===null&&Pf(p);break;default:Pf(p)}h=h.sibling}}function yl(h,p,b){for(b=b&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var A=p.alternate,D=h,B=p,$=B.flags;switch(B.tag){case 0:case 11:case 15:yl(D,B,b),fh(4,B);break;case 1:if(yl(D,B,b),A=B,D=A.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(ke){jn(A,A.return,ke)}if(A=B,D=A.updateQueue,D!==null){var le=A.stateNode;try{var ve=D.shared.hiddenCallbacks;if(ve!==null)for(D.shared.hiddenCallbacks=null,D=0;D<ve.length;D++)ie(ve[D],le)}catch(ke){jn(A,A.return,ke)}}b&&$&64&&$b(B),eo(B,B.return);break;case 26:case 27:case 5:yl(D,B,b),b&&A===null&&$&4&&Jg(B),eo(B,B.return);break;case 12:yl(D,B,b);break;case 13:yl(D,B,b),b&&$&4&&pm(D,B);break;case 22:B.memoizedState===null&&yl(D,B,b),eo(B,B.return);break;default:yl(D,B,b)}p=p.sibling}}function mm(h,p){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&ch(b))}function ph(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&ch(h))}function mr(h,p,b,A){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)av(h,p,b,A),p=p.sibling}function av(h,p,b,A){var D=p.flags;switch(p.tag){case 0:case 11:case 15:mr(h,p,b,A),D&2048&&fh(9,p);break;case 3:mr(h,p,b,A),D&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&ch(h)));break;case 12:if(D&2048){mr(h,p,b,A),h=p.stateNode;try{var B=p.memoizedProps,$=B.id,le=B.onPostCommit;typeof le=="function"&&le($,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(ve){jn(p,p.return,ve)}}else mr(h,p,b,A);break;case 23:break;case 22:B=p.stateNode,p.memoizedState!==null?B._visibility&4?mr(h,p,b,A):Hr(h,p):B._visibility&4?mr(h,p,b,A):(B._visibility|=4,Rr(h,p,b,A,(p.subtreeFlags&10256)!==0)),D&2048&&mm(p.alternate,p);break;case 24:mr(h,p,b,A),D&2048&&ph(p.alternate,p);break;default:mr(h,p,b,A)}}function Rr(h,p,b,A,D){for(D=D&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var B=h,$=p,le=b,ve=A,ke=$.flags;switch($.tag){case 0:case 11:case 15:Rr(B,$,le,ve,D),fh(8,$);break;case 23:break;case 22:var ct=$.stateNode;$.memoizedState!==null?ct._visibility&4?Rr(B,$,le,ve,D):Hr(B,$):(ct._visibility|=4,Rr(B,$,le,ve,D)),D&&ke&2048&&mm($.alternate,$);break;case 24:Rr(B,$,le,ve,D),D&&ke&2048&&ph($.alternate,$);break;default:Rr(B,$,le,ve,D)}p=p.sibling}}function Hr(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var b=h,A=p,D=A.flags;switch(A.tag){case 22:Hr(b,A),D&2048&&mm(A.alternate,A);break;case 24:Hr(b,A),D&2048&&ph(A.alternate,A);break;default:Hr(b,A)}p=p.sibling}}function vs(h){if(h.subtreeFlags&es)for(h=h.child;h!==null;)gm(h),h=h.sibling}function gm(h){switch(h.tag){case 26:vs(h),h.flags&es&&(h.memoizedState!==null?U1(xi,h.memoizedState,h.memoizedProps):aa(h.type,h.memoizedProps));break;case 5:vs(h),h.flags&es&&aa(h.type,h.memoizedProps);break;case 3:case 4:if(Wa){var p=xi;xi=zm(h.stateNode.containerInfo),vs(h),xi=p}else vs(h);break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=es,es=16777216,vs(h),es=p):vs(h));break;default:vs(h)}}function mh(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function ac(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var A=p[b];tn=A,sv(A,h)}mh(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)vm(h),h=h.sibling}function vm(h){switch(h.tag){case 0:case 11:case 15:ac(h),h.flags&2048&&ic(9,h,h.return);break;case 3:ac(h);break;case 12:ac(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&4&&(h.return===null||h.return.tag!==13)?(p._visibility&=-5,xl(h)):ac(h);break;default:ac(h)}}function xl(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var A=p[b];tn=A,sv(A,h)}mh(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:ic(8,p,p.return),xl(p);break;case 22:b=p.stateNode,b._visibility&4&&(b._visibility&=-5,xl(p));break;default:xl(p)}h=h.sibling}}function sv(h,p){for(;tn!==null;){var b=tn;switch(b.tag){case 0:case 11:case 15:ic(8,b,p);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var A=b.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:ch(b.memoizedState.cache)}if(A=b.child,A!==null)A.return=b,tn=A;else e:for(b=h;tn!==null;){A=tn;var D=A.sibling,B=A.return;if(iv(A),A===b){tn=null;break e}if(D!==null){D.return=B,tn=D;break e}tn=B}}}function Lf(h){var p=r1(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(r(364));return p}if(h=Mv(h),h===null)throw Error(r(362));return h.stateNode.current}function sc(h,p){var b=h.tag;switch(p.$$typeof){case rd:if(h.type===p.value)return!0;break;case Ts:e:{for(p=p.value,h=[h,0],b=0;b<h.length;){var A=h[b++],D=A.tag,B=h[b++],$=p[B];if(D!==5&&D!==26&&D!==27||!Xf(A)){for(;$!=null&&sc(A,$);)B++,$=p[B];if(B===p.length){p=!0;break e}else for(A=A.child;A!==null;)h.push(A,B),A=A.sibling}}p=!1}return p;case fi:if((b===5||b===26||b===27)&&l1(h.stateNode,p.value))return!0;break;case Bo:if((b===5||b===6||b===26||b===27)&&(h=o1(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case uo:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function ov(h){switch(h.$$typeof){case rd:return"<"+(s(h.value)||"Unknown")+">";case Ts:return":has("+(ov(h)||"")+")";case fi:return'[role="'+h.value+'"]';case Bo:return'"'+h.value+'"';case uo:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function Sa(h,p){var b=[];h=[h,0];for(var A=0;A<h.length;){var D=h[A++],B=D.tag,$=h[A++],le=p[$];if(B!==5&&B!==26&&B!==27||!Xf(D)){for(;le!=null&&sc(D,le);)$++,le=p[$];if($===p.length)b.push(D);else for(D=D.child;D!==null;)h.push(D,$),D=D.sibling}}return b}function gh(h,p){if(!mc)throw Error(r(363));h=Lf(h),h=Sa(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var A=h[b++],D=A.tag;if(D===5||D===26||D===27)Xf(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)h.push(A),A=A.sibling}return p}function Ni(){if((Dn&2)!==0&&An!==0)return An&-An;if(Wt.T!==null){var h=$a;return h!==0?h:ze()}return a1()}function lv(){is===0&&(is=(An&536870912)===0||Rn?F():536870912);var h=Za.current;return h!==null&&(h.flags|=32),is}function gr(h,p,b){(h===kn&&Wn===2||h.cancelPendingCommit!==null)&&(Or(h,0),Ma(h,An,is,!1)),k(h,b),((Dn&2)===0||h!==kn)&&(h===kn&&((Dn&2)===0&&(Pl|=b),Qn===4&&Ma(h,An,is,!1)),dt(h))}function oc(h,p,b){if((Dn&6)!==0)throw Error(r(327));var A=!b&&(p&60)===0&&(p&h.expiredLanes)===0||N(h,p),D=A?uv(h,p):xm(h,p,!0),B=A;do{if(D===0){ts&&!A&&Ma(h,p,0,!1);break}else if(D===6)Ma(h,p,0,!Rs);else{if(b=h.current.alternate,B&&!Uf(b)){D=xm(h,p,!1),B=!1;continue}if(D===2){if(B=p,h.errorRecoveryDisabledLanes&B)var $=0;else $=h.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){p=$;e:{var le=h;D=Eu;var ve=Dr&&le.current.memoizedState.isDehydrated;if(ve&&(Or(le,$).flags|=256),$=xm(le,$,!1),$!==2){if(lr&&!ve){le.errorRecoveryDisabledLanes|=B,Pl|=B,D=4;break e}B=Ti,Ti=D,B!==null&&vh(B)}D=$}if(B=!1,D!==2)continue}}if(D===1){Or(h,0),Ma(h,p,0,!0);break}e:{switch(A=h,D){case 0:case 1:throw Error(r(345));case 4:if((p&4194176)===p){Ma(A,p,is,!Rs);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(r(329))}if(A.finishedWork=b,A.finishedLanes=p,(p&62914560)===p&&(B=la+300-Ms(),10<B)){if(Ma(A,p,is,!Rs),P(A,0)!==0)break e;A.timeoutHandle=Yi(ym.bind(null,A,b,Ti,Fh,Ym,p,is,Pl,jo,Rs,2,-0,0),B);break e}ym(A,b,Ti,Fh,Ym,p,is,Pl,jo,Rs,0,-0,0)}}break}while(!0);dt(h)}function vh(h){Ti===null?Ti=h:Ti.push.apply(Ti,h)}function ym(h,p,b,A,D,B,$,le,ve,ke,ct,yt,_t){var nn=p.subtreeFlags;if((nn&8192||(nn&16785408)===16785408)&&(_v(),gm(p),p=Ki(),p!==null)){h.cancelPendingCommit=p(cc.bind(null,h,b,A,D,$,le,ve,1,yt,_t)),Ma(h,B,$,!ke);return}cc(h,b,A,D,$,le,ve,ct,yt,_t)}function Uf(h){for(var p=h;;){var b=p.tag;if((b===0||b===11||b===15)&&p.flags&16384&&(b=p.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var A=0;A<b.length;A++){var D=b[A],B=D.getSnapshot;D=D.value;try{if(!wa(B(),D))return!1}catch{return!1}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ma(h,p,b,A){p&=~jh,p&=~Pl,h.suspendedLanes|=p,h.pingedLanes&=~p,A&&(h.warmLanes|=p),A=h.expirationTimes;for(var D=p;0<D;){var B=31-sa(D),$=1<<B;A[B]=-1,D&=~$}b!==0&&ee(h,b,p)}function yh(){return(Dn&6)===0?(ot(0),!1):!0}function If(){if(Ht!==null){if(Wn===0)var h=Ht.return;else h=Ht,Ja=co=null,Js(h),_c=null,Sc=0,h=Ht;for(;h!==null;)Kb(h.alternate,h),h=h.return;Ht=null}}function Or(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==hc&&(h.timeoutHandle=hc,Cm(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),If(),kn=h,Ht=b=xs(h.current,null),An=p,Wn=0,qr=null,Rs=!1,ts=N(h,p),lr=!1,jo=is=jh=Pl=ns=Qn=0,Ti=Eu=null,Ym=!1,(p&8)!==0&&(p|=p&32);var A=h.entangledLanes;if(A!==0)for(h=h.entanglements,A&=p;0<A;){var D=31-sa(A),B=1<<D;p|=h[D],A&=~B}return Xr=p,De(),b}function Ga(h,p){dn=null,Wt.H=wi,p===ed?(p=gt(),Wn=3):p===zh?(p=gt(),Wn=4):Wn=p===Xm?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,qr=p,Ht===null&&(Qn=1,Tf(h,ne(p,h.current)))}function lc(){var h=Za.current;return h===null?!0:(An&4194176)===An?$n===null:(An&62914560)===An||(An&536870912)!==0?h===$n:!1}function Ao(){var h=Wt.H;return Wt.H=wi,h===null?wi:h}function To(){var h=Wt.A;return Wt.A=id,h}function bl(){Qn=4,Rs||(An&4194176)!==An&&Za.current!==null||(ts=!0),(ns&134217727)===0&&(Pl&134217727)===0||kn===null||Ma(kn,An,is,!1)}function xm(h,p,b){var A=Dn;Dn|=2;var D=Ao(),B=To();(kn!==h||An!==p)&&(Fh=null,Or(h,p)),p=!1;var $=Qn;e:do try{if(Wn!==0&&Ht!==null){var le=Ht,ve=qr;switch(Wn){case 8:If(),$=6;break e;case 3:case 2:case 6:Za.current===null&&(p=!0);var ke=Wn;if(Wn=0,qr=null,ys(h,le,ve,ke),b&&ts){$=0;break e}break;default:ke=Wn,Wn=0,qr=null,ys(h,le,ve,ke)}}cv(),$=Qn;break}catch(ct){Ga(h,ct)}while(!0);return p&&h.shellSuspendCounter++,Ja=co=null,Dn=A,Wt.H=D,Wt.A=B,Ht===null&&(kn=null,An=0,De()),$}function cv(){for(;Ht!==null;)yi(Ht)}function uv(h,p){var b=Dn;Dn|=2;var A=Ao(),D=To();kn!==h||An!==p?(Fh=null,ad=Ms()+500,Or(h,p)):ts=N(h,p);e:do try{if(Wn!==0&&Ht!==null){p=Ht;var B=qr;t:switch(Wn){case 1:Wn=0,qr=null,ys(h,p,B,1);break;case 2:if(rt(B)){Wn=0,qr=null,Ln(p);break}p=function(){Wn===2&&kn===h&&(Wn=7),dt(h)},B.then(p,p);break e;case 3:Wn=7;break e;case 4:Wn=5;break e;case 7:rt(B)?(Wn=0,qr=null,Ln(p)):(Wn=0,qr=null,ys(h,p,B,7));break;case 5:var $=null;switch(Ht.tag){case 26:$=Ht.memoizedState;case 5:case 27:var le=Ht,ve=le.type,ke=le.pendingProps;if($?uu($):Rm(ve,ke)){Wn=0,qr=null;var ct=le.sibling;if(ct!==null)Ht=ct;else{var yt=le.return;yt!==null?(Ht=yt,qa(yt)):Ht=null}break t}}Wn=0,qr=null,ys(h,p,B,5);break;case 6:Wn=0,qr=null,ys(h,p,B,6);break;case 8:If(),Qn=6;break e;default:throw Error(r(462))}}ia();break}catch(_t){Ga(h,_t)}while(!0);return Ja=co=null,Wt.H=A,Wt.A=D,Dn=b,Ht!==null?0:(kn=null,An=0,De(),Qn)}function ia(){for(;Ht!==null&&!j1();)yi(Ht)}function yi(h){var p=Xb(h.alternate,h,Xr);h.memoizedProps=h.pendingProps,p===null?qa(h):Ht=p}function Ln(h){var p=h,b=p.alternate;switch(p.tag){case 15:case 0:p=Fb(b,p,p.pendingProps,p.type,void 0,An);break;case 11:p=Fb(b,p,p.pendingProps,p.type.render,p.ref,An);break;case 5:Js(p);default:Kb(b,p),p=Ht=bh(p,Xr),p=Xb(b,p,Xr)}h.memoizedProps=h.pendingProps,p===null?qa(h):Ht=p}function ys(h,p,b,A){Ja=co=null,Js(p),_c=null,Sc=0;var D=p.return;try{if(vA(h,D,p,b,An)){Qn=1,Tf(h,ne(b,h.current)),Ht=null;return}}catch(B){if(D!==null)throw Ht=D,B;Qn=1,Tf(h,ne(b,h.current)),Ht=null;return}p.flags&32768?(Rn||A===1?h=!0:ts||(An&536870912)!==0?h=!1:(Rs=h=!0,(A===2||A===3||A===6)&&(A=Za.current,A!==null&&A.tag===13&&(A.flags|=16384))),bm(p,h)):qa(p)}function qa(h){var p=h;do{if((p.flags&32768)!==0){bm(p,Rs);return}h=p.return;var b=Yb(p.alternate,p,Xr);if(b!==null){Ht=b;return}if(p=p.sibling,p!==null){Ht=p;return}Ht=p=h}while(p!==null);Qn===0&&(Qn=5)}function bm(h,p){do{var b=xA(h.alternate,h);if(b!==null){b.flags&=32767,Ht=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!p&&(h=h.sibling,h!==null)){Ht=h;return}Ht=h=b}while(h!==null);Qn=6,Ht=null}function cc(h,p,b,A,D,B,$,le,ve,ke){var ct=Wt.T,yt=Al();try{Gr(2),Wt.T=null,Jb(h,p,b,A,yt,D,B,$,le,ve,ke)}finally{Wt.T=ct,Gr(yt)}}function Jb(h,p,b,A,D,B,$,le){do to();while(Fo!==null);if((Dn&6)!==0)throw Error(r(327));var ve=h.finishedWork;if(A=h.finishedLanes,ve===null)return null;if(h.finishedWork=null,h.finishedLanes=0,ve===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var ke=ve.lanes|ve.childLanes;if(ke|=oo,Z(h,A,ke,B,$,le),h===kn&&(Ht=kn=null,An=0),(ve.subtreeFlags&10256)===0&&(ve.flags&10256)===0||fo||(fo=!0,Tc=ke,Km=b,Sl(Vm,function(){return to(),null})),b=(ve.flags&15990)!==0,(ve.subtreeFlags&15990)!==0||b?(b=Wt.T,Wt.T=null,B=Al(),Gr(2),$=Dn,Dn|=4,hh(h,ve),rv(ve,h),i1(h.containerInfo),h.current=ve,hm(h,ve.alternate,ve),Fm(),Dn=$,Gr(B),Wt.T=b):h.current=ve,fo?(fo=!1,Fo=h,wu=A):fv(h,ke),ke=h.pendingLanes,ke===0&&(Ac=null),H(ve.stateNode),dt(h),p!==null)for(D=h.onRecoverableError,ve=0;ve<p.length;ve++)ke=p[ve],D(ke.value,{componentStack:ke.stack});return(wu&3)!==0&&to(),ke=h.pendingLanes,(A&4194218)!==0&&(ke&42)!==0?h===$m?sd++:(sd=0,$m=h):sd=0,ot(0),null}function fv(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,ch(p)))}function to(){if(Fo!==null){var h=Fo,p=Tc;Tc=0;var b=ae(wu),A=32>b?32:b;b=Wt.T;var D=Al();try{if(Gr(A),Wt.T=null,Fo===null)var B=!1;else{A=Km,Km=null;var $=Fo,le=wu;if(Fo=null,wu=0,(Dn&6)!==0)throw Error(r(331));var ve=Dn;if(Dn|=4,vm($.current),av($,$.current,le,A),Dn=ve,ot(0,!1),Ea&&typeof Ea.onPostCommitFiberRoot=="function")try{Ea.onPostCommitFiberRoot(Ui,$)}catch{}B=!0}return B}finally{Gr(D),Wt.T=b,fv(h,p)}}return!1}function zf(h,p,b){p=ne(b,p),p=Rf(h.stateNode,p,2),h=nt(h,p,2),h!==null&&(k(h,2),dt(h))}function jn(h,p,b){if(h.tag===3)zf(h,h,b);else for(;p!==null;){if(p.tag===3){zf(p,h,b);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ac===null||!Ac.has(A))){h=ne(b,h),b=Gg(2),A=nt(p,b,2),A!==null&&(Ub(b,A,p,h),k(A,2),dt(A));break}}p=p.return}}function ou(h,p,b){var A=h.pingCache;if(A===null){A=h.pingCache=new Cs;var D=new Set;A.set(p,D)}else D=A.get(p),D===void 0&&(D=new Set,A.set(p,D));D.has(b)||(lr=!0,D.add(b),h=dv.bind(null,h,p,b),p.then(h,h))}function dv(h,p,b){var A=h.pingCache;A!==null&&A.delete(p),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,kn===h&&(An&b)===b&&(Qn===4||Qn===3&&(An&62914560)===An&&300>Ms()-la?(Dn&2)===0&&Or(h,0):jh|=b,jo===An&&(jo=0)),dt(h)}function uc(h,p){p===0&&(p=I()),h=je(h,p),h!==null&&(k(h,p),dt(h))}function _l(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),uc(h,b)}function fc(h,p){var b=0;switch(h.tag){case 13:var A=h.stateNode,D=h.memoizedState;D!==null&&(b=D.retryLane);break;case 19:A=h.stateNode;break;case 22:A=h.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(p),uc(h,b)}function Sl(h,p){return Lh(h,p)}function hv(h,p,b,A){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function xs(h,p){var b=h.alternate;return b===null?(b=n(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function bh(h,p){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,p=b.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function Co(h,p,b,A,D,B){var $=0;if(A=h,typeof h=="function")xh(h)&&($=1);else if(typeof h=="string")$=Wa&&Kn?Dh(h,b,sr.current)?26:Oo(h)?27:5:Wa?Dh(h,b,sr.current)?26:5:Kn&&Oo(h)?27:5;else e:switch(h){case dc:return Ei(b.children,D,B,p);case Eh:$=8,D|=24;break;case Em:return h=n(12,b,p,D|2),h.elementType=Em,h.lanes=B,h;case wm:return h=n(13,b,p,D),h.elementType=wm,h.lanes=B,h;case kf:return h=n(19,b,p,D),h.elementType=kf,h.lanes=B,h;case gv:return _h(b,D,B,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case wh:case no:$=10;break e;case mv:$=9;break e;case Ah:$=11;break e;case Am:$=14;break e;case _s:$=16,A=null;break e}$=29,b=Error(r(130,h===null?"null":typeof h,"")),A=null}return p=n($,b,p,D),p.elementType=h,p.type=A,p.lanes=B,p}function Ei(h,p,b,A){return h=n(7,h,A,p),h.lanes=b,h}function _h(h,p,b,A){h=n(22,h,A,p),h.elementType=gv,h.lanes=b;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var B=D._current;if(B===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var $=je(B,2);$!==null&&(D._pendingVisibility|=2,gr($,B,2))}},attach:function(){var B=D._current;if(B===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var $=je(B,2);$!==null&&(D._pendingVisibility&=-3,gr($,B,2))}}};return h.stateNode=D,h}function _m(h,p,b){return h=n(6,h,null,p),h.lanes=b,h}function pv(h,p,b){return p=n(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function bA(h,p,b,A,D,B,$,le){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=hc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=A,this.onUncaughtError=D,this.onCaughtError=B,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function e1(h,p,b,A,D,B,$,le,ve,ke,ct,yt){return h=new bA(h,p,b,$,le,ve,ke,yt),p=1,B===!0&&(p|=24),B=n(3,null,null,p),h.current=B,B.stateNode=h,p=nc(),p.refCount++,h.pooledCache=p,p.refCount++,B.memoizedState={element:A,isDehydrated:b,cache:p},Dt(B),h}function Wi(h){return h?(h=yc,h):yc}function Sm(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=y(p),h=h!==null?_(h):null,h===null?null:Gf(h.stateNode)}function Bf(h,p,b,A,D,B){D=Wi(D),A.context===null?A.context=D:A.pendingContext=D,A=We(p),A.payload={element:b},B=B===void 0?null:B,B!==null&&(A.callback=B),b=nt(h,A,p),b!==null&&(gr(b,h,p),At(b,h,p))}function jf(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function Sh(h,p){jf(h,p),(h=h.alternate)&&jf(h,p)}var rn={},Ff=kd(),Xa=nAe(),Mm=Object.assign,_A=Symbol.for("react.element"),Mh=Symbol.for("react.transitional.element"),bs=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),Eh=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),wh=Symbol.for("react.provider"),mv=Symbol.for("react.consumer"),no=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),gv=Symbol.for("react.offscreen"),t1=Symbol.for("react.memo_cache_sentinel"),Ml=Symbol.iterator,vv=Symbol.for("react.client.reference"),Wt=Ff.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ro,El,lu=!1,Vf=Array.isArray,yv=e.rendererVersion,Th=e.rendererPackageName,Hf=e.extraDevToolsConfig,Gf=e.getPublicInstance,n1=e.getRootHostContext,qf=e.getChildHostContext,Tm=e.prepareForCommit,i1=e.resetAfterCommit,xv=e.createInstance,Ch=e.appendInitialChild,wl=e.finalizeInitialChildren,an=e.shouldSetTextContent,qn=e.createTextInstance,Yi=e.scheduleTimeout,Cm=e.cancelTimeout,hc=e.noTimeout,ra=e.isPrimaryRenderer;e.warnsIfNotActing;var ar=e.supportsMutation,Ss=e.supportsPersistence,Dr=e.supportsHydration,r1=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Pi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Gr=e.setCurrentUpdatePriority,Al=e.getCurrentUpdatePriority,a1=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var s1=e.shouldAttemptEagerTransition,SA=e.detachDeletedInstance;e.requestPostPaintCallback;var bv=e.maySuspendCommit,Rm=e.preloadInstance,_v=e.startSuspendingCommit,aa=e.suspendInstance,Ki=e.waitForCommitToBeReady,pc=e.NotPendingTransition,io=e.HostTransitionContext,Om=e.resetFormInstance;e.bindToConsole;var Sv=e.supportsMicrotasks,Tl=e.scheduleMicrotask,mc=e.supportsTestSelectors,Mv=e.findFiberRoot,Ev=e.getBoundingRect,o1=e.getTextContent,Xf=e.isHiddenSubtree,l1=e.matchAccessibilityRole,c1=e.setFocusIfFocusable,u1=e.setupIntersectionObserver,f1=e.appendChild,wv=e.appendChildToContainer,d1=e.commitTextUpdate,MA=e.commitMount,h1=e.commitUpdate,p1=e.insertBefore,m1=e.insertInContainerBefore,Av=e.removeChild,g1=e.removeChildFromContainer,Tv=e.resetTextContent,v1=e.hideInstance,y1=e.hideTextInstance,x1=e.unhideInstance,EA=e.unhideTextInstance,b1=e.clearContainer,Wf=e.cloneInstance,Rh=e.createContainerChildSet,Cv=e.appendChildToContainerChildSet,Dm=e.finalizeContainerChildren,Yf=e.replaceContainerChildren,Rv=e.cloneHiddenInstance,Ov=e.cloneHiddenTextInstance,Nm=e.isSuspenseInstancePending,Pm=e.isSuspenseInstanceFallback,_1=e.getSuspenseInstanceFallbackErrorDetails,S1=e.registerSuspenseInstanceRetry,Dv=e.canHydrateFormStateMarker,M1=e.isFormStateMarkerMatching,Nv=e.getNextHydratableSibling,Lm=e.getFirstHydratableChild,E1=e.getFirstHydratableChildWithinContainer,w1=e.getFirstHydratableChildWithinSuspenseInstance,wA=e.canHydrateInstance,Pv=e.canHydrateTextInstance,A1=e.canHydrateSuspenseInstance,T1=e.hydrateInstance,Lv=e.hydrateTextInstance,C1=e.hydrateSuspenseInstance,R1=e.getNextHydratableInstanceAfterSuspenseInstance,AA=e.commitHydratedContainer,TA=e.commitHydratedSuspenseInstance,O1=e.clearSuspenseBoundary,Oh=e.clearSuspenseBoundaryFromContainer,Um=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Im=e.validateHydratableInstance,D1=e.validateHydratableTextInstance,Wa=e.supportsResources,Dh=e.isHostHoistableType,zm=e.getHoistableRoot,Uv=e.getResource,N1=e.acquireResource,cu=e.releaseResource,Nh=e.hydrateHoistable,Ph=e.mountHoistable,Kf=e.unmountHoistable,Bm=e.createHoistableInstance,P1=e.prepareToCommitHoistables,L1=e.mayResourceSuspendCommit,uu=e.preloadResource,U1=e.suspendResource,Kn=e.supportsSingletons,ro=e.resolveSingletonInstance,gc=e.clearSingleton,I1=e.acquireSingletonInstance,vc=e.releaseSingletonInstance,Oo=e.isHostSingletonType,Li=[],Cl=-1,yc={},sa=Math.clz32?Math.clz32:T,z1=Math.log,B1=Math.LN2,Do=128,fu=4194304,Lh=Xa.unstable_scheduleCallback,jm=Xa.unstable_cancelCallback,j1=Xa.unstable_shouldYield,Fm=Xa.unstable_requestPaint,Ms=Xa.unstable_now,km=Xa.unstable_ImmediatePriority,F1=Xa.unstable_UserBlockingPriority,Vm=Xa.unstable_NormalPriority,CA=Xa.unstable_IdlePriority,k1=Xa.log,vr=Xa.unstable_setDisableYieldValue,Ui=null,Ea=null,wa=typeof Object.is=="function"?Object.is:K,Iv=new WeakMap,du=[],hu=0,pu=null,$f=0,Ya=[],Ka=0,xc=null,ao=1,so="",sr=S(null),Zf=S(null),No=S(null),mu=S(null),Nr=null,Pr=null,Rn=!1,Es=null,yr=!1,Uh=Error(r(519)),ws=[],gu=0,oo=0,Ih=null,Rl=null,vu=!1,ai=!1,zv=!1,Qf=0,Jf=null,yu=0,$a=0,xu=null,Ol=!1,bu=!1,Po=Object.prototype.hasOwnProperty,ed=Error(r(460)),zh=Error(r(474)),Bh={then:function(){}},bc=null,_c=null,Sc=0,Mc=ti(!0),Lo=ti(!1),si=S(null),td=S(0),Za=S(null),$n=null,or=S(0),Dl=0,dn=null,Vt=null,On=null,As=!1,_u=!1,Ec=!1,Hm=0,Su=0,xr=null,lo=0,Gm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},wi={readContext:Tr,use:Te,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useLayoutEffect:ni,useInsertionEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useSyncExternalStore:ni,useId:ni};wi.useCacheRefresh=ni,wi.useMemoCache=ni,wi.useHostTransitionStatus=ni,wi.useFormState=ni,wi.useActionState=ni,wi.useOptimistic=ni;var wc={readContext:Tr,use:Te,useCallback:function(h,p){return Di().memoizedState=[h,p===void 0?null:p],h},useContext:Tr,useEffect:tm,useImperativeHandle:function(h,p,b){b=b!=null?b.concat([h]):null,Ha(4194308,4,nm.bind(null,p,h),b)},useLayoutEffect:function(h,p){return Ha(4194308,4,h,p)},useInsertionEffect:function(h,p){Ha(4,2,h,p)},useMemo:function(h,p){var b=Di();p=p===void 0?null:p;var A=h();if(Ec){X(!0);try{h()}finally{X(!1)}}return b.memoizedState=[A,p],A},useReducer:function(h,p,b){var A=Di();if(b!==void 0){var D=b(p);if(Ec){X(!0);try{b(p)}finally{X(!1)}}}else D=p;return A.memoizedState=A.baseState=D,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:D},A.queue=h,h=h.dispatch=rm.bind(null,dn,h),[A.memoizedState,h]},useRef:function(h){var p=Di();return h={current:h},p.memoizedState=h},useState:function(h){h=En(h);var p=h.queue,b=Hg.bind(null,dn,p);return p.dispatch=b,[h.memoizedState,b]},useDebugValue:Zl,useDeferredValue:function(h,p){var b=Di();return eh(b,h,p)},useTransition:function(){var h=En(!1);return h=Sf.bind(null,dn,h.queue,!0,!1),Di().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,b){var A=dn,D=Di();if(Rn){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),kn===null)throw Error(r(349));(An&60)!==0||Lt(A,p,b)}D.memoizedState=b;var B={value:b,getSnapshot:p};return D.queue=B,tm(Pt.bind(null,A,B,h),[h]),A.flags|=2048,ri(9,jt.bind(null,A,B,b,p),{destroy:void 0},null),b},useId:function(){var h=Di(),p=kn.identifierPrefix;if(Rn){var b=so,A=ao;b=(A&~(1<<32-sa(A)-1)).toString(32)+b,p=":"+p+"R"+b,b=Hm++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=lo++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},useCacheRefresh:function(){return Di().memoizedState=Vg.bind(null,dn)}};wc.useMemoCache=Ne,wc.useHostTransitionStatus=th,wc.useFormState=ul,wc.useActionState=ul,wc.useOptimistic=function(h){var p=Di();p.memoizedState=p.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=b,p=Ef.bind(null,dn,!0,b),b.dispatch=p,[h,p]};var oa={readContext:Tr,use:Te,useCallback:ru,useContext:Tr,useEffect:jg,useImperativeHandle:im,useInsertionEffect:Pb,useLayoutEffect:Jd,useMemo:Fg,useReducer:lt,useRef:_f,useState:function(){return lt(de)},useDebugValue:Zl,useDeferredValue:function(h,p){var b=Y();return kg(b,Vt.memoizedState,h,p)},useTransition:function(){var h=lt(de)[0],p=Y().memoizedState;return[typeof h=="boolean"?h:he(h),p]},useSyncExternalStore:St,useId:Mf};oa.useCacheRefresh=fl,oa.useMemoCache=Ne,oa.useHostTransitionStatus=th,oa.useFormState=Xn,oa.useActionState=Xn,oa.useOptimistic=function(h,p){var b=Y();return ii(b,Vt,h,p)};var Qa={readContext:Tr,use:Te,useCallback:ru,useContext:Tr,useEffect:jg,useImperativeHandle:im,useInsertionEffect:Pb,useLayoutEffect:Jd,useMemo:Fg,useReducer:Et,useRef:_f,useState:function(){return Et(de)},useDebugValue:Zl,useDeferredValue:function(h,p){var b=Y();return Vt===null?eh(b,h,p):kg(b,Vt.memoizedState,h,p)},useTransition:function(){var h=Et(de)[0],p=Y().memoizedState;return[typeof h=="boolean"?h:he(h),p]},useSyncExternalStore:St,useId:Mf};Qa.useCacheRefresh=fl,Qa.useMemoCache=Ne,Qa.useHostTransitionStatus=th,Qa.useFormState=rr,Qa.useActionState=rr,Qa.useOptimistic=function(h,p){var b=Y();return Vt!==null?ii(b,Vt,h,p):(b.baseState=h,[h,b.queue.dispatch])};var Uo={isMounted:function(h){return(h=h._reactInternals)?m(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var A=Ni(),D=We(A);D.payload=p,b!=null&&(D.callback=b),p=nt(h,D,A),p!==null&&(gr(p,h,A),At(p,h,A))},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var A=Ni(),D=We(A);D.tag=1,D.payload=p,b!=null&&(D.callback=b),p=nt(h,D,A),p!==null&&(gr(p,h,A),At(p,h,A))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Ni(),A=We(b);A.tag=2,p!=null&&(A.callback=p),p=nt(h,A,b),p!==null&&(gr(p,h,b),At(p,h,b))}},qm=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Xm=Error(r(461)),Zn=!1,Wm={dehydrated:null,treeContext:null,retryLane:0},Nl=S(null),co=null,Ja=null,nd=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(b,A){h.push(A)}};this.abort=function(){p.aborted=!0,h.forEach(function(b){return b()})}},V1=Xa.unstable_scheduleCallback,H1=Xa.unstable_NormalPriority,oi={$$typeof:no,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Bv=Wt.S;Wt.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Oe(h,p),Bv!==null&&Bv(h,p)};var Io=S(null),zo=!1,Ai=!1,jv=!1,Fn=typeof WeakSet=="function"?WeakSet:Set,tn=null,Sn=!1,Bt=null,ln=!1,xi=null,es=8192,id={getCacheForType:function(h){var p=Tr(oi),b=p.data.get(h);return b===void 0&&(b=h(),p.data.set(h,b)),b}},rd=0,Ts=1,fi=2,uo=3,Bo=4;if(typeof Symbol=="function"&&Symbol.for){var Mu=Symbol.for;rd=Mu("selector.component"),Ts=Mu("selector.has_pseudo_class"),fi=Mu("selector.role"),uo=Mu("selector.test_id"),Bo=Mu("selector.text")}var Cs=typeof WeakMap=="function"?WeakMap:Map,Dn=0,kn=null,Ht=null,An=0,Wn=0,qr=null,Rs=!1,ts=!1,lr=!1,Xr=0,Qn=0,ns=0,Pl=0,jh=0,is=0,jo=0,Eu=null,Ti=null,Ym=!1,la=0,ad=1/0,Fh=null,Ac=null,fo=!1,Fo=null,wu=0,Tc=0,Km=null,sd=0,$m=null;return rn.attemptContinuousHydration=function(h){if(h.tag===13){var p=je(h,67108864);p!==null&&gr(p,h,67108864),Sh(h,67108864)}},rn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Ni(),b=je(h,p);b!==null&&gr(b,h,p),Sh(h,p)}},rn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=L(h.pendingLanes);if(p!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;p;){var b=1<<31-sa(p);h.entanglements[1]|=b,p&=~b}dt(h),(Dn&6)===0&&(ad=Ms()+500,ot(0))}}break;case 13:p=je(h,2),p!==null&&gr(p,h,2),yh(),Sh(h,2)}},rn.batchedUpdates=function(h,p){return h(p)},rn.createComponentSelector=function(h){return{$$typeof:rd,value:h}},rn.createContainer=function(h,p,b,A,D,B,$,le,ve,ke){return e1(h,p,!1,null,b,A,B,$,le,ve,ke,null)},rn.createHasPseudoClassSelector=function(h){return{$$typeof:Ts,value:h}},rn.createHydrationContainer=function(h,p,b,A,D,B,$,le,ve,ke,ct,yt,_t){return h=e1(b,A,!0,h,D,B,le,ve,ke,ct,yt,_t),h.context=Wi(null),b=h.current,A=Ni(),D=We(A),D.callback=p??null,nt(b,D,A),h.current.lanes=A,k(h,A),dt(h),h},rn.createPortal=function(h,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:A==null?null:""+A,children:h,containerInfo:p,implementation:b}},rn.createRoleSelector=function(h){return{$$typeof:fi,value:h}},rn.createTestNameSelector=function(h){return{$$typeof:uo,value:h}},rn.createTextSelector=function(h){return{$$typeof:Bo,value:h}},rn.defaultOnCaughtError=function(h){console.error(h)},rn.defaultOnRecoverableError=function(h){qm(h)},rn.defaultOnUncaughtError=function(h){qm(h)},rn.deferredUpdates=function(h){var p=Wt.T,b=Al();try{return Gr(32),Wt.T=null,h()}finally{Gr(b),Wt.T=p}},rn.discreteUpdates=function(h,p,b,A,D){var B=Wt.T,$=Al();try{return Gr(2),Wt.T=null,h(p,b,A,D)}finally{Gr($),Wt.T=B,Dn===0&&(ad=Ms()+500)}},rn.findAllNodes=gh,rn.findBoundingRects=function(h,p){if(!mc)throw Error(r(363));p=gh(h,p),h=[];for(var b=0;b<p.length;b++)h.push(Ev(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var A=b.x,D=A+b.width,B=b.y,$=B+b.height,le=p-1;0<=le;le--)if(p!==le){var ve=h[le],ke=ve.x,ct=ke+ve.width,yt=ve.y,_t=yt+ve.height;if(A>=ke&&B>=yt&&D<=ct&&$<=_t){h.splice(p,1);break}else if(A!==ke||b.width!==ve.width||_t<B||yt>$){if(!(B!==yt||b.height!==ve.height||ct<A||ke>D)){ke>A&&(ve.width+=ke-A,ve.x=A),ct<D&&(ve.width=D-ke),h.splice(p,1);break}}else{yt>B&&(ve.height+=yt-B,ve.y=B),_t<$&&(ve.height=$-yt),h.splice(p,1);break}}}return h},rn.findHostInstance=Sm,rn.findHostInstanceWithNoPortals=function(h){return h=y(h),h=h!==null?E(h):null,h===null?null:Gf(h.stateNode)},rn.findHostInstanceWithWarning=function(h){return Sm(h)},rn.flushPassiveEffects=to,rn.flushSyncFromReconciler=function(h){var p=Dn;Dn|=1;var b=Wt.T,A=Al();try{if(Gr(2),Wt.T=null,h)return h()}finally{Gr(A),Wt.T=b,Dn=p,(Dn&6)===0&&ot(0)}},rn.flushSyncWork=yh,rn.focusWithin=function(h,p){if(!mc)throw Error(r(363));for(h=Lf(h),p=Sa(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++],A=b.tag;if(!Xf(b)){if((A===5||A===26||A===27)&&c1(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},rn.getFindAllNodesFailureDescription=function(h,p){if(!mc)throw Error(r(363));var b=0,A=[];h=[Lf(h),0];for(var D=0;D<h.length;){var B=h[D++],$=B.tag,le=h[D++],ve=p[le];if(($!==5&&$!==26&&$!==27||!Xf(B))&&(sc(B,ve)&&(A.push(ov(ve)),le++,le>b&&(b=le)),le<p.length))for(B=B.child;B!==null;)h.push(B,le),B=B.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(ov(p[b]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},rn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return Gf(h.child.stateNode);default:return h.child.stateNode}},rn.injectIntoDevTools=function(){var h={bundleType:0,version:yv,rendererPackageName:Th,currentDispatcherRef:Wt,findFiberByHostInstance:r1,reconcilerVersion:"19.0.0"};if(Hf!==null&&(h.rendererConfig=Hf),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Ui=p.inject(h),Ea=p}catch{}h=!!p.checkDCE}}return h},rn.isAlreadyRendering=function(){return!1},rn.observeVisibleRects=function(h,p,b,A){if(!mc)throw Error(r(363));h=gh(h,p);var D=u1(h,b,A).disconnect;return{disconnect:function(){D()}}},rn.shouldError=function(){return null},rn.shouldSuspend=function(){return!1},rn.startHostTransition=function(h,p,b,A){if(h.tag!==5)throw Error(r(476));var D=wo(h).queue;Sf(h,D,p,pc,b===null?i:function(){var B=wo(h).next.queue;return Ql(h,B,{},Ni()),b(A)})},rn.updateContainer=function(h,p,b,A){var D=p.current,B=Ni();return Bf(D,B,h,p,b,A),B},rn.updateContainerSync=function(h,p,b,A){return p.tag===0&&to(),Bf(p.current,2,h,p,b,A),2},rn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(rC)),rC.exports}var Hj;function rAe(){return Hj||(Hj=1,iC.exports=iAe()),iC.exports}var aAe=rAe();const sAe=al(aAe);var oC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function oAe(){return Gj||(Gj=1,(function(t){function e(H,X){var K=H.length;H.push(X);e:for(;0<K;){var ne=K-1>>>1,q=H[ne];if(0<r(q,X))H[ne]=X,H[K]=q,K=ne;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],K=H.pop();if(K!==X){H[0]=K;e:for(var ne=0,q=H.length,se=q>>>1;ne<se;){var ge=2*(ne+1)-1,_e=H[ge],Ae=ge+1,Qe=H[Ae];if(0>r(_e,K))Ae<q&&0>r(Qe,_e)?(H[ne]=Qe,H[Ae]=K,ne=Ae):(H[ne]=_e,H[ge]=K,ne=ge);else if(Ae<q&&0>r(Qe,K))H[ne]=Qe,H[Ae]=K,ne=Ae;else break e}}return X}function r(H,X){var K=H.sortIndex-X.sortIndex;return K!==0?K:H.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],d=1,m=null,v=3,y=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var X=n(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=H)i(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function L(H){if(E=!1,T(H),!_)if(n(c)!==null)_=!0,re();else{var X=n(f);X!==null&&ae(L,X.startTime-H)}}var P=!1,N=-1,z=5,F=-1;function I(){return!(t.unstable_now()-F<z)}function j(){if(P){var H=t.unstable_now();F=H;var X=!0;try{e:{_=!1,E&&(E=!1,M(N),N=-1),y=!0;var K=v;try{t:{for(T(H),m=n(c);m!==null&&!(m.expirationTime>H&&I());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,v=m.priorityLevel;var q=ne(m.expirationTime<=H);if(H=t.unstable_now(),typeof q=="function"){m.callback=q,T(H),X=!0;break t}m===n(c)&&i(c),T(H)}else i(c);m=n(c)}if(m!==null)X=!0;else{var se=n(f);se!==null&&ae(L,se.startTime-H),X=!1}}break e}finally{m=null,v=K,y=!1}X=void 0}}finally{X?k():P=!1}}}var k;if(typeof C=="function")k=function(){C(j)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=j,k=function(){ee.postMessage(null)}}else k=function(){S(j,0)};function re(){P||(P=!0,k())}function ae(H,X){N=S(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,re())},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var K=v;v=X;try{return H()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=v;v=H;try{return X()}finally{v=K}},t.unstable_scheduleCallback=function(H,X,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,H={id:d++,callback:X,priorityLevel:H,startTime:K,expirationTime:q,sortIndex:-1},K>ne?(H.sortIndex=K,e(f,H),n(c)===null&&H===n(f)&&(E?(M(N),N=-1):E=!0,ae(L,K-ne))):(H.sortIndex=q,e(c,H),_||y||(_=!0,re())),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var X=v;return function(){var K=v;v=X;try{return H.apply(this,arguments)}finally{v=K}}}})(lC)),lC}var qj;function lAe(){return qj||(qj=1,oC.exports=oAe()),oC.exports}var Xj=lAe();function SP(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=SP(i,e,n);if(r)return r;i=e?null:i.sibling}}function Vq(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const MP=Vq(U.createContext(null));class Hq extends U.Component{render(){return U.createElement(MP.Provider,{value:this._reactInternals},this.props.children)}}function Gq(){const t=U.useContext(MP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=SP(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const cAe=Symbol.for("react.context"),uAe=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===cAe;function fAe(){const t=Gq(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;uAe(i)&&i!==MP&&!e.has(i)&&e.set(i,U.use(Vq(i))),n=n.return}return e}function dAe(){const t=fAe();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>U.createElement(e,null,U.createElement(n.Provider,{...i,value:t.get(n)})),e=>U.createElement(Hq,{...e})),[t])}function qq(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Xq=t=>t&&t.isOrthographicCamera,hAe=t=>t&&t.hasOwnProperty("current"),pAe=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),Db=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?U.useLayoutEffect:U.useEffect;function Wq(t){const e=U.useRef(t);return Db(()=>void(e.current=t),[t]),e}function mAe(){const t=Gq(),e=dAe();return U.useMemo(()=>({children:n})=>{const r=!!SP(t,!0,a=>a.type===U.StrictMode)?U.StrictMode:U.Fragment;return R.jsx(r,{children:R.jsx(e,{children:n})})},[t,e])}function gAe({set:t}){return Db(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const vAe=(t=>(t=class extends U.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function Yq(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function O0(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const ji={obj:t=>t===Object(t)&&!ji.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ji.str(t)||ji.num(t)||ji.boo(t))return t===e;const a=ji.obj(t);if(a&&i==="reference")return t===e;const s=ji.arr(t);if(s&&n==="reference")return t===e;if((s||a)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(o in r?e:t)if(!ji.equ(t[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:t)if(t[o]!==e[o])return!1;if(ji.und(o)){if(s&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function yAe(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const Kq=["children","key","ref"];function xAe(t){const e={};for(const n in t)Kq.includes(n)||(e[n]=t[n]);return e}function IE(t,e,n,i){const r=t;let a=r?.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:xAe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function qx(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:n,key:a,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const Wj=/-\d+$/;function zE(t,e){if(ji.str(e.props.attach)){if(Wj.test(e.props.attach)){const r=e.props.attach.replace(Wj,""),{root:a,key:s}=qx(t.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:n,key:i}=qx(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else ji.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function BE(t,e){if(ji.str(e.props.attach)){const{root:n,key:i}=qx(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const fO=[...Kq,"args","dispose","attach","object","onUpdate","dispose"],Yj=new Map;function bAe(t){let e=Yj.get(t.constructor);try{e||(e=new t.constructor,Yj.set(t.constructor,e))}catch{}return e}function _Ae(t,e){const n={};for(const i in e)if(!fO.includes(i)&&!ji.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(fO.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=qx(t.object,i);if(r.constructor&&r.constructor.length===0){const s=bAe(r);ji.und(s)||(n[a]=s[a])}else n[a]=0}return n}const SAe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],MAe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Cd(t,e){var n;const i=t.__r3f,r=i&&qq(i).getState(),a=i?.eventCount;for(const o in e){let c=e[o];if(fO.includes(o))continue;if(i&&MAe.test(o)){typeof c=="function"?i.handlers[o]=c:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(c===void 0)continue;let{root:f,key:d,target:m}=qx(t,o);if(m===void 0&&(typeof f!="object"||f===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${d}".`);if(m instanceof dg&&c instanceof dg)m.mask=c.mask;else if(m instanceof Mt&&pAe(c))m.set(c);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof m.copy=="function"&&c!=null&&c.constructor&&m.constructor===c.constructor)m.copy(c);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&Array.isArray(c))typeof m.fromArray=="function"?m.fromArray(c):m.set(...c);else if(m!==null&&typeof m=="object"&&typeof m.set=="function"&&typeof c=="number")typeof m.setScalar=="function"?m.setScalar(c):m.set(c);else{var s;f[d]=c,r&&!r.linear&&SAe.includes(d)&&(s=f[d])!=null&&s.isTexture&&f[d].format===Ia&&f[d].type===il&&(f[d].colorSpace=Na)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const o=i.object,c=r.internal.interaction.indexOf(o);c>-1&&r.internal.interaction.splice(c,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Bg(i),t}function Bg(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function EAe(t,e){t.manual||(Xq(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Us=t=>t?.isObject3D;function _S(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function $q(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function wAe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{$q(n.capturedMap,e,i,r)})}function AAe(t){function e(c){const{internal:f}=t.getState(),d=c.offsetX-f.initialClick[0],m=c.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+m*m))}function n(c){return c.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var m;return(m=f.__r3f)==null?void 0:m.handlers["onPointer"+d]}))}function i(c,f){const d=t.getState(),m=new Set,v=[],y=f?f(d.internal.interaction):d.internal.interaction;for(let M=0;M<y.length;M++){const C=O0(y[M]);C&&(C.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function _(M){const C=O0(M);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(c,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(M,!0):[]}let E=y.flatMap(_).sort((M,C)=>{const T=O0(M.object),L=O0(C.object);return!T||!L?M.distance-C.distance:L.events.priority-T.events.priority||M.distance-C.distance}).filter(M=>{const C=_S(M);return m.has(C)?!1:(m.add(C),!0)});d.events.filter&&(E=d.events.filter(E,d));for(const M of E){let C=M.object;for(;C;){var S;(S=C.__r3f)!=null&&S.eventCount&&v.push({...M,eventObject:C}),C=C.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let M of d.internal.capturedMap.get(c.pointerId).values())m.has(_S(M.intersection))||v.push(M.intersection);return v}function r(c,f,d,m){if(c.length){const v={stopped:!1};for(const y of c){let _=O0(y.object);if(_||y.object.traverseAncestors(E=>{const S=O0(E);if(S)return _=S,!1}),_){const{raycaster:E,pointer:S,camera:M,internal:C}=_,T=new te(S.x,S.y,0).unproject(M),L=I=>{var j,k;return(j=(k=C.capturedMap.get(I))==null?void 0:k.has(y.eventObject))!=null?j:!1},P=I=>{const j={intersection:y,target:f.target};C.capturedMap.has(I)?C.capturedMap.get(I).set(y.eventObject,j):C.capturedMap.set(I,new Map([[y.eventObject,j]])),f.target.setPointerCapture(I)},N=I=>{const j=C.capturedMap.get(I);j&&$q(C.capturedMap,y.eventObject,j,I)};let z={};for(let I in f){let j=f[I];typeof j!="function"&&(z[I]=j)}let F={...y,...z,pointer:S,intersections:c,stopped:v.stopped,delta:d,unprojectedPoint:T,ray:E.ray,camera:M,stopPropagation(){const I="pointerId"in f&&C.capturedMap.get(f.pointerId);if((!I||I.has(y.eventObject))&&(F.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(j=>j.eventObject===y.eventObject))){const j=c.slice(0,c.indexOf(y));a([...j,y])}},target:{hasPointerCapture:L,setPointerCapture:P,releasePointerCapture:N},currentTarget:{hasPointerCapture:L,setPointerCapture:P,releasePointerCapture:N},nativeEvent:f};if(m(F),v.stopped===!0)break}}}return c}function a(c){const{internal:f}=t.getState();for(const d of f.hovered.values())if(!c.length||!c.find(m=>m.object===d.object&&m.index===d.index&&m.instanceId===d.instanceId)){const v=d.eventObject.__r3f;if(f.hovered.delete(_S(d)),v!=null&&v.eventCount){const y=v.handlers,_={...d,intersections:c};y.onPointerOut==null||y.onPointerOut(_),y.onPointerLeave==null||y.onPointerLeave(_)}}}function s(c,f){for(let d=0;d<f.length;d++){const m=f[d].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:d}=t.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),a([]))})}}return function(d){const{onPointerMissed:m,internal:v}=t.getState();v.lastEvent.current=d;const y=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",S=i(d,y?n:void 0),M=_?e(d):0;c==="onPointerDown"&&(v.initialClick=[d.offsetX,d.offsetY],v.initialHits=S.map(T=>T.eventObject)),_&&!S.length&&M<=2&&(s(d,v.interaction),m&&m(d)),y&&a(S);function C(T){const L=T.eventObject,P=L.__r3f;if(!(P!=null&&P.eventCount))return;const N=P.handlers;if(y){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const z=_S(T),F=v.hovered.get(z);F?F.stopped&&T.stopPropagation():(v.hovered.set(z,T),N.onPointerOver==null||N.onPointerOver(T),N.onPointerEnter==null||N.onPointerEnter(T))}N.onPointerMove==null||N.onPointerMove(T)}else{const z=N[c];z?(!_||v.initialHits.includes(L))&&(s(d,v.interaction.filter(F=>!v.initialHits.includes(F))),z(T)):_&&v.initialHits.includes(L)&&s(d,v.interaction.filter(F=>!v.initialHits.includes(F)))}}r(S,d,M,C)}}return{handlePointer:o}}const Kj=t=>!!(t!=null&&t.render),Zq=U.createContext(null),TAe=(t,e)=>{const n=eAe((o,c)=>{const f=new te,d=new te,m=new te;function v(M=c().camera,C=d,T=c().size){const{width:L,height:P,top:N,left:z}=T,F=L/P;C.isVector3?m.copy(C):m.set(...C);const I=M.getWorldPosition(f).distanceTo(m);if(Xq(M))return{width:L/M.zoom,height:P/M.zoom,top:N,left:z,factor:1,distance:I,aspect:F};{const j=M.fov*Math.PI/180,k=2*Math.tan(j/2)*I,Z=k*(L/P);return{width:Z,height:k,top:N,left:z,factor:L/Z,distance:I,aspect:F}}}let y;const _=M=>o(C=>({performance:{...C.performance,current:M}})),E=new He;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>t(c(),M),advance:(M,C)=>e(M,C,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vP,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=c();y&&clearTimeout(y),M.performance.current!==M.performance.min&&_(M.performance.min),y=setTimeout(()=>_(c().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:M=>o(C=>({...C,events:{...C.events,...M}})),setSize:(M,C,T=0,L=0)=>{const P=c().camera,N={width:M,height:C,top:T,left:L};o(z=>({size:N,viewport:{...z.viewport,...v(P,d,N)}}))},setDpr:M=>o(C=>{const T=Yq(M);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(M="always")=>{const C=c().clock;C.stop(),C.elapsedTime=0,M!=="never"&&(C.start(),C.elapsedTime=0),o(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:U.createRef(),active:!1,frames:0,priority:0,subscribe:(M,C,T)=>{const L=c().internal;return L.priority=L.priority+(C>0?1:0),L.subscribers.push({ref:M,priority:C,store:T}),L.subscribers=L.subscribers.sort((P,N)=>P.priority-N.priority),()=>{const P=c().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(C>0?1:0),P.subscribers=P.subscribers.filter(N=>N.ref!==M))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return n.subscribe(()=>{const{camera:o,size:c,viewport:f,gl:d,set:m}=n.getState();if(c.width!==r.width||c.height!==r.height||f.dpr!==a){r=c,a=f.dpr,EAe(o,c),f.dpr>0&&d.setPixelRatio(f.dpr);const v=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,v)}o!==s&&(s=o,m(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function Qq(){const t=U.useContext(Zq);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Lc(t=n=>n,e){return Qq()(t,e)}function mA(t,e=0){const n=Qq(),i=n.getState().internal.subscribe,r=Wq(t);return Db(()=>i(r,e,n),[e,i,n]),null}function CAe(t){const e=sAe(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version}),e}const Jq=0,gg={},RAe=/^three(?=[A-Z])/,gA=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let OAe=0;const DAe=t=>typeof t=="function";function NAe(t){if(DAe(t)){const e=`${OAe++}`;return gg[e]=t,e}else Object.assign(gg,t)}function eX(t,e){const n=gA(t),i=gg[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function PAe(t,e,n){var i;return t=gA(t)in gg?t:t.replace(RAe,""),eX(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,IE(e.object,n,t,e)}function LAe(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?BE(t.parent,t):Us(t.object)&&(t.object.visible=!1),t.isHidden=!0,Bg(t)}}function tX(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?zE(t.parent,t):Us(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,Bg(t)}}function EP(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const s=gg[gA(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Cd(e.object,e.props),e.props.attach)zE(t,e);else if(Us(e.object)&&Us(t.object)){const s=t.object.children.indexOf(n?.object);if(n&&s!==-1){const o=t.object.children.indexOf(e.object);if(o!==-1){t.object.children.splice(o,1);const c=o<s?s-1:s;t.object.children.splice(c,0,e.object)}else e.object.parent=t.object,t.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const s of e.children)EP(e,s);Bg(e)}}function cC(t,e){e&&(e.parent=t,t.children.push(e),EP(t,e))}function $j(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),EP(t,e,n)}function nX(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():Xj.unstable_scheduleCallback(Xj.unstable_IdlePriority,e)}}function dO(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?BE(t,e):Us(e.object)&&Us(t.object)&&(t.object.remove(e.object),wAe(qq(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];dO(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&nX(e.object),n===void 0&&Bg(e)}function UAe(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const XS=[];function IAe(){for(const[n]of XS){const i=n.parent;if(i){n.props.attach?BE(i,n):Us(n.object)&&Us(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?BE(n,r):Us(r.object)&&Us(n.object)&&n.object.remove(r.object)}n.isHidden&&tX(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&nX(n.object)}for(const[n,i,r]of XS){n.props=i;const a=n.parent;if(a){var t,e;const s=gg[gA(n.type)];n.object=(t=n.props.object)!=null?t:new s(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,UAe(r,n.object),Cd(n.object,n.props),n.props.attach?zE(a,n):Us(n.object)&&Us(a.object)&&a.object.add(n.object);for(const o of n.children)o.props.attach?zE(n,o):Us(o.object)&&Us(n.object)&&n.object.add(o.object);Bg(n)}}XS.length=0}const uC=()=>{},Zj={};let SS=Jq;const zAe=0,BAe=4,hO=CAe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:PAe,removeChild:dO,appendChild:cC,appendInitialChild:cC,insertBefore:$j,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||cC(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||dO(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||$j(i,e,n)},getRootHostContext:()=>Zj,getChildHostContext:()=>Zj,commitUpdate(t,e,n,i,r){var a,s,o;eX(e,i);let c=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=n.args)==null?void 0:s.length)||(o=i.args)!=null&&o.some((d,m)=>{var v;return d!==((v=n.args)==null?void 0:v[m])}))&&(c=!0),c)XS.push([t,{...i},r]);else{const d=_Ae(t,i);Object.keys(d).length&&(Object.assign(t.props,d),Cd(t.object,d))}(r.sibling===null||(r.flags&BAe)===zAe)&&IAe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>IE(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:LAe,unhideInstance:tX,createTextInstance:uC,hideTextInstance:uC,unhideTextInstance:uC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:U.createContext(null),setCurrentUpdatePriority(t){SS=t},getCurrentUpdatePriority(){return SS},resolveUpdatePriority(){var t;if(SS!==Jq)return SS;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return VS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return VS.ContinuousEventPriority;default:return VS.DefaultEventPriority}},resetFormInstance(){}}),Xp=new Map,D0={objects:"shallow",strict:!1};function jAe(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function FAe(t){const e=Xp.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||TAe(gO,Jj),s=n||hO.createContainer(a,VS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||Xp.set(t,{fiber:s,store:a});let o,c,f=!1,d=null;return{async configure(m={}){let v;d=new Promise(se=>v=se);let{gl:y,size:_,scene:E,events:S,onCreated:M,shadows:C=!1,linear:T=!1,flat:L=!1,legacy:P=!1,orthographic:N=!1,frameloop:z="always",dpr:F=[1,2],performance:I,raycaster:j,camera:k,onPointerMissed:Z}=m,ee=a.getState(),re=ee.gl;if(!ee.gl){const se={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},ge=typeof y=="function"?await y(se):y;Kj(ge)?re=ge:re=new kq({...se,...y}),ee.set({gl:re})}let ae=ee.raycaster;ae||ee.set({raycaster:ae=new Pq});const{params:H,...X}=j||{};if(ji.equ(X,ae,D0)||Cd(ae,{...X}),ji.equ(H,ae.params,D0)||Cd(ae,{params:{...ae.params,...H}}),!ee.camera||ee.camera===c&&!ji.equ(c,k,D0)){c=k;const se=k?.isCamera,ge=se?k:N?new Xc(0,0,0,0,.1,1e3):new Fi(75,0,.1,1e3);se||(ge.position.z=5,k&&(Cd(ge,k),ge.manual||("aspect"in k||"left"in k||"right"in k||"bottom"in k||"top"in k)&&(ge.manual=!0,ge.updateProjectionMatrix())),!ee.camera&&!(k!=null&&k.rotation)&&ge.lookAt(0,0,0)),ee.set({camera:ge}),ae.camera=ge}if(!ee.scene){let se;E!=null&&E.isScene?(se=E,IE(se,a,"",{})):(se=new ZN,IE(se,a,"",{}),E&&Cd(se,E)),ee.set({scene:se})}S&&!ee.events.handlers&&ee.set({events:S(a)});const K=jAe(t,_);if(ji.equ(K,ee.size,D0)||ee.setSize(K.width,K.height,K.top,K.left),F&&ee.viewport.dpr!==Yq(F)&&ee.setDpr(F),ee.frameloop!==z&&ee.setFrameloop(z),ee.onPointerMissed||ee.set({onPointerMissed:Z}),I&&!ji.equ(I,ee.performance,D0)&&ee.set(se=>({performance:{...se.performance,...I}})),!ee.xr){var ne;const se=(Ae,Qe)=>{const pe=a.getState();pe.frameloop!=="never"&&Jj(Ae,!0,pe,Qe)},ge=()=>{const Ae=a.getState();Ae.gl.xr.enabled=Ae.gl.xr.isPresenting,Ae.gl.xr.setAnimationLoop(Ae.gl.xr.isPresenting?se:null),Ae.gl.xr.isPresenting||gO(Ae)},_e={connect(){const Ae=a.getState().gl;Ae.xr.addEventListener("sessionstart",ge),Ae.xr.addEventListener("sessionend",ge)},disconnect(){const Ae=a.getState().gl;Ae.xr.removeEventListener("sessionstart",ge),Ae.xr.removeEventListener("sessionend",ge)}};typeof((ne=re.xr)==null?void 0:ne.addEventListener)=="function"&&_e.connect(),ee.set({xr:_e})}if(re.shadowMap){const se=re.shadowMap.enabled,ge=re.shadowMap.type;if(re.shadowMap.enabled=!!C,ji.boo(C))re.shadowMap.type=Yy;else if(ji.str(C)){var q;const _e={basic:H7,percentage:Lw,soft:Yy,variance:kl};re.shadowMap.type=(q=_e[C])!=null?q:Yy}else ji.obj(C)&&Object.assign(re.shadowMap,C);(se!==re.shadowMap.enabled||ge!==re.shadowMap.type)&&(re.shadowMap.needsUpdate=!0)}return Nn.enabled=!P,f||(re.outputColorSpace=T?Bd:Na,re.toneMapping=L?qc:zN),ee.legacy!==P&&ee.set(()=>({legacy:P})),ee.linear!==T&&ee.set(()=>({linear:T})),ee.flat!==L&&ee.set(()=>({flat:L})),y&&!ji.fun(y)&&!Kj(y)&&!ji.equ(y,re,D0)&&Cd(re,y),o=M,f=!0,v(),this},render(m){return!f&&!d&&this.configure(),d.then(()=>{hO.updateContainer(R.jsx(kAe,{store:a,children:m,onCreated:o,rootElement:t}),s,null,()=>{})}),a},unmount(){iX(t)}}}function kAe({store:t,children:e,onCreated:n,rootElement:i}){return Db(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),R.jsx(Zq.Provider,{value:t,children:e})}function iX(t,e){const n=Xp.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),hO.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,o,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),yAe(r.scene),Xp.delete(t)}catch{}},500)})}}const VAe=new Set,HAe=new Set,GAe=new Set;function fC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function ix(t,e){switch(t){case"before":return fC(VAe,e);case"after":return fC(HAe,e);case"tail":return fC(GAe,e)}}let dC,hC;function pO(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),dC=e.internal.subscribers;for(let r=0;r<dC.length;r++)hC=dC[r],hC.ref.current(hC.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let jE=!1,mO=!1,pC,Qj,N0;function rX(t){Qj=requestAnimationFrame(rX),jE=!0,pC=0,ix("before",t),mO=!0;for(const n of Xp.values()){var e;N0=n.store.getState(),N0.internal.active&&(N0.frameloop==="always"||N0.internal.frames>0)&&!((e=N0.gl.xr)!=null&&e.isPresenting)&&(pC+=pO(t,N0))}if(mO=!1,ix("after",t),pC===0)return ix("tail",t),jE=!1,cancelAnimationFrame(Qj)}function gO(t,e=1){var n;if(!t)return Xp.forEach(i=>gO(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):mO?t.internal.frames=2:t.internal.frames=1,jE||(jE=!0,requestAnimationFrame(rX)))}function Jj(t,e=!0,n,i){if(e&&ix("before",t),n)pO(t,n,i);else for(const r of Xp.values())pO(t,r.store.getState());e&&ix("after",t)}const mC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qAe(t){const{handlePointer:e}=AAe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(mC).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,c]=mC[a];n.addEventListener(o,s,{passive:c})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=mC[r];i.connected.removeEventListener(s,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function e6(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function XAe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,f=t?typeof t=="number"?t:t.resize:null,d=U.useRef(!1);U.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[m,v,y]=U.useMemo(()=>{const M=()=>{if(!o.current.element)return;const{left:C,top:T,width:L,height:P,bottom:N,right:z,x:F,y:I}=o.current.element.getBoundingClientRect(),j={left:C,top:T,width:L,height:P,bottom:N,right:z,x:F,y:I};o.current.element instanceof HTMLElement&&i&&(j.height=o.current.element.offsetHeight,j.width=o.current.element.offsetWidth),Object.freeze(j),d.current&&!$Ae(o.current.lastBounds,j)&&s(o.current.lastBounds=j)};return[M,f?e6(M,f):M,c?e6(M,c):M]},[s,i,c,f]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",y,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function E(){o.current.element&&(o.current.resizeObserver=new r(y),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(M=>M.addEventListener("scroll",y,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const S=M=>{!M||M===o.current.element||(_(),o.current.element=M,o.current.scrollContainers=aX(M),E())};return YAe(y,!!e),WAe(v),U.useEffect(()=>{_(),E()},[e,y,v]),U.useEffect(()=>_,[]),[S,a,m]}function WAe(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function YAe(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function aX(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...aX(t.parentElement)]}const KAe=["x","y","top","bottom","left","right","width","height"],$Ae=(t,e)=>KAe.every(n=>t[n]===e[n]);function ZAe({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:s=qAe,eventSource:o,eventPrefix:c,shadows:f,linear:d,flat:m,legacy:v,orthographic:y,frameloop:_,dpr:E,performance:S,raycaster:M,camera:C,scene:T,onPointerMissed:L,onCreated:P,...N}){U.useMemo(()=>NAe(Kwe),[]);const z=mAe(),[F,I]=XAe({scroll:!0,debounce:{scroll:50,resize:0},...i}),j=U.useRef(null),k=U.useRef(null);U.useImperativeHandle(t,()=>j.current);const Z=Wq(L),[ee,re]=U.useState(!1),[ae,H]=U.useState(!1);if(ee)throw ee;if(ae)throw ae;const X=U.useRef(null);Db(()=>{const ne=j.current;if(I.width>0&&I.height>0&&ne){X.current||(X.current=FAe(ne));async function q(){await X.current.configure({gl:a,scene:T,events:s,shadows:f,linear:d,flat:m,legacy:v,orthographic:y,frameloop:_,dpr:E,performance:S,raycaster:M,camera:C,size:I,onPointerMissed:(...se)=>Z.current==null?void 0:Z.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(o?hAe(o)?o.current:o:k.current),c&&se.setEvents({compute:(ge,_e)=>{const Ae=ge[c+"X"],Qe=ge[c+"Y"];_e.pointer.set(Ae/_e.size.width*2-1,-(Qe/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),P?.(se)}}),X.current.render(R.jsx(z,{children:R.jsx(vAe,{set:H,children:R.jsx(U.Suspense,{fallback:R.jsx(gAe,{set:re}),children:e??null})})}))}q()}}),U.useEffect(()=>{const ne=j.current;if(ne)return()=>iX(ne)},[]);const K=o?"none":"auto";return R.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...r},...N,children:R.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:R.jsx("canvas",{ref:j,style:{display:"block"},children:n})})})}function QAe(t){return R.jsx(Hq,{children:R.jsx(ZAe,{...t})})}function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},FE.apply(null,arguments)}const Nb=new te,wP=new te,JAe=new te,t6=new He;function eTe(t,e,n){const i=Nb.setFromMatrixPosition(t.matrixWorld);i.project(e);const r=n.width/2,a=n.height/2;return[i.x*r+r,-(i.y*a)+a]}function tTe(t,e){const n=Nb.setFromMatrixPosition(t.matrixWorld),i=wP.setFromMatrixPosition(e.matrixWorld),r=n.sub(i),a=e.getWorldDirection(JAe);return r.angleTo(a)>Math.PI/2}function nTe(t,e,n,i){const r=Nb.setFromMatrixPosition(t.matrixWorld),a=r.clone();a.project(e),t6.set(a.x,a.y),n.setFromCamera(t6,e);const s=n.intersectObjects(i,!0);if(s.length){const o=s[0].distance;return r.distanceTo(n.ray.origin)<o}return!0}function iTe(t,e){if(e instanceof Xc)return e.zoom;if(e instanceof Fi){const n=Nb.setFromMatrixPosition(t.matrixWorld),i=wP.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,a=n.distanceTo(i);return 1/(2*Math.tan(r/2)*a)}else return 1}function rTe(t,e,n){if(e instanceof Fi||e instanceof Xc){const i=Nb.setFromMatrixPosition(t.matrixWorld),r=wP.setFromMatrixPosition(e.matrixWorld),a=i.distanceTo(r),s=(n[1]-n[0])/(e.far-e.near),o=n[1]-s*e.far;return Math.round(s*a+o)}}const vO=t=>Math.abs(t)<1e-10?0:t;function sX(t,e,n=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=vO(e[r]*t.elements[r])+(r!==15?",":")");return n+i}const aTe=(t=>e=>sX(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),sTe=(t=>(e,n)=>sX(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function oTe(t){return t&&typeof t=="object"&&"current"in t}const oX=U.forwardRef(({children:t,eps:e=.001,style:n,className:i,prepend:r,center:a,fullscreen:s,portal:o,distanceFactor:c,sprite:f=!1,transform:d=!1,occlude:m,onOcclude:v,castShadow:y,receiveShadow:_,material:E,geometry:S,zIndexRange:M=[16777271,0],calculatePosition:C=eTe,as:T="div",wrapperClass:L,pointerEvents:P="auto",...N},z)=>{const{gl:F,camera:I,scene:j,size:k,raycaster:Z,events:ee,viewport:re}=Lc(),[ae]=U.useState(()=>document.createElement(T)),H=U.useRef(null),X=U.useRef(null),K=U.useRef(0),ne=U.useRef([0,0]),q=U.useRef(null),se=U.useRef(null),ge=o?.current||ee.connected||F.domElement.parentNode,_e=U.useRef(null),Ae=U.useRef(!1),Qe=U.useMemo(()=>m&&m!=="blending"||Array.isArray(m)&&m.length&&oTe(m[0]),[m]);U.useLayoutEffect(()=>{const Ge=F.domElement;m&&m==="blending"?(Ge.style.zIndex=`${Math.floor(M[0]/2)}`,Ge.style.position="absolute",Ge.style.pointerEvents="none"):(Ge.style.zIndex=null,Ge.style.position=null,Ge.style.pointerEvents=null)},[m]),U.useLayoutEffect(()=>{if(X.current){const Ge=H.current=c6.createRoot(ae);if(j.updateMatrixWorld(),d)ae.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const $e=C(X.current,I,k);ae.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${$e[0]}px,${$e[1]}px,0);transform-origin:0 0;`}return ge&&(r?ge.prepend(ae):ge.appendChild(ae)),()=>{ge&&ge.removeChild(ae),Ge.unmount()}}},[ge,d]),U.useLayoutEffect(()=>{L&&(ae.className=L)},[L]);const pe=U.useMemo(()=>d?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...s&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...n},[n,a,s,k,d]),Le=U.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);U.useLayoutEffect(()=>{if(Ae.current=!1,d){var Ge;(Ge=H.current)==null||Ge.render(U.createElement("div",{ref:q,style:pe},U.createElement("div",{ref:se,style:Le},U.createElement("div",{ref:z,className:i,style:n,children:t}))))}else{var $e;($e=H.current)==null||$e.render(U.createElement("div",{ref:z,style:pe,className:i,children:t}))}});const Ye=U.useRef(!0);mA(Ge=>{if(X.current){I.updateMatrixWorld(),X.current.updateWorldMatrix(!0,!1);const $e=d?ne.current:C(X.current,I,k);if(d||Math.abs(K.current-I.zoom)>e||Math.abs(ne.current[0]-$e[0])>e||Math.abs(ne.current[1]-$e[1])>e){const Ue=tTe(X.current,I);let ut=!1;Qe&&(Array.isArray(m)?ut=m.map(je=>je.current):m!=="blending"&&(ut=[j]));const De=Ye.current;if(ut){const je=nTe(X.current,I,Z,ut);Ye.current=je&&!Ue}else Ye.current=!Ue;De!==Ye.current&&(v?v(!Ye.current):ae.style.display=Ye.current?"block":"none");const Q=Math.floor(M[0]/2),Fe=m?Qe?[M[0],Q]:[Q-1,0]:M;if(ae.style.zIndex=`${rTe(X.current,I,Fe)}`,d){const[je,at]=[k.width/2,k.height/2],Ze=I.projectionMatrix.elements[5]*at,{isOrthographicCamera:dt,top:ot,left:vt,bottom:J,right:G}=I,ye=aTe(I.matrixWorldInverse),Ie=dt?`scale(${Ze})translate(${vO(-(G+vt)/2)}px,${vO((ot+J)/2)}px)`:`translateZ(${Ze}px)`;let ze=X.current.matrixWorld;f&&(ze=I.matrixWorldInverse.clone().transpose().copyPosition(ze).scale(X.current.scale),ze.elements[3]=ze.elements[7]=ze.elements[11]=0,ze.elements[15]=1),ae.style.width=k.width+"px",ae.style.height=k.height+"px",ae.style.perspective=dt?"":`${Ze}px`,q.current&&se.current&&(q.current.style.transform=`${Ie}${ye}translate(${je}px,${at}px)`,se.current.style.transform=sTe(ze,1/((c||10)/400)))}else{const je=c===void 0?1:iTe(X.current,I)*c;ae.style.transform=`translate3d(${$e[0]}px,${$e[1]}px,0) scale(${je})`}ne.current=$e,K.current=I.zoom}}if(!Qe&&_e.current&&!Ae.current)if(d){if(q.current){const $e=q.current.children[0];if($e!=null&&$e.clientWidth&&$e!=null&&$e.clientHeight){const{isOrthographicCamera:Ue}=I;if(Ue||S)N.scale&&(Array.isArray(N.scale)?N.scale instanceof te?_e.current.scale.copy(N.scale.clone().divideScalar(1)):_e.current.scale.set(1/N.scale[0],1/N.scale[1],1/N.scale[2]):_e.current.scale.setScalar(1/N.scale));else{const ut=(c||10)/400,De=$e.clientWidth*ut,Q=$e.clientHeight*ut;_e.current.scale.set(De,Q,1)}Ae.current=!0}}}else{const $e=ae.children[0];if($e!=null&&$e.clientWidth&&$e!=null&&$e.clientHeight){const Ue=1/re.factor,ut=$e.clientWidth*Ue,De=$e.clientHeight*Ue;_e.current.scale.set(ut,De,1),Ae.current=!0}_e.current.lookAt(Ge.camera.position)}});const xe=U.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return U.createElement("group",FE({},N,{ref:X}),m&&!Qe&&U.createElement("mesh",{castShadow:y,receiveShadow:_,ref:_e},S||U.createElement("planeGeometry",null),E||U.createElement("shaderMaterial",{side:ql,vertexShader:xe.vertexShader,fragmentShader:xe.fragmentShader})))});var lTe=Object.defineProperty,cTe=(t,e,n)=>e in t?lTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uTe=(t,e,n)=>(cTe(t,e+"",n),n);class fTe{constructor(){uTe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}var dTe=Object.defineProperty,hTe=(t,e,n)=>e in t?dTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gt=(t,e,n)=>(hTe(t,typeof e!="symbol"?e+"":e,n),n);const MS=new Zp,n6=new zu,pTe=Math.cos(70*(Math.PI/180)),i6=(t,e)=>(t%e+e)%e;let mTe=class extends fTe{constructor(e,n){super(),Gt(this,"object"),Gt(this,"domElement"),Gt(this,"enabled",!0),Gt(this,"target",new te),Gt(this,"minDistance",0),Gt(this,"maxDistance",1/0),Gt(this,"minZoom",0),Gt(this,"maxZoom",1/0),Gt(this,"minPolarAngle",0),Gt(this,"maxPolarAngle",Math.PI),Gt(this,"minAzimuthAngle",-1/0),Gt(this,"maxAzimuthAngle",1/0),Gt(this,"enableDamping",!1),Gt(this,"dampingFactor",.05),Gt(this,"enableZoom",!0),Gt(this,"zoomSpeed",1),Gt(this,"enableRotate",!0),Gt(this,"rotateSpeed",1),Gt(this,"enablePan",!0),Gt(this,"panSpeed",1),Gt(this,"screenSpacePanning",!0),Gt(this,"keyPanSpeed",7),Gt(this,"zoomToCursor",!1),Gt(this,"autoRotate",!1),Gt(this,"autoRotateSpeed",2),Gt(this,"reverseOrbit",!1),Gt(this,"reverseHorizontalOrbit",!1),Gt(this,"reverseVerticalOrbit",!1),Gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Gt(this,"mouseButtons",{LEFT:up.ROTATE,MIDDLE:up.DOLLY,RIGHT:up.PAN}),Gt(this,"touches",{ONE:fp.ROTATE,TWO:fp.DOLLY_PAN}),Gt(this,"target0"),Gt(this,"position0"),Gt(this,"zoom0"),Gt(this,"_domElementKeyEvents",null),Gt(this,"getPolarAngle"),Gt(this,"getAzimuthalAngle"),Gt(this,"setPolarAngle"),Gt(this,"setAzimuthalAngle"),Gt(this,"getDistance"),Gt(this,"getZoomScale"),Gt(this,"listenToKeyEvents"),Gt(this,"stopListenToKeyEvents"),Gt(this,"saveState"),Gt(this,"reset"),Gt(this,"update"),Gt(this,"connect"),Gt(this,"dispose"),Gt(this,"dollyIn"),Gt(this,"dollyOut"),Gt(this,"getScale"),Gt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ce=>{let Me=i6(ce,2*Math.PI),Je=d.phi;Je<0&&(Je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let ie=Math.abs(Me-Je);2*Math.PI-ie<ie&&(Me<Je?Me+=2*Math.PI:Je+=2*Math.PI),m.phi=Me-Je,i.update()},this.setAzimuthalAngle=ce=>{let Me=i6(ce,2*Math.PI),Je=d.theta;Je<0&&(Je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let ie=Math.abs(Me-Je);2*Math.PI-ie<ie&&(Me<Je?Me+=2*Math.PI:Je+=2*Math.PI),m.theta=Me-Je,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ce=>{ce.addEventListener("keydown",Oe),this._domElementKeyEvents=ce},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),c=o.NONE},this.update=(()=>{const ce=new te,Me=new te(0,1,0),Je=new za().setFromUnitVectors(e.up,Me),ie=Je.clone().invert(),et=new te,it=new za,rt=2*Math.PI;return function(){const qe=i.object.position;Je.setFromUnitVectors(e.up,Me),ie.copy(Je).invert(),ce.copy(qe).sub(i.target),ce.applyQuaternion(Je),d.setFromVector3(ce),i.autoRotate&&c===o.NONE&&re(Z()),i.enableDamping?(d.theta+=m.theta*i.dampingFactor,d.phi+=m.phi*i.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let gt=i.minAzimuthAngle,Ot=i.maxAzimuthAngle;isFinite(gt)&&isFinite(Ot)&&(gt<-Math.PI?gt+=rt:gt>Math.PI&&(gt-=rt),Ot<-Math.PI?Ot+=rt:Ot>Math.PI&&(Ot-=rt),gt<=Ot?d.theta=Math.max(gt,Math.min(Ot,d.theta)):d.theta=d.theta>(gt+Ot)/2?Math.max(gt,d.theta):Math.min(Ot,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&I||i.object.isOrthographicCamera?d.radius=_e(d.radius):d.radius=_e(d.radius*v),ce.setFromSpherical(d),ce.applyQuaternion(ie),qe.copy(i.target).add(ce),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(m.theta*=1-i.dampingFactor,m.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(m.set(0,0,0),y.set(0,0,0));let mn=!1;if(i.zoomToCursor&&I){let fn=null;if(i.object instanceof Fi&&i.object.isPerspectiveCamera){const tr=ce.length();fn=_e(tr*v);const ti=tr-fn;i.object.position.addScaledVector(z,ti),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const tr=new te(F.x,F.y,0);tr.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),mn=!0;const ti=new te(F.x,F.y,0);ti.unproject(i.object),i.object.position.sub(ti).add(tr),i.object.updateMatrixWorld(),fn=ce.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;fn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(fn).add(i.object.position):(MS.origin.copy(i.object.position),MS.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(MS.direction))<pTe?e.lookAt(i.target):(n6.setFromNormalAndCoplanarPoint(i.object.up,i.target),MS.intersectPlane(n6,i.target))))}else i.object instanceof Xc&&i.object.isOrthographicCamera&&(mn=v!==1,mn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,I=!1,mn||et.distanceToSquared(i.object.position)>f||8*(1-it.dot(i.object.quaternion))>f?(i.dispatchEvent(r),et.copy(i.object.position),it.copy(i.object.quaternion),mn=!1,!0):!1}})(),this.connect=ce=>{i.domElement=ce,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Dt),i.domElement.addEventListener("pointerdown",vt),i.domElement.addEventListener("pointercancel",G),i.domElement.addEventListener("wheel",ze)},this.dispose=()=>{var ce,Me,Je,ie,et,it;i.domElement&&(i.domElement.style.touchAction="auto"),(ce=i.domElement)==null||ce.removeEventListener("contextmenu",Dt),(Me=i.domElement)==null||Me.removeEventListener("pointerdown",vt),(Je=i.domElement)==null||Je.removeEventListener("pointercancel",G),(ie=i.domElement)==null||ie.removeEventListener("wheel",ze),(et=i.domElement)==null||et.ownerDocument.removeEventListener("pointermove",J),(it=i.domElement)==null||it.ownerDocument.removeEventListener("pointerup",G),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Oe)};const i=this,r={type:"change"},a={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=o.NONE;const f=1e-6,d=new oO,m=new oO;let v=1;const y=new te,_=new He,E=new He,S=new He,M=new He,C=new He,T=new He,L=new He,P=new He,N=new He,z=new te,F=new He;let I=!1;const j=[],k={};function Z(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ee(){return Math.pow(.95,i.zoomSpeed)}function re(ce){i.reverseOrbit||i.reverseHorizontalOrbit?m.theta+=ce:m.theta-=ce}function ae(ce){i.reverseOrbit||i.reverseVerticalOrbit?m.phi+=ce:m.phi-=ce}const H=(()=>{const ce=new te;return function(Je,ie){ce.setFromMatrixColumn(ie,0),ce.multiplyScalar(-Je),y.add(ce)}})(),X=(()=>{const ce=new te;return function(Je,ie){i.screenSpacePanning===!0?ce.setFromMatrixColumn(ie,1):(ce.setFromMatrixColumn(ie,0),ce.crossVectors(i.object.up,ce)),ce.multiplyScalar(Je),y.add(ce)}})(),K=(()=>{const ce=new te;return function(Je,ie){const et=i.domElement;if(et&&i.object instanceof Fi&&i.object.isPerspectiveCamera){const it=i.object.position;ce.copy(it).sub(i.target);let rt=ce.length();rt*=Math.tan(i.object.fov/2*Math.PI/180),H(2*Je*rt/et.clientHeight,i.object.matrix),X(2*ie*rt/et.clientHeight,i.object.matrix)}else et&&i.object instanceof Xc&&i.object.isOrthographicCamera?(H(Je*(i.object.right-i.object.left)/i.object.zoom/et.clientWidth,i.object.matrix),X(ie*(i.object.top-i.object.bottom)/i.object.zoom/et.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ne(ce){i.object instanceof Fi&&i.object.isPerspectiveCamera||i.object instanceof Xc&&i.object.isOrthographicCamera?v=ce:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function q(ce){ne(v/ce)}function se(ce){ne(v*ce)}function ge(ce){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Me=i.domElement.getBoundingClientRect(),Je=ce.clientX-Me.left,ie=ce.clientY-Me.top,et=Me.width,it=Me.height;F.x=Je/et*2-1,F.y=-(ie/it)*2+1,z.set(F.x,F.y,1).unproject(i.object).sub(i.object.position).normalize()}function _e(ce){return Math.max(i.minDistance,Math.min(i.maxDistance,ce))}function Ae(ce){_.set(ce.clientX,ce.clientY)}function Qe(ce){ge(ce),L.set(ce.clientX,ce.clientY)}function pe(ce){M.set(ce.clientX,ce.clientY)}function Le(ce){E.set(ce.clientX,ce.clientY),S.subVectors(E,_).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(re(2*Math.PI*S.x/Me.clientHeight),ae(2*Math.PI*S.y/Me.clientHeight)),_.copy(E),i.update()}function Ye(ce){P.set(ce.clientX,ce.clientY),N.subVectors(P,L),N.y>0?q(ee()):N.y<0&&se(ee()),L.copy(P),i.update()}function xe(ce){C.set(ce.clientX,ce.clientY),T.subVectors(C,M).multiplyScalar(i.panSpeed),K(T.x,T.y),M.copy(C),i.update()}function Ge(ce){ge(ce),ce.deltaY<0?se(ee()):ce.deltaY>0&&q(ee()),i.update()}function $e(ce){let Me=!1;switch(ce.code){case i.keys.UP:K(0,i.keyPanSpeed),Me=!0;break;case i.keys.BOTTOM:K(0,-i.keyPanSpeed),Me=!0;break;case i.keys.LEFT:K(i.keyPanSpeed,0),Me=!0;break;case i.keys.RIGHT:K(-i.keyPanSpeed,0),Me=!0;break}Me&&(ce.preventDefault(),i.update())}function Ue(){if(j.length==1)_.set(j[0].pageX,j[0].pageY);else{const ce=.5*(j[0].pageX+j[1].pageX),Me=.5*(j[0].pageY+j[1].pageY);_.set(ce,Me)}}function ut(){if(j.length==1)M.set(j[0].pageX,j[0].pageY);else{const ce=.5*(j[0].pageX+j[1].pageX),Me=.5*(j[0].pageY+j[1].pageY);M.set(ce,Me)}}function De(){const ce=j[0].pageX-j[1].pageX,Me=j[0].pageY-j[1].pageY,Je=Math.sqrt(ce*ce+Me*Me);L.set(0,Je)}function Q(){i.enableZoom&&De(),i.enablePan&&ut()}function Fe(){i.enableZoom&&De(),i.enableRotate&&Ue()}function je(ce){if(j.length==1)E.set(ce.pageX,ce.pageY);else{const Je=At(ce),ie=.5*(ce.pageX+Je.x),et=.5*(ce.pageY+Je.y);E.set(ie,et)}S.subVectors(E,_).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(re(2*Math.PI*S.x/Me.clientHeight),ae(2*Math.PI*S.y/Me.clientHeight)),_.copy(E)}function at(ce){if(j.length==1)C.set(ce.pageX,ce.pageY);else{const Me=At(ce),Je=.5*(ce.pageX+Me.x),ie=.5*(ce.pageY+Me.y);C.set(Je,ie)}T.subVectors(C,M).multiplyScalar(i.panSpeed),K(T.x,T.y),M.copy(C)}function Ze(ce){const Me=At(ce),Je=ce.pageX-Me.x,ie=ce.pageY-Me.y,et=Math.sqrt(Je*Je+ie*ie);P.set(0,et),N.set(0,Math.pow(P.y/L.y,i.zoomSpeed)),q(N.y),L.copy(P)}function dt(ce){i.enableZoom&&Ze(ce),i.enablePan&&at(ce)}function ot(ce){i.enableZoom&&Ze(ce),i.enableRotate&&je(ce)}function vt(ce){var Me,Je;i.enabled!==!1&&(j.length===0&&((Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointermove",J),(Je=i.domElement)==null||Je.ownerDocument.addEventListener("pointerup",G)),wt(ce),ce.pointerType==="touch"?mt(ce):ye(ce))}function J(ce){i.enabled!==!1&&(ce.pointerType==="touch"?ht(ce):Ie(ce))}function G(ce){var Me,Je,ie;We(ce),j.length===0&&((Me=i.domElement)==null||Me.releasePointerCapture(ce.pointerId),(Je=i.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",J),(ie=i.domElement)==null||ie.ownerDocument.removeEventListener("pointerup",G)),i.dispatchEvent(s),c=o.NONE}function ye(ce){let Me;switch(ce.button){case 0:Me=i.mouseButtons.LEFT;break;case 1:Me=i.mouseButtons.MIDDLE;break;case 2:Me=i.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case up.DOLLY:if(i.enableZoom===!1)return;Qe(ce),c=o.DOLLY;break;case up.ROTATE:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(i.enablePan===!1)return;pe(ce),c=o.PAN}else{if(i.enableRotate===!1)return;Ae(ce),c=o.ROTATE}break;case up.PAN:if(ce.ctrlKey||ce.metaKey||ce.shiftKey){if(i.enableRotate===!1)return;Ae(ce),c=o.ROTATE}else{if(i.enablePan===!1)return;pe(ce),c=o.PAN}break;default:c=o.NONE}c!==o.NONE&&i.dispatchEvent(a)}function Ie(ce){if(i.enabled!==!1)switch(c){case o.ROTATE:if(i.enableRotate===!1)return;Le(ce);break;case o.DOLLY:if(i.enableZoom===!1)return;Ye(ce);break;case o.PAN:if(i.enablePan===!1)return;xe(ce);break}}function ze(ce){i.enabled===!1||i.enableZoom===!1||c!==o.NONE&&c!==o.ROTATE||(ce.preventDefault(),i.dispatchEvent(a),Ge(ce),i.dispatchEvent(s))}function Oe(ce){i.enabled===!1||i.enablePan===!1||$e(ce)}function mt(ce){switch(nt(ce),j.length){case 1:switch(i.touches.ONE){case fp.ROTATE:if(i.enableRotate===!1)return;Ue(),c=o.TOUCH_ROTATE;break;case fp.PAN:if(i.enablePan===!1)return;ut(),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(i.touches.TWO){case fp.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Q(),c=o.TOUCH_DOLLY_PAN;break;case fp.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Fe(),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&i.dispatchEvent(a)}function ht(ce){switch(nt(ce),c){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;je(ce),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;at(ce),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;dt(ce),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ot(ce),i.update();break;default:c=o.NONE}}function Dt(ce){i.enabled!==!1&&ce.preventDefault()}function wt(ce){j.push(ce)}function We(ce){delete k[ce.pointerId];for(let Me=0;Me<j.length;Me++)if(j[Me].pointerId==ce.pointerId){j.splice(Me,1);return}}function nt(ce){let Me=k[ce.pointerId];Me===void 0&&(Me=new He,k[ce.pointerId]=Me),Me.set(ce.pageX,ce.pageY)}function At(ce){const Me=ce.pointerId===j[0].pointerId?j[1]:j[0];return k[Me.pointerId]}this.dollyIn=(ce=ee())=>{se(ce),i.update()},this.dollyOut=(ce=ee())=>{q(ce),i.update()},this.getScale=()=>v,this.setScale=ce=>{ne(ce),i.update()},this.getZoomScale=()=>ee(),n!==void 0&&this.connect(n),this.update()}};const gTe=U.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:s,onStart:o,onEnd:c,...f},d)=>{const m=Lc(N=>N.invalidate),v=Lc(N=>N.camera),y=Lc(N=>N.gl),_=Lc(N=>N.events),E=Lc(N=>N.setEvents),S=Lc(N=>N.set),M=Lc(N=>N.get),C=Lc(N=>N.performance),T=e||v,L=i||_.connected||y.domElement,P=U.useMemo(()=>new mTe(T),[T]);return mA(()=>{P.enabled&&P.update()},-1),U.useEffect(()=>(a&&P.connect(a===!0?L:a),P.connect(L),()=>void P.dispose()),[a,L,n,P,m]),U.useEffect(()=>{const N=I=>{m(),n&&C.regress(),s&&s(I)},z=I=>{o&&o(I)},F=I=>{c&&c(I)};return P.addEventListener("change",N),P.addEventListener("start",z),P.addEventListener("end",F),()=>{P.removeEventListener("start",z),P.removeEventListener("end",F),P.removeEventListener("change",N)}},[s,o,c,P,m,E]),U.useEffect(()=>{if(t){const N=M().controls;return S({controls:P}),()=>S({controls:N})}},[t,P]),U.createElement("primitive",FE({ref:d,object:P,enableDamping:r},f))});var gC={exports:{}},vC,r6;function vTe(){if(r6)return vC;r6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vC=t,vC}var yC,a6;function yTe(){if(a6)return yC;a6=1;var t=vTe();function e(){}function n(){}return n.resetWarningCache=e,yC=function(){function i(s,o,c,f,d,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function r(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},yC}var s6;function xTe(){return s6||(s6=1,gC.exports=yTe()()),gC.exports}var bTe=xTe();const ES=al(bTe);function yO(){return yO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yO.apply(this,arguments)}function _Te(t,e){if(t==null)return{};var n=STe(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function STe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var AP=U.forwardRef(function(t,e){var n=t.color,i=n===void 0?"currentColor":n,r=t.size,a=r===void 0?24:r,s=_Te(t,["color","size"]);return rx.createElement("svg",yO({ref:e,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),rx.createElement("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}))});AP.propTypes={color:ES.string,size:ES.oneOfType([ES.string,ES.number])};AP.displayName="Droplet";function MTe({targetPosition:t,active:e}){const{camera:n,controls:i}=Lc(),r=i;return mA((a,s)=>{if(e&&t&&r){const o=new te(...t),c=o.clone().add(new te(0,1.5,3));n.position.lerp(c,3*s),r.target.lerp(o,3*s),r.update()}}),null}function ETe({fila:t,posicion:e,onDelete:n,onFilaClick:i,material:r,estanteId:a,isSelected:s}){const o=U.useMemo(()=>new Mt("#ffeb3b"),[]);return R.jsxs("group",{position:e,onClick:c=>{c.stopPropagation(),i(t.id)},children:[R.jsxs("mesh",{children:[R.jsx("boxGeometry",{args:[1.6,.05,.4]}),R.jsx("primitive",{object:r,attach:"material"})]}),s&&R.jsxs("mesh",{position:[0,0,0],children:[R.jsx("boxGeometry",{args:[1.65,.08,.45]}),R.jsx("meshBasicMaterial",{color:"#3b82f6",transparent:!0,opacity:.3})]}),R.jsxs("mesh",{position:[0,.15,0],children:[R.jsx("boxGeometry",{args:[1.6,.02,.06]}),R.jsx("meshStandardMaterial",{color:t.luzEncendida?o.clone().multiplyScalar(.5):"#424242",emissive:t.luzEncendida?o:"#000000",emissiveIntensity:t.luzEncendida?.8:0})]}),R.jsx("pointLight",{position:[0,.2,0],intensity:t.luzEncendida?.5:0,color:"#ffeb3b",distance:2}),R.jsx(oX,{position:[.7,.1,.2],pointerEvents:"none",children:R.jsxs("div",{className:"flex items-center gap-1 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:[R.jsxs("span",{className:"font-bold",children:["Fila ",t.numero]}),R.jsx("button",{className:"ml-2 text-red-400 hover:text-red-600",onClick:c=>{c.stopPropagation(),n(a,t.id)},style:{pointerEvents:"auto"},children:R.jsx($x,{size:12})})]})})]})}function wTe({estante:t,onEstanteClick:e,isSelected:n,onDelete:i,onFilaClick:r,onDeleteFila:a,filaSeleccionadaId:s}){const o=U.useRef(null),c=new Fx({color:"#708090",metalness:.8,roughness:.4}),f=new Fx({color:"#C0C0C0",metalness:.6,roughness:.5});mA(T=>{o.current&&n?o.current.position.y=t.posicion[1]+Math.sin(T.clock.elapsedTime*1.5)*.03:o.current&&(o.current.position.y=t.posicion[1])});const d=()=>{switch(t.estado){case"activo":return"#10b981";case"mantenimiento":return"#f59e0b";case"inactivo":return"#ef4444";default:return"#6b7280"}},{ancho:m,alto:v,profundidad:y}=t.dimensiones,_=.5,E=4,S=T=>v/2-.1-T*_,M=T=>[0,S(T),0],C=T=>{const L=new te(...T);return L.applyEuler(new qs(...t.rotacion)),L.add(new te(...t.posicion)),[L.x,L.y,L.z]};return R.jsxs("group",{ref:o,position:t.posicion,rotation:t.rotacion,onClick:T=>{T.stopPropagation(),e(t)},children:[[[-m/2+.025,0,-y/2+.025],[m/2-.025,0,-y/2+.025],[-m/2+.025,0,y/2-.025],[m/2-.025,0,y/2-.025]].map(([T,L,P],N)=>R.jsxs("mesh",{position:[T,L,P],children:[R.jsx("boxGeometry",{args:[.05,v*2,.05]}),R.jsx("primitive",{object:c.clone(),attach:"material"})]},`pata-${N}`)),[...Array(E)].map((T,L)=>R.jsxs("group",{children:[R.jsxs("mesh",{position:[0,S(L),-y/2],children:[R.jsx("boxGeometry",{args:[m,.04,.04]}),R.jsx("primitive",{object:c.clone(),attach:"material"})]}),R.jsxs("mesh",{position:[0,S(L),y/2],children:[R.jsx("boxGeometry",{args:[m,.04,.04]}),R.jsx("primitive",{object:c.clone(),attach:"material"})]}),R.jsxs("mesh",{position:[-m/2,S(L),0],children:[R.jsx("boxGeometry",{args:[.04,.04,y]}),R.jsx("primitive",{object:c.clone(),attach:"material"})]}),R.jsxs("mesh",{position:[m/2,S(L),0],children:[R.jsx("boxGeometry",{args:[.04,.04,y]}),R.jsx("primitive",{object:c.clone(),attach:"material"})]})]},`nivel-${L}`)),t.filas.slice(0,E).map((T,L)=>{const[P,N,z]=M(L),F=C([P,N,z]);return R.jsx(ETe,{fila:T,posicion:[P,N,z],estanteId:t.id,onDelete:a,onFilaClick:I=>r(t.id,I,F),material:f,isSelected:s===T.id},T.id)}),R.jsxs("mesh",{position:[-m/2+.05,v/2,y/2+.01],children:[R.jsx("sphereGeometry",{args:[.08,16,16]}),R.jsx("meshStandardMaterial",{color:d()})]}),n&&R.jsx(oX,{position:[0,v*1.5,0],pointerEvents:"none",children:R.jsxs("div",{className:"flex gap-2 bg-black bg-opacity-70 rounded-lg p-2 shadow-xl",children:[R.jsx("button",{onClick:T=>{T.stopPropagation(),e(t)},className:"p-1 bg-blue-500 hover:bg-blue-600 rounded text-white transition-all",title:"Ver detalles",style:{pointerEvents:"auto"},children:R.jsx(Kx,{size:16})}),R.jsx("button",{onClick:T=>{T.stopPropagation(),i(t.id)},className:"p-1 bg-red-500 hover:bg-red-600 rounded text-white transition-all",title:"Eliminar estante",style:{pointerEvents:"auto"},children:R.jsx($x,{size:16})})]})}),n&&R.jsxs("mesh",{position:[0,-v/2,0],rotation:[-Math.PI/2,0,0],children:[R.jsx("ringGeometry",{args:[m/2,m/2+.1,32]}),R.jsx("meshBasicMaterial",{color:"#3b82f6",transparent:!0,opacity:.4})]})]})}function ATe({modo:t,onModoChange:e,onCrearEstante:n,onCrearFila:i,estanteSeleccionado:r,filaSeleccionada:a,onDesenfocar:s,estantes:o,onToggleLuz:c,onToggleRiego:f}){return R.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-xl shadow-2xl border border-gray-200 p-4 min-w-80 max-w-96 z-20",children:[R.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2 border-b pb-3",children:[R.jsx(Ay,{size:20,className:"text-blue-500"}),"Panel de Control IoT"]}),R.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[R.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center shadow-inner",children:[R.jsx("div",{className:"text-sm text-gray-600",children:"Estantes"}),R.jsx("div",{className:"font-bold text-lg",children:o.length})]}),R.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg text-center shadow-inner",children:[R.jsx("div",{className:"text-sm text-gray-600",children:"Filas Totales"}),R.jsx("div",{className:"font-bold text-lg",children:o.reduce((d,m)=>d+m.filas.length,0)})]})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modo de Interaccin"}),R.jsx("div",{className:"flex gap-2",children:[{id:"monitoreo",icon:Kx,label:"Monitoreo"},{id:"edicion",icon:EO,label:"Edicin"}].map(d=>R.jsxs("button",{onClick:()=>e(d.id),className:`flex-1 flex items-center justify-center gap-1 p-2 rounded-lg border transition-all shadow-sm ${t===d.id?"bg-indigo-500 border-indigo-700 text-white shadow-indigo-300":"bg-gray-100 border-gray-300 text-gray-600 hover:bg-gray-200"}`,children:[R.jsx(d.icon,{size:14}),R.jsx("span",{className:"text-xs",children:d.label})]},d.id))})]}),r&&R.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 mb-4 shadow-md",children:[R.jsxs("h3",{className:"font-semibold text-blue-900 text-sm mb-1 flex items-center justify-between",children:[R.jsx(AL,{size:14,className:"mr-1"})," ",r.nombre,R.jsx("button",{onClick:s,className:"p-1 bg-gray-300 hover:bg-gray-400 rounded-full text-gray-700 transition-all",title:"Volver a vista general",children:R.jsx(QY,{size:14})})]}),R.jsxs("div",{className:"text-blue-700 text-xs space-y-1 mt-2",children:[R.jsxs("div",{children:["Cdigo: ",r.numero]}),R.jsxs("div",{children:["Capacidad: ",r.filas.length,"/4 Filas"]})]}),R.jsx("div",{className:"flex gap-2 mt-3",children:R.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-1 p-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors text-xs shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:t==="monitoreo"||r.filas.length>=4,children:[R.jsx(ox,{size:14}),"Aadir Fila"]})})]}),a&&R.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-300 mb-4 shadow-md",children:[R.jsxs("h4",{className:"font-semibold text-yellow-900 text-sm mb-2 flex items-center gap-2",children:[R.jsx(AL,{size:14})," Fila Enfocada: ",a.numero]}),R.jsx("div",{className:"text-yellow-700 text-xs space-y-1 mb-3 border-b pb-2",children:R.jsxs("div",{children:["Cultivo: ",R.jsx("span",{className:"font-medium",children:a.tipoCultivo})]})}),R.jsxs("div",{className:"space-y-2 pt-2",children:[R.jsx("div",{className:"text-xs font-medium text-yellow-900 mb-2",children:"Controles IoT"}),R.jsxs("button",{onClick:c,className:`w-full flex items-center justify-between p-2 rounded-lg font-medium transition-colors text-xs shadow-sm disabled:opacity-50 ${a.luzEncendida?"bg-yellow-400 hover:bg-yellow-500 text-yellow-900":"bg-gray-300 hover:bg-gray-400 text-gray-700"}`,disabled:t==="monitoreo",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[a.luzEncendida?R.jsx(wC,{size:14}):R.jsx(UK,{size:14}),R.jsx("span",{children:"Luz LED"})]}),R.jsx("span",{className:"font-bold",children:a.luzEncendida?"ON":"OFF"})]}),R.jsxs("button",{className:`w-full flex items-center justify-between p-2 rounded-lg font-medium transition-colors text-xs shadow-sm disabled:opacity-50 ${a.riegoActivo?"bg-blue-400 hover:bg-blue-500 text-blue-900":"bg-gray-300 hover:bg-gray-400 text-gray-700"}`,disabled:t==="monitoreo",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(AP,{size:14}),R.jsx("span",{children:"Sistema de Riego"})]}),R.jsx("span",{className:"font-bold",children:a.riegoActivo?"ABIERTO":"CERRADO"})]})]})]}),R.jsx("div",{className:"space-y-2 pt-4 border-t border-gray-100",children:R.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold transition-colors text-sm shadow-lg shadow-indigo-500/50 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:t==="monitoreo",children:[R.jsx(ox,{size:16}),"Agregar Nuevo Estante 3D"]})})]})}function TTe(){const[t,e]=U.useState([]),[n,i]=U.useState("monitoreo"),[r,a]=U.useState(null),[s,o]=U.useState(null),[c,f]=U.useState(null),d=3.5,m=P=>[P*d,.75,0];U.useEffect(()=>{const P=[{id:1,nombre:"Estante Principal",numero:"EST-001",estado:"activo",posicion:m(0),rotacion:[0,0,0],dimensiones:{ancho:2,alto:1.5,profundidad:.8},filas:[{id:1,numero:1,tipoCultivo:"Tomates",luzEncendida:!0,riegoActivo:!1},{id:2,numero:2,tipoCultivo:"Lechugas",luzEncendida:!1,riegoActivo:!0},{id:3,numero:3,tipoCultivo:"Fresas",luzEncendida:!0,riegoActivo:!1}]},{id:2,nombre:"Estante Secundario",numero:"EST-002",estado:"mantenimiento",posicion:m(1),rotacion:[0,0,0],dimensiones:{ancho:1.8,alto:1.2,profundidad:.6},filas:[{id:4,numero:1,tipoCultivo:"Experimentales",luzEncendida:!1,riegoActivo:!1}]}];e(P)},[]);const v=P=>{a(P),o(null),f([P.posicion[0],P.posicion[1],P.posicion[2]])},y=()=>{if(n==="monitoreo")return;const P=t.length,N={id:Date.now(),nombre:`Estante ${P+1}`,numero:`EST-${String(P+1).padStart(3,"0")}`,estado:"activo",posicion:m(P),rotacion:[0,0,0],dimensiones:{ancho:2,alto:1.5,profundidad:.8},filas:[]};e(z=>[...z,N]),v(N)},_=P=>{n==="monitoreo"||!window.confirm("Ests seguro de que quieres eliminar este estante?")||(e(N=>N.filter(F=>F.id!==P).map((F,I)=>({...F,posicion:m(I)}))),r?.id===P&&C())},E=(P,N,z)=>{const F=t.find(j=>j.id===P),I=F?.filas.find(j=>j.id===N);F&&I&&(a(F),o(I),f(z))},S=()=>{if(!r||n==="monitoreo"||r.filas.length>=4)return;const P={id:Date.now(),numero:r.filas.length+1,tipoCultivo:"Nuevo Cultivo",luzEncendida:!1,riegoActivo:!1};e(N=>N.map(z=>{if(z.id===r.id){const F={...z,filas:[...z.filas,P]};return a(F),F}return z})),o(P)},M=(P,N)=>{if(n==="monitoreo")return;const F=t.find(I=>I.id===P)?.filas.find(I=>I.id===N);window.confirm(`Ests seguro de que quieres eliminar la Fila ${F?.numero}?`)&&e(I=>I.map(j=>{if(j.id===P){const k=j.filas.filter(ee=>ee.id!==N).map((ee,re)=>({...ee,numero:re+1})),Z={...j,filas:k};return r?.id===P&&a(Z),s?.id===N&&(o(null),f([j.posicion[0],j.posicion[1],j.posicion[2]])),Z}return j}))},C=()=>{a(null),o(null),f(null)},T=()=>{!s||!r||e(P=>P.map(N=>{if(N.id===r.id){const z=N.filas.map(I=>I.id===s.id?{...I,luzEncendida:!I.luzEncendida}:I),F={...N,filas:z};return a(F),o(z.find(I=>I.id===s.id)||null),F}return N}))},L=()=>{!s||!r||e(P=>P.map(N=>{if(N.id===r.id){const z=N.filas.map(I=>I.id===s.id?{...I,riegoActivo:!I.riegoActivo}:I),F={...N,filas:z};return a(F),o(z.find(I=>I.id===s.id)||null),F}return N}))};return R.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-gray-900 to-gray-800 relative",style:{height:"calc(100vh - 80px)"},children:[R.jsx(Zx,{}),R.jsxs("div",{className:"flex-1 w-full bg-gradient-to-br from-gray-900 to-gray-800 relative",style:{height:"calc(100vh - 80px)"},children:[R.jsxs(QAe,{camera:{position:[5,5,15],fov:50},style:{width:"100%",height:"100%"},children:[R.jsx("ambientLight",{intensity:.6}),R.jsx("pointLight",{position:[10,10,10],intensity:.8}),R.jsx("spotLight",{position:[0,10,0],intensity:.5,angle:.3}),R.jsx(gTe,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:3,maxDistance:50}),c&&R.jsx(MTe,{targetPosition:c,active:!!c}),R.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-1,0],children:[R.jsx("planeGeometry",{args:[50,50]}),R.jsx("meshStandardMaterial",{color:"#374151",transparent:!0,opacity:.5})]}),t.map(P=>R.jsx(wTe,{estante:P,onEstanteClick:v,isSelected:r?.id===P.id,onDelete:_,onFilaClick:E,onDeleteFila:M,filaSeleccionadaId:s?.id||null},P.id))]}),R.jsx(ATe,{modo:n,onModoChange:i,onCrearEstante:y,onCrearFila:S,estanteSeleccionado:r||void 0,filaSeleccionada:s||void 0,onDesenfocar:C,estantes:t,onToggleLuz:T,onToggleRiego:L}),R.jsx("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-3 rounded-lg z-10",children:R.jsxs("div",{className:"text-sm space-y-1",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),R.jsxs("span",{children:["Activos: ",t.filter(P=>P.estado==="activo").length]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),R.jsxs("span",{children:["Mantenimiento: ",t.filter(P=>P.estado==="mantenimiento").length]})]}),R.jsxs("div",{className:"text-xs text-gray-300 mt-2",children:["Modo: ",n]})]})}),R.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white p-3 rounded-lg text-sm max-w-lg text-center z-10",children:s?`Fila ${s.numero} enfocada. Usa los controles IoT o el botn de eliminar en la fila.`:r?`Estante "${r.nombre}" seleccionado. Haz clic en una fila para enfocarla y controlarla.`:"Haz clic en un estante para seleccionarlo. Luego selecciona una fila para controlar sus dispositivos IoT."})]})]})}function CTe(){return R.jsx(wY,{children:R.jsx(mY,{basename:"/iot-lab-system/",children:R.jsxs(XW,{children:[R.jsx(Uu,{path:"/",element:R.jsx(mZ,{})}),R.jsx(Uu,{path:"/dashboard",element:R.jsx(jK,{})}),R.jsx(Uu,{path:"/users",element:R.jsx(xZ,{})}),R.jsx(Uu,{path:"/laboratory",element:R.jsx(bye,{})}),R.jsx(Uu,{path:"/air",element:R.jsx(YH,{})}),R.jsx(Uu,{path:"/laboratories-management",element:R.jsx(_ye,{})}),R.jsx(Uu,{path:"/estante-3d",element:R.jsx(TTe,{})}),R.jsx(Uu,{path:"/laboratorios/:id",element:R.jsx("h1",{children:"Detalle de laboratorio"})})]})})})}c6.createRoot(document.getElementById("root")).render(R.jsx(U.StrictMode,{children:R.jsx(CTe,{})}));
